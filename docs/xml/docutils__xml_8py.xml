<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="docutils__xml_8py" kind="file" language="Python">
    <compoundname>docutils_xml.py</compoundname>
    <innerclass refid="classdocutils_1_1writers_1_1docutils__xml_1_1RawXmlError" prot="public">docutils::writers::docutils_xml::RawXmlError</innerclass>
    <innerclass refid="classdocutils_1_1writers_1_1docutils__xml_1_1Writer" prot="public">docutils::writers::docutils_xml::Writer</innerclass>
    <innerclass refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator" prot="public">docutils::writers::docutils_xml::XMLTranslator</innerclass>
    <innerclass refid="classdocutils_1_1writers_1_1docutils__xml_1_1TestXml" prot="public">docutils::writers::docutils_xml::TestXml</innerclass>
    <innernamespace refid="namespacedocutils">docutils</innernamespace>
    <innernamespace refid="namespacedocutils_1_1writers">docutils::writers</innernamespace>
    <innernamespace refid="namespacedocutils_1_1writers_1_1docutils__xml">docutils::writers::docutils_xml</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacedocutils_1_1writers_1_1docutils__xml" refkind="compound"><highlight class="comment">#<sp/>$Id:<sp/>docutils_xml.py<sp/>9502<sp/>2023-12-14<sp/>22:39:08Z<sp/>milde<sp/>$</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Author:<sp/>David<sp/>Goodger,<sp/>Paul<sp/>Tremblay,<sp/>Guenter<sp/>Milde</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Maintainer:<sp/>docutils-develop@lists.sourceforge.net</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Copyright:<sp/>This<sp/>module<sp/>has<sp/>been<sp/>placed<sp/>in<sp/>the<sp/>public<sp/>domain.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral">Simple<sp/>document<sp/>tree<sp/>Writer,<sp/>writes<sp/>Docutils<sp/>XML<sp/>according<sp/>to</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral">https://docutils.sourceforge.io/docs/ref/docutils.dtd.</highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal">__docformat__<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;reStructuredText&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>io<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>StringIO</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>xml.sax.saxutils</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>docutils</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>docutils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>frontend,<sp/>nodes,<sp/>writers,<sp/>utils</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20" refid="classdocutils_1_1writers_1_1docutils__xml_1_1RawXmlError" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1RawXmlError" kindref="compound">RawXmlError</ref>(<ref refid="classdocutils_1_1ApplicationError" kindref="compound">docutils.ApplicationError</ref>):</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24" refid="classdocutils_1_1writers_1_1docutils__xml_1_1Writer" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1Writer" kindref="compound">Writer</ref>(<ref refid="classdocutils_1_1writers_1_1Writer" kindref="compound">writers.Writer</ref>):</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/>supported<sp/>=<sp/>(</highlight><highlight class="stringliteral">&apos;xml&apos;</highlight><highlight class="normal">,)</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Formats<sp/>this<sp/>writer<sp/>supports.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/>settings_spec<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&quot;Docutils<sp/>XML&quot;<sp/>Writer<sp/>Options&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((</highlight><highlight class="stringliteral">&apos;Generate<sp/>XML<sp/>with<sp/>newlines<sp/>before<sp/>and<sp/>after<sp/>tags.&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--newlines&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_true&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;validator&apos;</highlight><highlight class="normal">:<sp/>frontend.validate_boolean}),</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Generate<sp/>XML<sp/>with<sp/>indents<sp/>and<sp/>newlines.&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--indents&apos;</highlight><highlight class="normal">],<sp/><sp/></highlight><highlight class="comment">#<sp/>TODO<sp/>use<sp/>integer<sp/>value<sp/>for<sp/>number<sp/>of<sp/>spaces?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_true&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;validator&apos;</highlight><highlight class="normal">:<sp/>frontend.validate_boolean}),</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Omit<sp/>the<sp/>XML<sp/>declaration.<sp/><sp/>Use<sp/>with<sp/>caution.&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--no-xml-declaration&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;dest&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;xml_declaration&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;default&apos;</highlight><highlight class="normal">:<sp/>1,<sp/></highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_false&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;validator&apos;</highlight><highlight class="normal">:<sp/>frontend.validate_boolean}),</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Omit<sp/>the<sp/>DOCTYPE<sp/>declaration.&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--no-doctype&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;dest&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;doctype_declaration&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;default&apos;</highlight><highlight class="normal">:<sp/>1,</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_false&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;validator&apos;</highlight><highlight class="normal">:<sp/>frontend.validate_boolean}),))</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>settings_defaults<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;output_encoding_error_handler&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;xmlcharrefreplace&apos;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>config_section<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;docutils_xml<sp/>writer&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>config_section_dependencies<sp/>=<sp/>(</highlight><highlight class="stringliteral">&apos;writers&apos;</highlight><highlight class="normal">,)</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>output<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Final<sp/>translated<sp/>form<sp/>of<sp/>`document`.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1Writer_1a661377fee30e697d734f1856778128b8" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>writers.Writer.__init__(self)</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.translator_class<sp/>=<sp/>XMLTranslator</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1Writer_1a2d09a847d857e6e65e2d7325a4688dbf" kindref="member">translate</ref>(self):</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.visitor<sp/>=<sp/>visitor<sp/>=<sp/>self.translator_class(self.document)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.document.walkabout(visitor)</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.output<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">.join(visitor.output)</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65" refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator" kindref="compound">XMLTranslator</ref>(<ref refid="classdocutils_1_1nodes_1_1GenericNodeVisitor" kindref="compound">nodes.GenericNodeVisitor</ref>):</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>TODO:<sp/>add<sp/>stylesheet<sp/>options<sp/>similar<sp/>to<sp/>HTML<sp/>and<sp/>LaTeX<sp/>writers?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>xml_stylesheet<sp/>=<sp/>&apos;&lt;?xml-stylesheet<sp/>type=&quot;text/xsl&quot;<sp/>href=&quot;%s&quot;?&gt;\n&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>doctype<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&lt;!DOCTYPE<sp/>document<sp/>PUBLIC&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;<sp/>&quot;+//IDN<sp/>docutils.sourceforge.net//DTD<sp/>Docutils<sp/>Generic//EN//XML&quot;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;<sp/>&quot;http://docutils.sourceforge.net/docs/ref/docutils.dtd&quot;&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>generator<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&lt;!--<sp/>Generated<sp/>by<sp/>Docutils<sp/>%s<sp/>--&gt;\n&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>xmlparser<sp/>=<sp/>xml.sax.make_parser()</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;SAX<sp/>parser<sp/>instance<sp/>to<sp/>check/extract<sp/>raw<sp/>XML.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>xmlparser.setFeature(</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;http://xml.org/sax/features/external-general-entities&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1af67bcb541f844e5202410e8d88062804" kindref="member">__init__</ref>(self,<sp/>document):</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nodes.NodeVisitor.__init__(self,<sp/>document)</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Reporter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a2dfb0237a981469949d6dc6e49d66762" kindref="member">warn</ref><sp/>=<sp/>self.<ref refid="classdocutils_1_1nodes_1_1NodeVisitor_1a3c594de0457219c7836d4c53d9398cdc" kindref="member">document</ref>.reporter.warning</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a057d47670f0b06cacc254acf8d14a437" kindref="member">error</ref><sp/>=<sp/>self.<ref refid="classdocutils_1_1nodes_1_1NodeVisitor_1a3c594de0457219c7836d4c53d9398cdc" kindref="member">document</ref>.reporter.error</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Settings</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a512c5cf8ec9b0e9b3dd9ea82615eb046" kindref="member">settings</ref><sp/>=<sp/>settings<sp/>=<sp/>document.settings</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a75b0db96b0e7fc979b20beb188107f9f" kindref="member">indent</ref><sp/>=<sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a51218396c08f74c61e7a3d4f46ba06d6" kindref="member">newline</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>settings.newlines:</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a51218396c08f74c61e7a3d4f46ba06d6" kindref="member">newline</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>settings.indents:</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a51218396c08f74c61e7a3d4f46ba06d6" kindref="member">newline</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a75b0db96b0e7fc979b20beb188107f9f" kindref="member">indent</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;<sp/><sp/><sp/><sp/>&apos;</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>TODO<sp/>make<sp/>this<sp/>configurable?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1af1b97cb0575bf84d100458ecd6249de6" kindref="member">level</ref><sp/>=<sp/>0<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>indentation<sp/>level</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa4c7a78825dc29dc80d1a2b662311ff7" kindref="member">in_simple</ref><sp/>=<sp/>0<sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>level<sp/>of<sp/>nesting<sp/>inside<sp/>mixed-content<sp/>elements</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a9372244433855689c8e4b133622cf21c" kindref="member">fixed_text</ref><sp/>=<sp/>0<sp/><sp/></highlight><highlight class="comment">#<sp/>level<sp/>of<sp/>nesting<sp/>inside<sp/>FixedText<sp/>elements</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Output</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>settings.xml_declaration:</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(utils.xml_declaration(settings.output_encoding))</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>settings.doctype_declaration:</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a1f687c9a887c75fe36b5e67ddb8983f4" kindref="member">doctype</ref><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a53a779a2914116e02da8d485780a8be4" kindref="member">doctype</ref>)</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a835cd8428e610330b321639b9b1c2d83" kindref="member">generator</ref><sp/>%<sp/>docutils.__version__)</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>initialize<sp/>XML<sp/>parser</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a103da6e57a391730166e62f71079dd59" kindref="member">the_handle</ref><sp/>=<sp/><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1TestXml" kindref="compound">TestXml</ref>()</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a78111e5502875357867c82913e3e472d" kindref="member">xmlparser</ref>.setContentHandler(self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a103da6e57a391730166e62f71079dd59" kindref="member">the_handle</ref>)</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>generic<sp/>visit<sp/>and<sp/>depart<sp/>methods</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>--------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>simple_nodes<sp/>=<sp/>(<ref refid="classdocutils_1_1nodes_1_1TextElement" kindref="compound">nodes.TextElement</ref>,<sp/><ref refid="classdocutils_1_1nodes_1_1meta" kindref="compound">nodes.meta</ref>,</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdocutils_1_1nodes_1_1image" kindref="compound">nodes.image</ref>,<sp/><ref refid="classdocutils_1_1nodes_1_1colspec" kindref="compound">nodes.colspec</ref>,<sp/><ref refid="classdocutils_1_1nodes_1_1transition" kindref="compound">nodes.transition</ref>)</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a3b7332e42513220ed0dcdc22ad2ed907" kindref="member">default_visit</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Default<sp/>node<sp/>visit<sp/>method.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa4c7a78825dc29dc80d1a2b662311ff7" kindref="member">in_simple</ref>:</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a75b0db96b0e7fc979b20beb188107f9f" kindref="member">indent</ref>*self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1af1b97cb0575bf84d100458ecd6249de6" kindref="member">level</ref>)</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(node.starttag(xml.sax.saxutils.quoteattr))</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1af1b97cb0575bf84d100458ecd6249de6" kindref="member">level</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>`nodes.literal`<sp/>is<sp/>not<sp/>an<sp/>instance<sp/>of<sp/>FixedTextElement<sp/>by<sp/>design,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>see<sp/>docs/ref/rst/restructuredtext.html#inline-literals</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(node,<sp/>(<ref refid="classdocutils_1_1nodes_1_1FixedTextElement" kindref="compound">nodes.FixedTextElement</ref>,<sp/><ref refid="classdocutils_1_1nodes_1_1literal" kindref="compound">nodes.literal</ref>)):</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a9372244433855689c8e4b133622cf21c" kindref="member">fixed_text</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(node,<sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a0be82b0f1c6ebf820764891e1b3204a5" kindref="member">simple_nodes</ref><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa7036b1054dded6a2d1ff1528051ffda" kindref="member">simple_nodes</ref>):</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa4c7a78825dc29dc80d1a2b662311ff7" kindref="member">in_simple</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa4c7a78825dc29dc80d1a2b662311ff7" kindref="member">in_simple</ref>:</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a51218396c08f74c61e7a3d4f46ba06d6" kindref="member">newline</ref>)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aad0c49e44c868779715fa45babec0ee7" kindref="member">default_departure</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Default<sp/>node<sp/>depart<sp/>method.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1af1b97cb0575bf84d100458ecd6249de6" kindref="member">level</ref><sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa4c7a78825dc29dc80d1a2b662311ff7" kindref="member">in_simple</ref>:</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a75b0db96b0e7fc979b20beb188107f9f" kindref="member">indent</ref>*self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1af1b97cb0575bf84d100458ecd6249de6" kindref="member">level</ref>)</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(node.endtag())</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(node,<sp/>(<ref refid="classdocutils_1_1nodes_1_1FixedTextElement" kindref="compound">nodes.FixedTextElement</ref>,<sp/><ref refid="classdocutils_1_1nodes_1_1literal" kindref="compound">nodes.literal</ref>)):</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a9372244433855689c8e4b133622cf21c" kindref="member">fixed_text</ref><sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(node,<sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a0be82b0f1c6ebf820764891e1b3204a5" kindref="member">simple_nodes</ref><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa7036b1054dded6a2d1ff1528051ffda" kindref="member">simple_nodes</ref>):</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa4c7a78825dc29dc80d1a2b662311ff7" kindref="member">in_simple</ref><sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1aa4c7a78825dc29dc80d1a2b662311ff7" kindref="member">in_simple</ref>:</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a51218396c08f74c61e7a3d4f46ba06d6" kindref="member">newline</ref>)</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>specific<sp/>visit<sp/>and<sp/>depart<sp/>methods</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>---------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1ac277c746db255caf1236376d4984fb96" kindref="member">visit_Text</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/>xml.sax.saxutils.escape(node.astext())</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>indent<sp/>text<sp/>if<sp/>we<sp/>are<sp/>not<sp/>in<sp/>a<sp/>FixedText<sp/>element:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a9372244433855689c8e4b133622cf21c" kindref="member">fixed_text</ref>:</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/>text.replace(</highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">+self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a75b0db96b0e7fc979b20beb188107f9f" kindref="member">indent</ref>*self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1af1b97cb0575bf84d100458ecd6249de6" kindref="member">level</ref>)</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a5cfde5ee325c5308a7d6b343640aa3e8" kindref="member">output</ref>.append(text)</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a20bb247fa87ea2d018f5897b2ceb9849" kindref="member">depart_Text</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1XMLTranslator_1a1cef63a46b36029963fa21c1b39cc79e" kindref="member">visit_raw</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;xml&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>node.get(</highlight><highlight class="stringliteral">&apos;format&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">).split():</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>skip<sp/>other<sp/>raw<sp/>content?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>raise<sp/>nodes.SkipNode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.default_visit(node)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>wrap<sp/>in<sp/>&lt;raw&gt;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.default_visit(node)<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>or<sp/>not?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xml_string<sp/>=<sp/>node.astext()</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.output.append(xml_string)</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.default_departure(node)<sp/><sp/></highlight><highlight class="comment">#<sp/>or<sp/>not?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Check<sp/>validity<sp/>of<sp/>raw<sp/>XML:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.xmlparser.parse(StringIO(xml_string))</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>xml.sax._exceptions.SAXParseException:</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>col_num<sp/>=<sp/>self.the_handle.locator.getColumnNumber()</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>line_num<sp/>=<sp/>self.the_handle.locator.getLineNumber()</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>srcline<sp/>=<sp/>node.line</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(node.parent,<sp/>nodes.TextElement):</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>srcline<sp/>+=<sp/>2<sp/><sp/></highlight><highlight class="comment">#<sp/>directive<sp/>content<sp/>start<sp/>line</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Invalid<sp/>raw<sp/>XML<sp/>in<sp/>column<sp/>%d,<sp/>line<sp/>offset<sp/>%d:\n%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>col_num,<sp/>line_num,<sp/>node.astext())</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.warn(msg,<sp/>source=node.source,<sp/>line=srcline+line_num-1)</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>nodes.SkipNode<sp/><sp/></highlight><highlight class="comment">#<sp/>content<sp/>already<sp/>processed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184" refid="classdocutils_1_1writers_1_1docutils__xml_1_1TestXml" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1TestXml" kindref="compound">TestXml</ref>(xml.sax.handler.ContentHandler):</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1TestXml_1a92cb6514b6e4db0ea8f3d02f6f958fd1" kindref="member">setDocumentLocator</ref>(self,<sp/>locator):</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1docutils__xml_1_1TestXml_1a75f6bf6fd09358a8c2b09618ea74436b" kindref="member">locator</ref><sp/>=<sp/>locator</highlight></codeline>
    </programlisting>
    <location file="venv/lib/python3.12/site-packages/docutils/writers/docutils_xml.py"/>
  </compounddef>
</doxygen>
