<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="docutils_2writers_2html5__polyglot_2____init_____8py" kind="file" language="Python">
    <compoundname>__init__.py</compoundname>
    <innerclass refid="classdocutils_1_1writers_1_1html5__polyglot_1_1Writer" prot="public">docutils::writers::html5_polyglot::Writer</innerclass>
    <innerclass refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator" prot="public">docutils::writers::html5_polyglot::HTMLTranslator</innerclass>
    <innernamespace refid="namespacedocutils">docutils</innernamespace>
    <innernamespace refid="namespacedocutils_1_1writers">docutils::writers</innernamespace>
    <innernamespace refid="namespacedocutils_1_1writers_1_1html5__polyglot">docutils::writers::html5_polyglot</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacedocutils_1_1writers_1_1html5__polyglot" refkind="compound"><highlight class="comment">#<sp/>$Id:<sp/>__init__.py<sp/>9539<sp/>2024-02-17<sp/>10:36:51Z<sp/>milde<sp/>$</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">#<sp/>:Author:<sp/>Günter<sp/>Milde<sp/>&lt;milde@users.sf.net&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Based<sp/>on<sp/>the<sp/>html4css1<sp/>writer<sp/>by<sp/>David<sp/>Goodger.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="comment">#<sp/>:Maintainer:<sp/>docutils-develop@lists.sourceforge.net</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">#<sp/>:Copyright:<sp/>©<sp/>2005,<sp/>2009,<sp/>2015<sp/>Günter<sp/>Milde,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>portions<sp/>from<sp/>html4css1<sp/>©<sp/>David<sp/>Goodger.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">#<sp/>:License:<sp/>Released<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>`2-Clause<sp/>BSD<sp/>license`_,<sp/>in<sp/>short:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>Copying<sp/>and<sp/>distribution<sp/>of<sp/>this<sp/>file,<sp/>with<sp/>or<sp/>without<sp/>modification,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>are<sp/>permitted<sp/>in<sp/>any<sp/>medium<sp/>without<sp/>royalty<sp/>provided<sp/>the<sp/>copyright</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>notice<sp/>and<sp/>this<sp/>notice<sp/>are<sp/>preserved.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>This<sp/>file<sp/>is<sp/>offered<sp/>as-is,<sp/>without<sp/>any<sp/>warranty.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">#<sp/>..<sp/>_2-Clause<sp/>BSD<sp/>license:<sp/>https://opensource.org/licenses/BSD-2-Clause</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Use<sp/>&quot;best<sp/>practice&quot;<sp/>as<sp/>recommended<sp/>by<sp/>the<sp/>W3C:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">#<sp/>http://www.w3.org/2009/cheatsheet/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="20"><highlight class="stringliteral">Plain<sp/>HyperText<sp/>Markup<sp/>Language<sp/>document<sp/>tree<sp/>Writer.</highlight></codeline>
<codeline lineno="21"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="22"><highlight class="stringliteral">The<sp/>output<sp/>conforms<sp/>to<sp/>the<sp/>`HTML<sp/>5`<sp/>specification.</highlight></codeline>
<codeline lineno="23"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="24"><highlight class="stringliteral">The<sp/>cascading<sp/>style<sp/>sheet<sp/>&quot;minimal.css&quot;<sp/>is<sp/>required<sp/>for<sp/>proper<sp/>viewing,</highlight></codeline>
<codeline lineno="25"><highlight class="stringliteral">the<sp/>style<sp/>sheet<sp/>&quot;plain.css&quot;<sp/>improves<sp/>reading<sp/>experience.</highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal">__docformat__<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;reStructuredText&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>pathlib<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Path</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>docutils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>frontend,<sp/>nodes</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacedocutils_1_1writers" kindref="compound">docutils.writers</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>_html_base</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35" refid="classdocutils_1_1writers_1_1html5__polyglot_1_1Writer" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1Writer" kindref="compound">Writer</ref>(<ref refid="classdocutils_1_1writers_1_1__html__base_1_1Writer" kindref="compound">_html_base.Writer</ref>):</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>supported<sp/>=<sp/>(</highlight><highlight class="stringliteral">&apos;html5&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;xhtml&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;html&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Formats<sp/>this<sp/>writer<sp/>supports.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>default_stylesheets<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;minimal.css&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;plain.css&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>default_stylesheet_dirs<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">,<sp/>str(Path(__file__).parent)]</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>default_template<sp/>=<sp/>Path(__file__).parent<sp/>/<sp/></highlight><highlight class="stringliteral">&apos;template.txt&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>parent<sp/>spec<sp/>with<sp/>some<sp/>modifications</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>settings_spec<sp/>=<sp/>frontend.filter_settings_spec(</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_html_base.Writer.settings_spec,</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>template=(</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&apos;Template<sp/>file.<sp/>(UTF-8<sp/>encoded,<sp/>default:<sp/>&quot;{default_template}&quot;)&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--template&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;default&apos;</highlight><highlight class="normal">:<sp/>default_template,<sp/></highlight><highlight class="stringliteral">&apos;metavar&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;&lt;file&gt;&apos;</highlight><highlight class="normal">}),</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stylesheet_path=(</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Comma<sp/>separated<sp/>list<sp/>of<sp/>stylesheet<sp/>paths.<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Relative<sp/>paths<sp/>are<sp/>expanded<sp/>if<sp/>a<sp/>matching<sp/>file<sp/>is<sp/>found<sp/>in<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;the<sp/>--stylesheet-dirs.<sp/>With<sp/>--link-stylesheet,<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;the<sp/>path<sp/>is<sp/>rewritten<sp/>relative<sp/>to<sp/>the<sp/>output<sp/>HTML<sp/>file.<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;(default:<sp/>&quot;%s&quot;)&apos;</highlight><highlight class="normal"><sp/>%<sp/></highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">.join(default_stylesheets),</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--stylesheet-path&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;metavar&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;&lt;file[,file,...]&gt;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;overrides&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;stylesheet&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;validator&apos;</highlight><highlight class="normal">:<sp/>frontend.validate_comma_separated_list,</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;default&apos;</highlight><highlight class="normal">:<sp/>default_stylesheets}),</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stylesheet_dirs=(</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Comma-separated<sp/>list<sp/>of<sp/>directories<sp/>where<sp/>stylesheets<sp/>are<sp/>found.<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Used<sp/>by<sp/>--stylesheet-path<sp/>when<sp/>expanding<sp/>relative<sp/>path<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;arguments.<sp/>(default:<sp/>&quot;%s&quot;)&apos;</highlight><highlight class="normal"><sp/>%<sp/></highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">.join(default_stylesheet_dirs),</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--stylesheet-dirs&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;metavar&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;&lt;dir[,dir,...]&gt;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;validator&apos;</highlight><highlight class="normal">:<sp/>frontend.validate_comma_separated_list,</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;default&apos;</highlight><highlight class="normal">:<sp/>default_stylesheet_dirs}),</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>initial_header_level=(</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Specify<sp/>the<sp/>initial<sp/>header<sp/>level.<sp/>Does<sp/>not<sp/>affect<sp/>document<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;title<sp/>&amp;<sp/>subtitle<sp/>(see<sp/>--no-doc-title).<sp/>(default:<sp/>2<sp/>for<sp/>&quot;&lt;h2&gt;&quot;)&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--initial-header-level&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;choices&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;1<sp/>2<sp/>3<sp/>4<sp/>5<sp/>6&apos;</highlight><highlight class="normal">.split(),<sp/></highlight><highlight class="stringliteral">&apos;default&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;2&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;metavar&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;&lt;level&gt;&apos;</highlight><highlight class="normal">}),</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>no_xml_declaration=(</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Omit<sp/>the<sp/>XML<sp/>declaration<sp/>(default).&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--no-xml-declaration&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;dest&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;xml_declaration&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_false&apos;</highlight><highlight class="normal">}),</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>settings_spec<sp/>=<sp/>settings_spec<sp/>+<sp/>(</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;HTML5<sp/>Writer<sp/>Options&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>((frontend.SUPPRESS_HELP,<sp/><sp/></highlight><highlight class="comment">#<sp/>Obsoleted<sp/>by<sp/>&quot;--image-loading&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--embed-images&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_true&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;validator&apos;</highlight><highlight class="normal">:<sp/>frontend.validate_boolean}),</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(frontend.SUPPRESS_HELP,<sp/><sp/></highlight><highlight class="comment">#<sp/>Obsoleted<sp/>by<sp/>&quot;--image-loading&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--link-images&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;dest&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;embed_images&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_false&apos;</highlight><highlight class="normal">}),</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Suggest<sp/>at<sp/>which<sp/>point<sp/>images<sp/>should<sp/>be<sp/>loaded:<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&quot;embed&quot;,<sp/>&quot;link&quot;<sp/>(default),<sp/>or<sp/>&quot;lazy&quot;.&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--image-loading&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;choices&apos;</highlight><highlight class="normal">:<sp/>(</highlight><highlight class="stringliteral">&apos;embed&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;link&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;lazy&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&apos;default&apos;:<sp/>&apos;link&apos;<sp/><sp/>#<sp/>default<sp/>set<sp/>in<sp/>_html_base.py</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}),</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Append<sp/>a<sp/>self-link<sp/>to<sp/>section<sp/>headings.&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--section-self-link&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;default&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_true&apos;</highlight><highlight class="normal">}),</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Do<sp/>not<sp/>append<sp/>a<sp/>self-link<sp/>to<sp/>section<sp/>headings.<sp/>(default)&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[</highlight><highlight class="stringliteral">&apos;--no-section-self-link&apos;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight><highlight class="stringliteral">&apos;dest&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;section_self_link&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;action&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;store_false&apos;</highlight><highlight class="normal">}),</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>config_section<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;html5<sp/>writer&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1Writer_1ae03d3f809f73df9a874093b6f20a2dc5" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1Writer_1a10ebbef3d2ca0913e4c1a40ea9567f86" kindref="member">parts</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1Writer_1ad88b739ab876f39b4846077a206c58da" kindref="member">parts</ref><sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1Writer_1adbf76e7160f7b2428794cac34e793c3f" kindref="member">translator_class</ref><sp/>=<sp/>HTMLTranslator</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator" kindref="compound">HTMLTranslator</ref>(<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator" kindref="compound">_html_base.HTMLTranslator</ref>):</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="114"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>writer<sp/>generates<sp/>`polyglot<sp/>markup`:<sp/>HTML5<sp/>that<sp/>is<sp/>also<sp/>valid<sp/>XML.</highlight></codeline>
<codeline lineno="115"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="116"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Safe<sp/>subclassing:<sp/>when<sp/>overriding,<sp/>treat<sp/>``visit_*``<sp/>and<sp/>``depart_*``</highlight></codeline>
<codeline lineno="117"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>methods<sp/>as<sp/>a<sp/>unit<sp/>to<sp/>prevent<sp/>breaks<sp/>due<sp/>to<sp/>internal<sp/>changes.<sp/>See<sp/>the</highlight></codeline>
<codeline lineno="118"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>docstring<sp/>of<sp/>docutils.writers._html_base.HTMLTranslator<sp/>for<sp/>details</highlight></codeline>
<codeline lineno="119"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>examples.</highlight></codeline>
<codeline lineno="120"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>self.starttag()<sp/>arguments<sp/>for<sp/>the<sp/>main<sp/>document</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>documenttag_args<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;tagname&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;main&apos;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>add<sp/>meta<sp/>tag<sp/>to<sp/>fix<sp/>rendering<sp/>in<sp/>mobile<sp/>browsers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2771c2452d24389761adf33ad1048421" kindref="member">__init__</ref>(self,<sp/>document):</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().<ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2771c2452d24389761adf33ad1048421" kindref="member">__init__</ref>(document)</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a352b2c99a47ba7681947a1acb02841bc" kindref="member">meta</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;meta<sp/>name=&quot;viewport&quot;<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;content=&quot;width=device-width,<sp/>initial-scale=1&quot;<sp/>/&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&lt;acronym&gt;<sp/>tag<sp/>obsolete<sp/>in<sp/>HTML5.<sp/>Use<sp/>the<sp/>&lt;abbr&gt;<sp/>tag<sp/>instead.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a8d59be6303f68190a8af9322046083bb" kindref="member">visit_acronym</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>@@@<sp/>implementation<sp/>incomplete<sp/>(&quot;title&quot;<sp/>attribute)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;abbr&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1ac137281388912bf43e2448d872761973" kindref="member">depart_acronym</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;/abbr&gt;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>no<sp/>standard<sp/>meta<sp/>tag<sp/>name<sp/>in<sp/>HTML5,<sp/>use<sp/>separate<sp/>&quot;author&quot;<sp/>meta<sp/>tags</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>https://www.w3.org/TR/html5/document-metadata.html#standard-metadata-names</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1aa65550b4fe67c5674bf2c7bcf8d6e153" kindref="member">visit_authors</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6a2dac47af75c4c9294421c8838c0cf5" kindref="member">visit_docinfo_item</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;authors&apos;</highlight><highlight class="normal">,<sp/>meta=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>subnode<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>node:</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a352b2c99a47ba7681947a1acb02841bc" kindref="member">meta</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;meta<sp/>name=&quot;author&quot;<sp/>content=&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&apos;&quot;{self.attval(subnode.astext())}&quot;<sp/>/&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a50daa15966aa4b335d7272b749ba6c85" kindref="member">depart_authors</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6a51e4b7a009066b238f310418594b08" kindref="member">depart_docinfo_item</ref>()</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>the<sp/>&lt;figcaption&gt;<sp/>semantic<sp/>tag.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a9ffd4bffa9e3ae0e35f96e9aa21d4f34" kindref="member">visit_caption</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(node.parent,<sp/><ref refid="classdocutils_1_1nodes_1_1figure" kindref="compound">nodes.figure</ref>):</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;figcaption&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;p&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a6af7d5d0e5fefec108f8758e428f662f" kindref="member">depart_caption</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;/p&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&lt;figcaption&gt;<sp/>is<sp/>closed<sp/>in<sp/>depart_figure(),<sp/>as<sp/>legend<sp/>may<sp/>follow.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>HTML<sp/>block-level<sp/>tags<sp/>if<sp/>matching<sp/>class<sp/>value<sp/>found</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>supported_block_tags<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;ins&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;del&apos;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="162"><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a5920d762446380985390ff48be2967be" kindref="member">visit_container</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>there<sp/>is<sp/>exactly<sp/>one<sp/>of<sp/>the<sp/>&quot;supported<sp/>block<sp/>tags&quot;<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>list<sp/>of<sp/>class<sp/>values,<sp/>use<sp/>it<sp/>as<sp/>tag<sp/>name:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes<sp/>=<sp/>node[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tags<sp/>=<sp/>[cls<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>cls<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>classes</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cls<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a941176374c56dac90c52f66ceb8d7558" kindref="member">supported_block_tags</ref>]</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(tags)<sp/>==<sp/>1:</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/>tags[0]</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes.remove(tags[0])</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;div&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/>node.html5tagname,</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CLASS=</highlight><highlight class="stringliteral">&apos;docutils<sp/>container&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a928c9756da820b269a9b146121c39ce6" kindref="member">depart_container</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(f</highlight><highlight class="stringliteral">&apos;&lt;/{node.html5tagname}&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>node.html5tagname</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>no<sp/>standard<sp/>meta<sp/>tag<sp/>name<sp/>in<sp/>HTML5,<sp/>use<sp/>dcterms.rights</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>see<sp/>https://wiki.whatwg.org/wiki/MetaExtensions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a3e2d1e585ce7af8679fc793b3141e54a" kindref="member">visit_copyright</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6a2dac47af75c4c9294421c8838c0cf5" kindref="member">visit_docinfo_item</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;copyright&apos;</highlight><highlight class="normal">,<sp/>meta=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a352b2c99a47ba7681947a1acb02841bc" kindref="member">meta</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;meta<sp/>name=&quot;dcterms.rights&quot;<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&apos;content=&quot;{self.attval(node.astext())}&quot;<sp/>/&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1acd750261f372b82bacbe0336a297810c" kindref="member">depart_copyright</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6a51e4b7a009066b238f310418594b08" kindref="member">depart_docinfo_item</ref>()</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>no<sp/>standard<sp/>meta<sp/>tag<sp/>name<sp/>in<sp/>HTML5,<sp/>use<sp/>dcterms.date</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a79b9af5a1e3a3f9b5fb12ad6ac321d5e" kindref="member">visit_date</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6a2dac47af75c4c9294421c8838c0cf5" kindref="member">visit_docinfo_item</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;date&apos;</highlight><highlight class="normal">,<sp/>meta=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a352b2c99a47ba7681947a1acb02841bc" kindref="member">meta</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;meta<sp/>name=&quot;dcterms.date&quot;<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&apos;content=&quot;{self.attval(node.astext())}&quot;<sp/>/&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1acabc986c60d6b4f54d0c15df1558dfd5" kindref="member">depart_date</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6a51e4b7a009066b238f310418594b08" kindref="member">depart_docinfo_item</ref>()</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>new<sp/>HTML5<sp/>&lt;figure&gt;<sp/>and<sp/>&lt;figcaption&gt;<sp/>elements</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2c0da761dc2cfc0eab26888b29d954bb" kindref="member">visit_figure</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>atts<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>node.get(</highlight><highlight class="stringliteral">&apos;width&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>atts[</highlight><highlight class="stringliteral">&apos;style&apos;</highlight><highlight class="normal">]<sp/>=<sp/>f</highlight><highlight class="stringliteral">&quot;width:<sp/>{node[&apos;width&apos;]}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>node.get(</highlight><highlight class="stringliteral">&apos;align&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>atts[</highlight><highlight class="stringliteral">&apos;class&apos;</highlight><highlight class="normal">]<sp/>=<sp/>f</highlight><highlight class="stringliteral">&quot;align-{node[&apos;align&apos;]}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;figure&apos;</highlight><highlight class="normal">,<sp/>**atts))</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a13b6222f05ac6525b83b5e46053e0bc7" kindref="member">depart_figure</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(node)<sp/>&gt;<sp/>1:</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;/figcaption&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;/figure&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>HTML5<sp/>&lt;footer&gt;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a37720d6e8b01e6184a6c2dd00398167a" kindref="member">visit_footer</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a0860e4e57f82037b723432046ffb7660" kindref="member">context</ref>.append(len(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>))</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1aa44101b4c9e3333b3c43d6f087a553ff" kindref="member">depart_footer</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a0860e4e57f82037b723432046ffb7660" kindref="member">context</ref>.pop()</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>footer<sp/>=<sp/>[self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;footer&apos;</highlight><highlight class="normal">)]</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>footer.extend(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>[start:])</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>footer.append(</highlight><highlight class="stringliteral">&apos;&lt;/footer&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a93900f71680b752da58ed1a265ebfd95" kindref="member">footer</ref>.extend(footer)</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1ab016db57fb9ee297ec36189fe4b5e4b1" kindref="member">body_suffix</ref>[:0]<sp/>=<sp/>footer</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>[start:]</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>HTML5<sp/>&lt;header&gt;<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1aa2f6d90c9297f0e0cc64ce81c9556dbe" kindref="member">visit_header</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a0860e4e57f82037b723432046ffb7660" kindref="member">context</ref>.append(len(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>))</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a9827800b4f5bb409c7e919e1bbd92987" kindref="member">depart_header</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start<sp/>=<sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a0860e4e57f82037b723432046ffb7660" kindref="member">context</ref>.pop()</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>header<sp/>=<sp/>[self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;header&apos;</highlight><highlight class="normal">)]</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>header.extend(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>[start:])</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>header.append(</highlight><highlight class="stringliteral">&apos;&lt;/header&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a3aa34511063905ce3e777add5e1ac8d4" kindref="member">body_prefix</ref>.extend(header)</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a61b1444ea40301fbdecb21f4c069696d" kindref="member">header</ref>.extend(header)</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>[start:]</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>HTML<sp/>text-level<sp/>tags<sp/>if<sp/>matching<sp/>class<sp/>value<sp/>found</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>supported_inline_tags<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;code&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;kbd&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;dfn&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;samp&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;var&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;bdi&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;del&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;ins&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;mark&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;small&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;b&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;i&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;q&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;s&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;u&apos;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Use<sp/>`supported_inline_tags`<sp/>if<sp/>found<sp/>in<sp/>class<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a3a19cd9dc9fe3371ec43293345b91dcb" kindref="member">visit_inline</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes<sp/>=<sp/>node[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;span&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Special<sp/>handling<sp/>for<sp/>&quot;code&quot;<sp/>directive<sp/>content</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isinstance(node.parent,<sp/><ref refid="classdocutils_1_1nodes_1_1literal__block" kindref="compound">nodes.literal_block</ref>)</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;code&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>node.parent.get(</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>isinstance(node.parent,<sp/><ref refid="classdocutils_1_1nodes_1_1literal" kindref="compound">nodes.literal</ref>)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>getattr(node.parent,<sp/></highlight><highlight class="stringliteral">&apos;html5tagname&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;code&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>classes<sp/>==<sp/>[</highlight><highlight class="stringliteral">&apos;ln&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>line<sp/>numbers<sp/>are<sp/>not<sp/>part<sp/>of<sp/>the<sp/>&quot;fragment<sp/>of<sp/>computer<sp/>code&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>[-1]<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;&lt;code&gt;&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>[-1]</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;/code&gt;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;small&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tags<sp/>=<sp/>[cls<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>cls<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1af0235e84da1e55c87c63835880deb29d" kindref="member">supported_inline_tags</ref></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cls<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>classes]</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(tags):</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/>tags[0]</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes.remove(node.html5tagname)</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/>node.html5tagname,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a48bd7fadb426baf7cc0aa483bfcbb9f5" kindref="member">depart_inline</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(f</highlight><highlight class="stringliteral">&apos;&lt;/{node.html5tagname}&gt;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(node.html5tagname<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;small&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>node.get(</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">)<sp/>==<sp/>[</highlight><highlight class="stringliteral">&apos;ln&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>isinstance(node.parent,<sp/><ref refid="classdocutils_1_1nodes_1_1literal__block" kindref="compound">nodes.literal_block</ref>)):</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(f</highlight><highlight class="stringliteral">&apos;&lt;code<sp/>data-lineno=&quot;{node.astext()}&quot;&gt;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>node.html5tagname</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>place<sp/>inside<sp/>HTML5<sp/>&lt;figcaption&gt;<sp/>element<sp/>(together<sp/>with<sp/>caption)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1ada0235a5e87a0889e3a68f5398d89a6f" kindref="member">visit_legend</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(node.parent[1],<sp/><ref refid="classdocutils_1_1nodes_1_1caption" kindref="compound">nodes.caption</ref>):</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;figcaption&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;div&apos;</highlight><highlight class="normal">,<sp/>CLASS=</highlight><highlight class="stringliteral">&apos;legend&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a4adca64003154912b0f378d1c6529d36" kindref="member">depart_legend</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight><highlight class="stringliteral">&apos;&lt;/div&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>&lt;figcaption&gt;<sp/>closed<sp/>in<sp/>visit_figure()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>HTML5<sp/>text-level<sp/>tags<sp/>if<sp/>matching<sp/>class<sp/>value<sp/>found</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a348faa048fe6643067984f17c024afe7" kindref="member">visit_literal</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes<sp/>=<sp/>node[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>html5tagname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;span&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tags<sp/>=<sp/>[cls<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>cls<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1af0235e84da1e55c87c63835880deb29d" kindref="member">supported_inline_tags</ref></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cls<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>classes]</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(tags):</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>html5tagname<sp/>=<sp/>tags[0]</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes.remove(html5tagname)</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>html5tagname<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;code&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/>html5tagname</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/>html5tagname,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a6843aa3e1527a4a6e9742bb968a34fd2" kindref="member">starttag</ref>(node,<sp/>html5tagname,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>CLASS=</highlight><highlight class="stringliteral">&apos;docutils<sp/>literal&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/>node.astext()</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>remove<sp/>hard<sp/>line<sp/>breaks<sp/>(except<sp/>if<sp/>in<sp/>a<sp/>parsed-literal<sp/>block)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(node.parent,<sp/><ref refid="classdocutils_1_1nodes_1_1literal__block" kindref="compound">nodes.literal_block</ref>):</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/>text.replace(</highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Protect<sp/>text<sp/>like<sp/>``--an-option``<sp/>and<sp/>the<sp/>regular<sp/>expression</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>``[+]?(\d+(\.\d*)?|\.\d+)``<sp/>from<sp/>bad<sp/>line<sp/>wrapping</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>token<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1ad4b3ab6afa4f59546006729e73d05b8c" kindref="member">words_and_spaces</ref>.findall(text):</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>token.strip()<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1afd79e5e34a5af6ce4d122570bf940a73" kindref="member">in_word_wrap_point</ref>.search(token):</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&apos;&lt;span<sp/>class=&quot;pre&quot;&gt;{self.encode(token)}&lt;/span&gt;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a11e1f4118d1fdf127d7a19c57013d154" kindref="member">encode</ref>(token))</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a647093df244d80b1a8c2e1f9d46c2991" kindref="member">body</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a2e3be7c1c9d32493e8548936ead91411" kindref="member">body</ref>.append(f</highlight><highlight class="stringliteral">&apos;&lt;/{html5tagname}&gt;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Content<sp/>already<sp/>processed:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classdocutils_1_1nodes_1_1SkipNode" kindref="compound">nodes.SkipNode</ref></highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a45ca3b086811bc6f8c4abf441fa2a74f" kindref="member">depart_literal</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>skipped<sp/>unless<sp/>literal<sp/>element<sp/>is<sp/>from<sp/>&quot;code&quot;<sp/>role:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1aa6b9c5feef4f68f2d5fe9caad3cb0254" kindref="member">depart_inline</ref><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a48bd7fadb426baf7cc0aa483bfcbb9f5" kindref="member">depart_inline</ref>(node)</highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Meta<sp/>tags:<sp/>&apos;lang&apos;<sp/>attribute<sp/>replaced<sp/>by<sp/>&apos;xml:lang&apos;<sp/>in<sp/>XHTML<sp/>1.1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>HTML5/polyglot<sp/>recommends<sp/>using<sp/>both</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1adabfdb4a12d0181561cef295fc8a6b1b" kindref="member">visit_meta</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>node.hasattr(</highlight><highlight class="stringliteral">&apos;lang&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node[</highlight><highlight class="stringliteral">&apos;xml:lang&apos;</highlight><highlight class="normal">]<sp/>=<sp/>node[</highlight><highlight class="stringliteral">&apos;lang&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a352b2c99a47ba7681947a1acb02841bc" kindref="member">meta</ref>.append(self.<ref refid="classdocutils_1_1writers_1_1__html__base_1_1HTMLTranslator_1a5744402fde97944ced6b2d1cc01469ac" kindref="member">emptytag</ref>(node,<sp/></highlight><highlight class="stringliteral">&apos;meta&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**node.non_default_attributes()))</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a9b0a1d6430defb2a805c10a7ae636f0e" kindref="member">depart_meta</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>no<sp/>standard<sp/>meta<sp/>tag<sp/>name<sp/>in<sp/>HTML5</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a70b28fc598b8c91b9c03c02e620503b7" kindref="member">visit_organization</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.visit_docinfo_item(node,<sp/></highlight><highlight class="stringliteral">&apos;organization&apos;</highlight><highlight class="normal">,<sp/>meta=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a969f52f3f07c2d75fe967a1db54b2e5e" kindref="member">depart_organization</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.depart_docinfo_item()</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>the<sp/>new<sp/>HTML5<sp/>element<sp/>&lt;section&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a31d6f6f4128fc3369b97b69029ccee7a" kindref="member">visit_section</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.section_level<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.body.append(</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.starttag(node,<sp/></highlight><highlight class="stringliteral">&apos;section&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1a0efcff3496473e895fafee11e0c70b2a" kindref="member">depart_section</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.section_level<sp/>-=<sp/>1</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.body.append(</highlight><highlight class="stringliteral">&apos;&lt;/section&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>use<sp/>the<sp/>new<sp/>HTML5<sp/>element<sp/>&lt;aside&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1aff5677deb4b7562d1d98e6e52c648d1f" kindref="member">visit_sidebar</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.body.append(</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.starttag(node,<sp/></highlight><highlight class="stringliteral">&apos;aside&apos;</highlight><highlight class="normal">,<sp/>CLASS=</highlight><highlight class="stringliteral">&apos;sidebar&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.in_sidebar<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1ab720b00b7ef0f8a08d2cd0c38324d525" kindref="member">depart_sidebar</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.body.append(</highlight><highlight class="stringliteral">&apos;&lt;/aside&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.in_sidebar<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Use<sp/>new<sp/>HTML5<sp/>element<sp/>&lt;aside&gt;<sp/>or<sp/>&lt;nav&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Add<sp/>class<sp/>value<sp/>to<sp/>&lt;body&gt;,<sp/>if<sp/>there<sp/>is<sp/>a<sp/>ToC<sp/>in<sp/>the<sp/>document</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>(see<sp/>responsive.css<sp/>how<sp/>this<sp/>is<sp/>used<sp/>for<sp/>a<sp/>navigation<sp/>sidebar).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1aa99bc0aac1262d01ebab880b1b04c674" kindref="member">visit_topic</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>atts<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">:<sp/>[</highlight><highlight class="stringliteral">&apos;topic&apos;</highlight><highlight class="normal">]}</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;contents&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>node[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;nav&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>atts[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(node.parent,<sp/>nodes.document):</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>atts[</highlight><highlight class="stringliteral">&apos;role&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;doc-toc&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.body_prefix[0]<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&lt;/head&gt;\n&lt;body<sp/>class=&quot;with-toc&quot;&gt;\n&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;abstract&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>node[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;div&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>atts[</highlight><highlight class="stringliteral">&apos;role&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;doc-abstract&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;dedication&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>node[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;div&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>atts[</highlight><highlight class="stringliteral">&apos;role&apos;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;doc-dedication&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node.html5tagname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;aside&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.body.append(self.starttag(node,<sp/>node.html5tagname,<sp/>**atts))</highlight></codeline>
<codeline lineno="379"><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1acc184d15923cad8fb82bed3863652777" kindref="member">depart_topic</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.body.append(f</highlight><highlight class="stringliteral">&apos;&lt;/{node.html5tagname}&gt;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>del<sp/>node.html5tagname</highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>append<sp/>self-link</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1ae3af213c56c0976001de6f2d1816415d" kindref="member">section_title_tags</ref>(self,<sp/>node):</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>start_tag,<sp/>close_tag<sp/>=<sp/>super().<ref refid="classdocutils_1_1writers_1_1html5__polyglot_1_1HTMLTranslator_1ae3af213c56c0976001de6f2d1816415d" kindref="member">section_title_tags</ref>(node)</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ids<sp/>=<sp/>node.parent[</highlight><highlight class="stringliteral">&apos;ids&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ids<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>getattr(self.settings,<sp/></highlight><highlight class="stringliteral">&apos;section_self_link&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(node.parent,<sp/>nodes.document)):</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self_link<sp/>=<sp/>(</highlight><highlight class="stringliteral">&apos;&lt;a<sp/>class=&quot;self-link&quot;<sp/>title=&quot;link<sp/>to<sp/>this<sp/>section&quot;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&apos;<sp/>href=&quot;#{ids[0]}&quot;&gt;&lt;/a&gt;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>close_tag<sp/>=<sp/>close_tag.replace(</highlight><highlight class="stringliteral">&apos;&lt;/h&apos;</highlight><highlight class="normal">,<sp/>self_link<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;&lt;/h&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>start_tag,<sp/>close_tag</highlight></codeline>
    </programlisting>
    <location file="venv/lib/python3.12/site-packages/docutils/writers/html5_polyglot/__init__.py"/>
  </compounddef>
</doxygen>
