<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="babel_2messages_2frontend_8py" kind="file" language="Python">
    <compoundname>frontend.py</compoundname>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1BaseError" prot="public">babel::messages::frontend::BaseError</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1OptionError" prot="public">babel::messages::frontend::OptionError</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1SetupError" prot="public">babel::messages::frontend::SetupError</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" prot="public">babel::messages::frontend::ConfigurationError</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin" prot="public">babel::messages::frontend::CommandMixin</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog" prot="public">babel::messages::frontend::CompileCatalog</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages" prot="public">babel::messages::frontend::ExtractMessages</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog" prot="public">babel::messages::frontend::InitCatalog</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog" prot="public">babel::messages::frontend::UpdateCatalog</innerclass>
    <innerclass refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface" prot="public">babel::messages::frontend::CommandLineInterface</innerclass>
    <innernamespace refid="namespacebabel">babel</innernamespace>
    <innernamespace refid="namespacebabel_1_1messages">babel::messages</innernamespace>
    <innernamespace refid="namespacebabel_1_1messages_1_1frontend">babel::messages::frontend</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacebabel_1_1messages_1_1frontend" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="2"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>babel.messages.frontend</highlight></codeline>
<codeline lineno="3"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>~~~~~~~~~~~~~~~~~~~~~~~</highlight></codeline>
<codeline lineno="4"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="5"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Frontends<sp/>for<sp/>the<sp/>message<sp/>extraction<sp/>functionality.</highlight></codeline>
<codeline lineno="6"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="7"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:copyright:<sp/>(c)<sp/>2013-2025<sp/>by<sp/>the<sp/>Babel<sp/>Team.</highlight></codeline>
<codeline lineno="8"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:license:<sp/>BSD,<sp/>see<sp/>LICENSE<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="9"><highlight class="stringliteral">&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>annotations</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>datetime</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>fnmatch</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logging</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>optparse</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>os</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>re</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>shutil</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>tempfile</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>warnings</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>configparser<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>RawConfigParser</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>io<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>StringIO</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>BinaryIO,<sp/>Iterable,<sp/>Literal</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>babel<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Locale,<sp/>localedata</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>babel<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>__version__<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>VERSION</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1core" kindref="compound">babel.core</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>UnknownLocaleError</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1messages_1_1catalog" kindref="compound">babel.messages.catalog</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>DEFAULT_HEADER,<sp/>Catalog</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1messages_1_1extract" kindref="compound">babel.messages.extract</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>DEFAULT_KEYWORDS,</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>DEFAULT_MAPPING,</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>check_and_call_extract_file,</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>extract_from_dir,</highlight></codeline>
<codeline lineno="36"><highlight class="normal">)</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1messages_1_1mofile" kindref="compound">babel.messages.mofile</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>write_mo</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1messages_1_1pofile" kindref="compound">babel.messages.pofile</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>read_po,<sp/>write_po</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1util" kindref="compound">babel.util</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>LOCALTZ</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal">log<sp/>=<sp/>logging.getLogger(</highlight><highlight class="stringliteral">&apos;babel&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44" refid="classbabel_1_1messages_1_1frontend_1_1BaseError" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1BaseError" kindref="compound">BaseError</ref>(Exception):</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight></codeline>
<codeline lineno="48" refid="classbabel_1_1messages_1_1frontend_1_1OptionError" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(<ref refid="classbabel_1_1messages_1_1frontend_1_1BaseError" kindref="compound">BaseError</ref>):</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52" refid="classbabel_1_1messages_1_1frontend_1_1SetupError" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1SetupError" kindref="compound">SetupError</ref>(<ref refid="classbabel_1_1messages_1_1frontend_1_1BaseError" kindref="compound">BaseError</ref>):</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56" refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(<ref refid="classbabel_1_1messages_1_1frontend_1_1BaseError" kindref="compound">BaseError</ref>):</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="58"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Raised<sp/>for<sp/>errors<sp/>in<sp/>configuration<sp/>files.</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a1c41a6e19e5f3c914b2b5b01995e2662" kindref="member">listify_value</ref>(arg,<sp/>split=None):</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="64"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Make<sp/>a<sp/>list<sp/>out<sp/>of<sp/>an<sp/>argument.</highlight></codeline>
<codeline lineno="65"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="66"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Values<sp/>from<sp/>`distutils`<sp/>argument<sp/>parsing<sp/>are<sp/>always<sp/>single<sp/>strings;</highlight></codeline>
<codeline lineno="67"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>values<sp/>from<sp/>`optparse`<sp/>parsing<sp/>may<sp/>be<sp/>lists<sp/>of<sp/>strings<sp/>that<sp/>may<sp/>need</highlight></codeline>
<codeline lineno="68"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>to<sp/>be<sp/>further<sp/>split.</highlight></codeline>
<codeline lineno="69"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="70"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>No<sp/>matter<sp/>the<sp/>input,<sp/>this<sp/>function<sp/>returns<sp/>a<sp/>flat<sp/>list<sp/>of<sp/>whitespace-trimmed</highlight></codeline>
<codeline lineno="71"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>strings,<sp/>with<sp/>`None`<sp/>values<sp/>filtered<sp/>out.</highlight></codeline>
<codeline lineno="72"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="73"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>listify_value(&quot;foo<sp/>bar&quot;)</highlight></codeline>
<codeline lineno="74"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;foo&apos;,<sp/>&apos;bar&apos;]</highlight></codeline>
<codeline lineno="75"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>listify_value([&quot;foo<sp/>bar&quot;])</highlight></codeline>
<codeline lineno="76"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;foo&apos;,<sp/>&apos;bar&apos;]</highlight></codeline>
<codeline lineno="77"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>listify_value([[&quot;foo&quot;],<sp/>&quot;bar&quot;])</highlight></codeline>
<codeline lineno="78"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;foo&apos;,<sp/>&apos;bar&apos;]</highlight></codeline>
<codeline lineno="79"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>listify_value([[&quot;foo&quot;],<sp/>[&quot;bar&quot;,<sp/>None,<sp/>&quot;foo&quot;]])</highlight></codeline>
<codeline lineno="80"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;foo&apos;,<sp/>&apos;bar&apos;,<sp/>&apos;foo&apos;]</highlight></codeline>
<codeline lineno="81"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>listify_value(&quot;foo,<sp/>bar,<sp/>quux&quot;,<sp/>&quot;,&quot;)</highlight></codeline>
<codeline lineno="82"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>[&apos;foo&apos;,<sp/>&apos;bar&apos;,<sp/>&apos;quux&apos;]</highlight></codeline>
<codeline lineno="83"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="84"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>arg:<sp/>A<sp/>string<sp/>or<sp/>a<sp/>list<sp/>of<sp/>strings</highlight></codeline>
<codeline lineno="85"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>split:<sp/>The<sp/>argument<sp/>to<sp/>pass<sp/>to<sp/>`str.split()`.</highlight></codeline>
<codeline lineno="86"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:return:</highlight></codeline>
<codeline lineno="87"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>out<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(arg,<sp/>(list,<sp/>tuple)):</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>arg<sp/>=<sp/>[arg]</highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>val<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>arg:</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>val<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(val,<sp/>(list,<sp/>tuple)):</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out.extend(<ref refid="namespacebabel_1_1messages_1_1frontend_1a1c41a6e19e5f3c914b2b5b01995e2662" kindref="member">listify_value</ref>(val,<sp/>split=split))</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>out.extend(s.strip()<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>s<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>str(val).split(split))</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>all(isinstance(val,<sp/>str)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>val<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>out)</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>out</highlight></codeline>
<codeline lineno="102"><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin" kindref="compound">CommandMixin</ref>:</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>This<sp/>class<sp/>is<sp/>a<sp/>small<sp/>shim<sp/>between<sp/>Distutils<sp/>commands<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>optparse<sp/>option<sp/>parsing<sp/>in<sp/>the<sp/>frontend<sp/>command<sp/>line.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>Option<sp/>name<sp/>to<sp/>be<sp/>input<sp/>as<sp/>`args`<sp/>on<sp/>the<sp/>script<sp/>command<sp/>line.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>as_args<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>Options<sp/>which<sp/>allow<sp/>multiple<sp/>values.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>This<sp/>is<sp/>used<sp/>by<sp/>the<sp/>`optparse`<sp/>transmogrification<sp/>code.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>multiple_value_options<sp/>=<sp/>()</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>Options<sp/>which<sp/>are<sp/>booleans.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>This<sp/>is<sp/>used<sp/>by<sp/>the<sp/>`optparse`<sp/>transmogrification<sp/>code.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>(This<sp/>is<sp/>actually<sp/>used<sp/>by<sp/>distutils<sp/>code<sp/>too,<sp/>but<sp/>is<sp/>never</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>declared<sp/>in<sp/>the<sp/>base<sp/>class.)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>boolean_options<sp/>=<sp/>()</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>Option<sp/>aliases,<sp/>to<sp/>retain<sp/>standalone<sp/>command<sp/>compatibility.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>Distutils<sp/>does<sp/>not<sp/>support<sp/>option<sp/>aliases,<sp/>but<sp/>optparse<sp/>does.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>This<sp/>maps<sp/>the<sp/>distutils<sp/>argument<sp/>name<sp/>to<sp/>an<sp/>iterable<sp/>of<sp/>aliases</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>that<sp/>are<sp/>usable<sp/>with<sp/>optparse.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>option_aliases<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>Choices<sp/>for<sp/>options<sp/>that<sp/>needed<sp/>to<sp/>be<sp/>restricted<sp/>to<sp/>specific</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>list<sp/>of<sp/>choices.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>option_choices<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>Log<sp/>object.<sp/>To<sp/>allow<sp/>replacement<sp/>in<sp/>the<sp/>script<sp/>command<sp/>line<sp/>runner.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>log<sp/>=<sp/>log</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1adebfe12a9699baae51c8fb40076641c1" kindref="member">__init__</ref>(self,<sp/>dist=None):</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>A<sp/>less<sp/>strict<sp/>version<sp/>of<sp/>distutils&apos;<sp/>`__init__`.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0694c1485da6e9a1ebdd2c5f0a8f5a1f" kindref="member">distribution</ref><sp/>=<sp/>dist</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a83ebdad89eca6458aa6dde6eb1867fc9" kindref="member">initialize_options</ref>()</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1ae2c08f75cb65b0c437c629ccab44b1c9" kindref="member">_dry_run</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a682b8d03a63eb41b66051d0b1313a264" kindref="member">verbose</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1abb04522da0a3dda16518c6ee44949d78" kindref="member">force</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0d6085505b42319ef9d10014a46b81fe" kindref="member">help</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a402b06f1f7da5f8afe2108e2e6633262" kindref="member">finalized</ref><sp/>=<sp/>0</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a83ebdad89eca6458aa6dde6eb1867fc9" kindref="member">initialize_options</ref>(self):</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1ad7d2b9cf046164c28b6d419538403949" kindref="member">ensure_finalized</ref>(self):</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.finalized:</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.finalize_options()</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.finalized<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1ae2454657ce73702fc0d6e99140f56a38" kindref="member">finalize_options</ref>(self):</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>RuntimeError(</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;abstract<sp/>method<sp/>--<sp/>subclass<sp/>{self.__class__}<sp/>must<sp/>override&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="158" refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog" kindref="compound">CompileCatalog</ref>(<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin" kindref="compound">CommandMixin</ref>):</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/>description<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;compile<sp/>message<sp/>catalogs<sp/>to<sp/>binary<sp/>MO<sp/>files&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>user_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;domain=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;D&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;domains<sp/>of<sp/>PO<sp/>files<sp/>(space<sp/>separated<sp/>list,<sp/>default<sp/>&apos;messages&apos;)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;directory=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;d&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;path<sp/>to<sp/>base<sp/>directory<sp/>containing<sp/>the<sp/>catalogs&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;input-file=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;i&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;name<sp/>of<sp/>the<sp/>input<sp/>file&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;output-file=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;o&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;name<sp/>of<sp/>the<sp/>output<sp/>file<sp/>(default<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&apos;&lt;output_dir&gt;/&lt;locale&gt;/LC_MESSAGES/&lt;domain&gt;.mo&apos;)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;locale=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;l&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;locale<sp/>of<sp/>the<sp/>catalog<sp/>to<sp/>compile&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;use-fuzzy&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;f&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;also<sp/>include<sp/>fuzzy<sp/>translations&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;statistics&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;print<sp/>statistics<sp/>about<sp/>translations&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>boolean_options<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;use-fuzzy&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;statistics&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a42b856b3449ffd98d21f96731c611347" kindref="member">initialize_options</ref>(self):</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1add23e6d82c6f8e238032b30fc81b5660" kindref="member">domain</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;messages&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a270ba5f0ed6a114d8eb2c9a58b23f774" kindref="member">input_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ad82f64449c0231517d75246f1b8a8ea1" kindref="member">output_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ab6a8ddfe502fe81638c97bd6a263296c" kindref="member">locale</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1adf8ea77872bf91208e88e70c6e3b8db0" kindref="member">use_fuzzy</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ac0e621bdb7e3915b175b41b346373426" kindref="member">statistics</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a459af376ad979210710011aec4e8642b" kindref="member">finalize_options</ref>(self):</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1add23e6d82c6f8e238032b30fc81b5660" kindref="member">domain</ref><sp/>=<sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1a1c41a6e19e5f3c914b2b5b01995e2662" kindref="member">listify_value</ref>(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1add23e6d82c6f8e238032b30fc81b5660" kindref="member">domain</ref>)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a270ba5f0ed6a114d8eb2c9a58b23f774" kindref="member">input_file</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref>:</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>either<sp/>the<sp/>input<sp/>file<sp/>or<sp/>the<sp/>base<sp/>directory&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ad82f64449c0231517d75246f1b8a8ea1" kindref="member">output_file</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref>:</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>either<sp/>the<sp/>output<sp/>file<sp/>or<sp/>the<sp/>base<sp/>directory&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a72faa91be1875af671ca86d9f740be41" kindref="member">run</ref>(self):</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_errors<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>domain<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1add23e6d82c6f8e238032b30fc81b5660" kindref="member">domain</ref>:</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>errors<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a82f63f80be22e263c9de8eb0b6529f70" kindref="member">_run_domain</ref>(domain).values():</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n_errors<sp/>+=<sp/>len(errors)</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n_errors:</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.error(</highlight><highlight class="stringliteral">&apos;%d<sp/>errors<sp/>encountered.&apos;</highlight><highlight class="normal">,<sp/>n_errors)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(1<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>n_errors<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>0)</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a82f63f80be22e263c9de8eb0b6529f70" kindref="member">_run_domain</ref>(self,<sp/>domain):</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_files<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mo_files<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a270ba5f0ed6a114d8eb2c9a58b23f774" kindref="member">input_file</ref>:</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ab6a8ddfe502fe81638c97bd6a263296c" kindref="member">locale</ref>:</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_files.append((self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ab6a8ddfe502fe81638c97bd6a263296c" kindref="member">locale</ref>,</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ab6a8ddfe502fe81638c97bd6a263296c" kindref="member">locale</ref>,</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;LC_MESSAGES&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;{domain}.po&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mo_files.append(os.path.join(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ab6a8ddfe502fe81638c97bd6a263296c" kindref="member">locale</ref>,</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;LC_MESSAGES&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;{domain}.mo&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>locale<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>os.listdir(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref>):</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_file<sp/>=<sp/>os.path.join(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref>,<sp/>locale,</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;LC_MESSAGES&apos;</highlight><highlight class="normal">,<sp/>f</highlight><highlight class="stringliteral">&quot;{domain}.po&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.exists(po_file):</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_files.append((locale,<sp/>po_file))</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mo_files.append(os.path.join(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref>,<sp/>locale,</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;LC_MESSAGES&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;{domain}.mo&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_files.append((self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ab6a8ddfe502fe81638c97bd6a263296c" kindref="member">locale</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a270ba5f0ed6a114d8eb2c9a58b23f774" kindref="member">input_file</ref>))</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ad82f64449c0231517d75246f1b8a8ea1" kindref="member">output_file</ref>:</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mo_files.append(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ad82f64449c0231517d75246f1b8a8ea1" kindref="member">output_file</ref>)</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mo_files.append(os.path.join(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1a202866830902c90ed73c535190905720" kindref="member">directory</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ab6a8ddfe502fe81638c97bd6a263296c" kindref="member">locale</ref>,</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;LC_MESSAGES&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;{domain}.mo&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>po_files:</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;no<sp/>message<sp/>catalogs<sp/>found&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalogs_and_errors<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>idx,<sp/>(locale,<sp/>po_file)<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(po_files):</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mo_file<sp/>=<sp/>mo_files[idx]</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(po_file,<sp/></highlight><highlight class="stringliteral">&apos;rb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>infile:</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog<sp/>=<sp/>read_po(infile,<sp/>locale)</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1ac0e621bdb7e3915b175b41b346373426" kindref="member">statistics</ref>:</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>translated<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>message<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>list(catalog)[1:]:</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>message.string:</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>translated<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>percentage<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(catalog):</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>percentage<sp/>=<sp/>translated<sp/>*<sp/>100<sp/>//<sp/>len(catalog)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;%d<sp/>of<sp/>%d<sp/>messages<sp/>(%d%%)<sp/>translated<sp/>in<sp/>%s&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>translated,<sp/>len(catalog),<sp/>percentage,<sp/>po_file,</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>catalog.fuzzy<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1adf8ea77872bf91208e88e70c6e3b8db0" kindref="member">use_fuzzy</ref>:</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&apos;catalog<sp/>%s<sp/>is<sp/>marked<sp/>as<sp/>fuzzy,<sp/>skipping&apos;</highlight><highlight class="normal">,<sp/>po_file)</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalogs_and_errors[catalog]<sp/>=<sp/>catalog_errors<sp/>=<sp/>list(catalog.check())</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>message,<sp/>errors<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>catalog_errors:</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>error<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>errors:</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.error(</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;error:<sp/>%s:%d:<sp/>%s&apos;</highlight><highlight class="normal">,<sp/>po_file,<sp/>message.lineno,<sp/>error,</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&apos;compiling<sp/>catalog<sp/>%s<sp/>to<sp/>%s&apos;</highlight><highlight class="normal">,<sp/>po_file,<sp/>mo_file)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(mo_file,<sp/></highlight><highlight class="stringliteral">&apos;wb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>outfile:</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>write_mo(outfile,<sp/>catalog,<sp/>use_fuzzy=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CompileCatalog_1adf8ea77872bf91208e88e70c6e3b8db0" kindref="member">use_fuzzy</ref>)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>catalogs_and_errors</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a09a7da866c5f9c3e06c6a5b4bd57c76f" kindref="member">_make_directory_filter</ref>(ignore_patterns):</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="279"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Build<sp/>a<sp/>directory_filter<sp/>function<sp/>based<sp/>on<sp/>a<sp/>list<sp/>of<sp/>ignore<sp/>patterns.</highlight></codeline>
<codeline lineno="280"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">cli_directory_filter(dirname):</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>basename<sp/>=<sp/>os.path.basename(dirname)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>any(</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fnmatch.fnmatch(basename,<sp/>ignore_pattern)</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>ignore_pattern</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>ignore_patterns</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cli_directory_filter</highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"></highlight></codeline>
<codeline lineno="293" refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages" kindref="compound">ExtractMessages</ref>(<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin" kindref="compound">CommandMixin</ref>):</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/>description<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;extract<sp/>localizable<sp/>strings<sp/>from<sp/>the<sp/>project<sp/>code&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>user_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;charset=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;charset<sp/>to<sp/>use<sp/>in<sp/>the<sp/>output<sp/>file<sp/>(default<sp/>&quot;utf-8&quot;)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;keywords=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;k&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;space-separated<sp/>list<sp/>of<sp/>keywords<sp/>to<sp/>look<sp/>for<sp/>in<sp/>addition<sp/>to<sp/>the<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;defaults<sp/>(may<sp/>be<sp/>repeated<sp/>multiple<sp/>times)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;no-default-keywords&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;do<sp/>not<sp/>include<sp/>the<sp/>default<sp/>keywords&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;mapping-file=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;F&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;path<sp/>to<sp/>the<sp/>mapping<sp/>configuration<sp/>file&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;no-location&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;do<sp/>not<sp/>include<sp/>location<sp/>comments<sp/>with<sp/>filename<sp/>and<sp/>line<sp/>number&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;add-location=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;location<sp/>lines<sp/>format.<sp/>If<sp/>it<sp/>is<sp/>not<sp/>given<sp/>or<sp/>&quot;full&quot;,<sp/>it<sp/>generates<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;the<sp/>lines<sp/>with<sp/>both<sp/>file<sp/>name<sp/>and<sp/>line<sp/>number.<sp/>If<sp/>it<sp/>is<sp/>&quot;file&quot;,<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;the<sp/>line<sp/>number<sp/>part<sp/>is<sp/>omitted.<sp/>If<sp/>it<sp/>is<sp/>&quot;never&quot;,<sp/>it<sp/>completely<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;suppresses<sp/>the<sp/>lines<sp/>(same<sp/>as<sp/>--no-location).&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;omit-header&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;do<sp/>not<sp/>include<sp/>msgid<sp/>&quot;&quot;<sp/>entry<sp/>in<sp/>header&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;output-file=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;o&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;name<sp/>of<sp/>the<sp/>output<sp/>file&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;width=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;w&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set<sp/>output<sp/>line<sp/>width<sp/>(default<sp/>76)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;no-wrap&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;do<sp/>not<sp/>break<sp/>long<sp/>message<sp/>lines,<sp/>longer<sp/>than<sp/>the<sp/>output<sp/>line<sp/>width,<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;into<sp/>several<sp/>lines&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;sort-output&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;generate<sp/>sorted<sp/>output<sp/>(default<sp/>False)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;sort-by-file&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;sort<sp/>output<sp/>by<sp/>file<sp/>location<sp/>(default<sp/>False)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;msgid-bugs-address=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set<sp/>report<sp/>address<sp/>for<sp/>msgid&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;copyright-holder=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set<sp/>copyright<sp/>holder<sp/>in<sp/>output&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;project=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set<sp/>project<sp/>name<sp/>in<sp/>output&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;version=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set<sp/>project<sp/>version<sp/>in<sp/>output&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;add-comments=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;c&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;place<sp/>comment<sp/>block<sp/>with<sp/>TAG<sp/>(or<sp/>those<sp/>preceding<sp/>keyword<sp/>lines)<sp/>in<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;output<sp/>file.<sp/>Separate<sp/>multiple<sp/>TAGs<sp/>with<sp/>commas(,)&apos;</highlight><highlight class="normal">),<sp/><sp/></highlight><highlight class="comment">#<sp/>TODO:<sp/>Support<sp/>repetition<sp/>of<sp/>this<sp/>argument</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;strip-comments&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;s&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;strip<sp/>the<sp/>comment<sp/>TAGs<sp/>from<sp/>the<sp/>comments.&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;input-paths=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;files<sp/>or<sp/>directories<sp/>that<sp/>should<sp/>be<sp/>scanned<sp/>for<sp/>messages.<sp/>Separate<sp/>multiple<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;files<sp/>or<sp/>directories<sp/>with<sp/>commas(,)&apos;</highlight><highlight class="normal">),<sp/><sp/></highlight><highlight class="comment">#<sp/>TODO:<sp/>Support<sp/>repetition<sp/>of<sp/>this<sp/>argument</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;input-dirs=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/><sp/></highlight><highlight class="comment">#<sp/>TODO<sp/>(3.x):<sp/>Remove<sp/>me.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;alias<sp/>for<sp/>input-paths<sp/>(does<sp/>allow<sp/>files<sp/>as<sp/>well<sp/>as<sp/>directories).&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;ignore-dirs=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Patterns<sp/>for<sp/>directories<sp/>to<sp/>ignore<sp/>when<sp/>scanning<sp/>for<sp/>messages.<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Separate<sp/>multiple<sp/>patterns<sp/>with<sp/>spaces<sp/>(default<sp/>&quot;.*<sp/>._&quot;)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;header-comment=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;header<sp/>comment<sp/>for<sp/>the<sp/>catalog&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;last-translator=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set<sp/>the<sp/>name<sp/>and<sp/>email<sp/>of<sp/>the<sp/>last<sp/>translator<sp/>in<sp/>output&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/>boolean_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;no-default-keywords&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;no-location&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;omit-header&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;no-wrap&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;sort-output&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;sort-by-file&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;strip-comments&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/>as_args<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;input-paths&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>multiple_value_options<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;add-comments&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;keywords&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;ignore-dirs&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/>option_aliases<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;keywords&apos;</highlight><highlight class="normal">:<sp/>(</highlight><highlight class="stringliteral">&apos;--keyword&apos;</highlight><highlight class="normal">,),</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;mapping-file&apos;</highlight><highlight class="normal">:<sp/>(</highlight><highlight class="stringliteral">&apos;--mapping&apos;</highlight><highlight class="normal">,),</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;output-file&apos;</highlight><highlight class="normal">:<sp/>(</highlight><highlight class="stringliteral">&apos;--output&apos;</highlight><highlight class="normal">,),</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;strip-comments&apos;</highlight><highlight class="normal">:<sp/>(</highlight><highlight class="stringliteral">&apos;--strip-comment-tags&apos;</highlight><highlight class="normal">,),</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;last-translator&apos;</highlight><highlight class="normal">:<sp/>(</highlight><highlight class="stringliteral">&apos;--last-translator&apos;</highlight><highlight class="normal">,),</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/>option_choices<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;add-location&apos;</highlight><highlight class="normal">:<sp/>(</highlight><highlight class="stringliteral">&apos;full&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;file&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;never&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a443b9bd2fc2b04d1092d556ab8e372ca" kindref="member">initialize_options</ref>(self):</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a77256f01a1d211c0c5ddb695f1688975" kindref="member">charset</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;utf-8&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ab443e1b6105fa053ee1b547673856b3e" kindref="member">keywords</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a5785fb2c10e29b1662949ff999ec7aca" kindref="member">no_default_keywords</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa26f55005c1e38d40eeb8d3d2e589889" kindref="member">mapping_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a0e35f2d1c6c31273e86f20ce45abbcbf" kindref="member">no_location</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a934ed45ea262eaed5995ed9e93d1ad09" kindref="member">add_location</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1af982526bea33cc6970da25533c0fcd78" kindref="member">omit_header</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1abfb27b0d3d5ae7274347ff21941771c2" kindref="member">output_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1afa051d6171f547491f564a27e157d2c8" kindref="member">input_dirs</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aedfd41c2c6183581ac7476cde12fddab" kindref="member">width</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a2f4e60dbc8824620635ee1b8c4c48132" kindref="member">no_wrap</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a1b7bb66a77b9654f8ae70f897c04304d" kindref="member">sort_output</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a1d22edf5ba61a1b5041342e20eae689c" kindref="member">sort_by_file</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1afd22b11bbbe4ff895882b257c2cb7a97" kindref="member">msgid_bugs_address</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ad03e6762ebba143a1cc5bce68161289a" kindref="member">copyright_holder</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a8637222b6704296d1c514c0718420a7d" kindref="member">project</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a672781888bf4706ce83ead0c7d07524d" kindref="member">version</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a64b582ca64a8b81cb4ea22514d37ed6b" kindref="member">add_comments</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a410136d5064a84765254af8efef9ab24" kindref="member">strip_comments</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a13f09d60d0f70453523a7bd7edf1e4e2" kindref="member">include_lineno</ref><sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a40e4b4f951b03189eb4b021d24d727d7" kindref="member">ignore_dirs</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa6af6f34767be255fbfd0b8a134ffdce" kindref="member">header_comment</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1acb812eea58160cccdbf6e1e0748f8750" kindref="member">last_translator</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ae2b74e2d474dc94c7d86effce1a996c9" kindref="member">finalize_options</ref>(self):</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1afa051d6171f547491f564a27e157d2c8" kindref="member">input_dirs</ref>:</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref>:</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref><sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1afa051d6171f547491f564a27e157d2c8" kindref="member">input_dirs</ref></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;input-dirs<sp/>and<sp/>input-paths<sp/>are<sp/>mutually<sp/>exclusive&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keywords<sp/>=<sp/>{}<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a5785fb2c10e29b1662949ff999ec7aca" kindref="member">no_default_keywords</ref><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>DEFAULT_KEYWORDS.copy()</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keywords.update(<ref refid="namespacebabel_1_1messages_1_1frontend_1a2b3a68543897b036991a614740006592" kindref="member">parse_keywords</ref>(<ref refid="namespacebabel_1_1messages_1_1frontend_1a1c41a6e19e5f3c914b2b5b01995e2662" kindref="member">listify_value</ref>(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ab443e1b6105fa053ee1b547673856b3e" kindref="member">keywords</ref>)))</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ab443e1b6105fa053ee1b547673856b3e" kindref="member">keywords</ref><sp/>=<sp/>keywords</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ab443e1b6105fa053ee1b547673856b3e" kindref="member">keywords</ref>:</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>new<sp/>keywords<sp/>if<sp/>you<sp/>disable<sp/>the<sp/>default<sp/>ones&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1abfb27b0d3d5ae7274347ff21941771c2" kindref="member">output_file</ref>:</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;no<sp/>output<sp/>file<sp/>specified&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a2f4e60dbc8824620635ee1b8c4c48132" kindref="member">no_wrap</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aedfd41c2c6183581ac7476cde12fddab" kindref="member">width</ref>:</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&apos;--no-wrap&apos;<sp/>and<sp/>&apos;--width&apos;<sp/>are<sp/>mutually<sp/>exclusive&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a2f4e60dbc8824620635ee1b8c4c48132" kindref="member">no_wrap</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aedfd41c2c6183581ac7476cde12fddab" kindref="member">width</ref>:</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aedfd41c2c6183581ac7476cde12fddab" kindref="member">width</ref><sp/>=<sp/>76</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aedfd41c2c6183581ac7476cde12fddab" kindref="member">width</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aedfd41c2c6183581ac7476cde12fddab" kindref="member">width</ref><sp/>=<sp/>int(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aedfd41c2c6183581ac7476cde12fddab" kindref="member">width</ref>)</highlight></codeline>
<codeline lineno="428"><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a1b7bb66a77b9654f8ae70f897c04304d" kindref="member">sort_output</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a1d22edf5ba61a1b5041342e20eae689c" kindref="member">sort_by_file</ref>:</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&apos;--sort-output&apos;<sp/>and<sp/>&apos;--sort-by-file&apos;<sp/>are<sp/>mutually<sp/>exclusive&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref>:</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref>,<sp/>str):</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref><sp/>=<sp/>re.split(</highlight><highlight class="stringliteral">r&apos;,\s*&apos;</highlight><highlight class="normal">,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref>)</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0694c1485da6e9a1ebdd2c5f0a8f5a1f" kindref="member">distribution</ref><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ac143f673494536580145a87d6dfff3f4" kindref="member">distribution</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref><sp/>=<sp/>dict.fromkeys([</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>k.split(</highlight><highlight class="stringliteral">&apos;.&apos;</highlight><highlight class="normal">,<sp/>1)[0]</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0694c1485da6e9a1ebdd2c5f0a8f5a1f" kindref="member">distribution</ref><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ac143f673494536580145a87d6dfff3f4" kindref="member">distribution</ref>.packages<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>())</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]).keys()</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref><sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref>:</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&quot;no<sp/>input<sp/>files<sp/>or<sp/>directories<sp/>specified&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="447"><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>path<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref>:</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.exists(path):</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(f</highlight><highlight class="stringliteral">&quot;Input<sp/>path:<sp/>{path}<sp/>does<sp/>not<sp/>exist&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="451"><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a64b582ca64a8b81cb4ea22514d37ed6b" kindref="member">add_comments</ref><sp/>=<sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1a1c41a6e19e5f3c914b2b5b01995e2662" kindref="member">listify_value</ref>(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a64b582ca64a8b81cb4ea22514d37ed6b" kindref="member">add_comments</ref><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(),<sp/></highlight><highlight class="stringliteral">&quot;,&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0694c1485da6e9a1ebdd2c5f0a8f5a1f" kindref="member">distribution</ref><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ac143f673494536580145a87d6dfff3f4" kindref="member">distribution</ref>:</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a8637222b6704296d1c514c0718420a7d" kindref="member">project</ref>:</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a8637222b6704296d1c514c0718420a7d" kindref="member">project</ref><sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0694c1485da6e9a1ebdd2c5f0a8f5a1f" kindref="member">distribution</ref><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ac143f673494536580145a87d6dfff3f4" kindref="member">distribution</ref>.get_name()</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a672781888bf4706ce83ead0c7d07524d" kindref="member">version</ref>:</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a672781888bf4706ce83ead0c7d07524d" kindref="member">version</ref><sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0694c1485da6e9a1ebdd2c5f0a8f5a1f" kindref="member">distribution</ref><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ac143f673494536580145a87d6dfff3f4" kindref="member">distribution</ref>.get_version()</highlight></codeline>
<codeline lineno="459"><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a934ed45ea262eaed5995ed9e93d1ad09" kindref="member">add_location</ref><sp/>==<sp/></highlight><highlight class="stringliteral">&apos;never&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a0e35f2d1c6c31273e86f20ce45abbcbf" kindref="member">no_location</ref><sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a934ed45ea262eaed5995ed9e93d1ad09" kindref="member">add_location</ref><sp/>==<sp/></highlight><highlight class="stringliteral">&apos;file&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a13f09d60d0f70453523a7bd7edf1e4e2" kindref="member">include_lineno</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ignore_dirs<sp/>=<sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1a1c41a6e19e5f3c914b2b5b01995e2662" kindref="member">listify_value</ref>(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a40e4b4f951b03189eb4b021d24d727d7" kindref="member">ignore_dirs</ref>)</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>ignore_dirs:</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a24bdb66eb0fd9e179eb723ef83bad83b" kindref="member">directory_filter</ref><sp/>=<sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1a09a7da866c5f9c3e06c6a5b4bd57c76f" kindref="member">_make_directory_filter</ref>(ignore_dirs)</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a24bdb66eb0fd9e179eb723ef83bad83b" kindref="member">directory_filter</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ae8b427a33a394166f06a33e17ebf8ca4" kindref="member">_build_callback</ref>(self,<sp/>path:<sp/>str):</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">callback(filename:<sp/>str,<sp/>method:<sp/>str,<sp/>options:<sp/>dict):</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>method<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;ignore&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>we<sp/>explicitly<sp/>provide<sp/>a<sp/>full<sp/>filepath,<sp/>just<sp/>use<sp/>that.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Otherwise,<sp/>path<sp/>will<sp/>be<sp/>the<sp/>directory<sp/>path<sp/>and<sp/>filename</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>is<sp/>the<sp/>relative<sp/>path<sp/>from<sp/>that<sp/>dir<sp/>to<sp/>the<sp/>file.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>So<sp/>we<sp/>can<sp/>join<sp/>those<sp/>to<sp/>get<sp/>the<sp/>full<sp/>filepath.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(path):</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filepath<sp/>=<sp/>path</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filepath<sp/>=<sp/>os.path.normpath(os.path.join(path,<sp/>filename))</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optstr<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>options:</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>opt_values<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;,<sp/>&quot;</highlight><highlight class="normal">.join(f</highlight><highlight class="stringliteral">&apos;{k}=&quot;{v}&quot;&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>options.items())</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>optstr<sp/>=<sp/>f</highlight><highlight class="stringliteral">&quot;<sp/>({opt_values})&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&apos;extracting<sp/>messages<sp/>from<sp/>%s%s&apos;</highlight><highlight class="normal">,<sp/>filepath,<sp/>optstr)</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>callback</highlight></codeline>
<codeline lineno="492"><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa6ed4604afb6ffc6663735e80f8b22ff" kindref="member">run</ref>(self):</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mappings<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa8a9a0738414592ffb93268f212a80ce" kindref="member">_get_mappings</ref>()</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1abfb27b0d3d5ae7274347ff21941771c2" kindref="member">output_file</ref>,<sp/></highlight><highlight class="stringliteral">&apos;wb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>outfile:</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog<sp/>=<sp/><ref refid="classbabel_1_1messages_1_1catalog_1_1Catalog" kindref="compound">Catalog</ref>(project=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a8637222b6704296d1c514c0718420a7d" kindref="member">project</ref>,</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>version=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a672781888bf4706ce83ead0c7d07524d" kindref="member">version</ref>,</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msgid_bugs_address=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1afd22b11bbbe4ff895882b257c2cb7a97" kindref="member">msgid_bugs_address</ref>,</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>copyright_holder=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ad03e6762ebba143a1cc5bce68161289a" kindref="member">copyright_holder</ref>,</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>charset=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a77256f01a1d211c0c5ddb695f1688975" kindref="member">charset</ref>,</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>header_comment=(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa6af6f34767be255fbfd0b8a134ffdce" kindref="member">header_comment</ref><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>DEFAULT_HEADER),</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>last_translator=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1acb812eea58160cccdbf6e1e0748f8750" kindref="member">last_translator</ref>)</highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>path,<sp/>method_map,<sp/>options_map<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>mappings:</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callback<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ae8b427a33a394166f06a33e17ebf8ca4" kindref="member">_build_callback</ref>(path)</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(path):</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_dir<sp/>=<sp/>os.getcwd()</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extracted<sp/>=<sp/>check_and_call_extract_file(</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>path,<sp/>method_map,<sp/>options_map,</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callback,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ab443e1b6105fa053ee1b547673856b3e" kindref="member">keywords</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a64b582ca64a8b81cb4ea22514d37ed6b" kindref="member">add_comments</ref>,</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a410136d5064a84765254af8efef9ab24" kindref="member">strip_comments</ref>,<sp/>current_dir,</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extracted<sp/>=<sp/>extract_from_dir(</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>path,<sp/>method_map,<sp/>options_map,</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keywords=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ab443e1b6105fa053ee1b547673856b3e" kindref="member">keywords</ref>,</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>comment_tags=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a64b582ca64a8b81cb4ea22514d37ed6b" kindref="member">add_comments</ref>,</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>callback=callback,</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strip_comment_tags=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a410136d5064a84765254af8efef9ab24" kindref="member">strip_comments</ref>,</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>directory_filter=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a24bdb66eb0fd9e179eb723ef83bad83b" kindref="member">directory_filter</ref>,</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>filename,<sp/>lineno,<sp/>message,<sp/>comments,<sp/>context<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>extracted:</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.isfile(path):</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filepath<sp/>=<sp/>filename<sp/><sp/></highlight><highlight class="comment">#<sp/>already<sp/>normalized</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filepath<sp/>=<sp/>os.path.normpath(os.path.join(path,<sp/>filename))</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog.add(message,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>[(filepath,<sp/>lineno)],</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>auto_comments=comments,<sp/>context=context)</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&apos;writing<sp/>PO<sp/>template<sp/>file<sp/>to<sp/>%s&apos;</highlight><highlight class="normal">,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1abfb27b0d3d5ae7274347ff21941771c2" kindref="member">output_file</ref>)</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>write_po(outfile,<sp/>catalog,<sp/>width=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aedfd41c2c6183581ac7476cde12fddab" kindref="member">width</ref>,</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>no_location=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a0e35f2d1c6c31273e86f20ce45abbcbf" kindref="member">no_location</ref>,</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>omit_header=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1af982526bea33cc6970da25533c0fcd78" kindref="member">omit_header</ref>,</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sort_output=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a1b7bb66a77b9654f8ae70f897c04304d" kindref="member">sort_output</ref>,</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sort_by_file=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a1d22edf5ba61a1b5041342e20eae689c" kindref="member">sort_by_file</ref>,</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>include_lineno=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1a13f09d60d0f70453523a7bd7edf1e4e2" kindref="member">include_lineno</ref>)</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa8a9a0738414592ffb93268f212a80ce" kindref="member">_get_mappings</ref>(self):</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mappings<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa26f55005c1e38d40eeb8d3d2e589889" kindref="member">mapping_file</ref>:</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa26f55005c1e38d40eeb8d3d2e589889" kindref="member">mapping_file</ref>.endswith(</highlight><highlight class="stringliteral">&quot;.toml&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa26f55005c1e38d40eeb8d3d2e589889" kindref="member">mapping_file</ref>,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>fileobj:</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>file_style<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;pyproject.toml&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.basename(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa26f55005c1e38d40eeb8d3d2e589889" kindref="member">mapping_file</ref>)<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;pyproject.toml&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;standalone&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method_map,<sp/>options_map<sp/>=<sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1a99b26aeefd3eb93ccae621eb70d5ca14" kindref="member">_parse_mapping_toml</ref>(</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fileobj,</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa26f55005c1e38d40eeb8d3d2e589889" kindref="member">mapping_file</ref>,</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>style=file_style,</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa26f55005c1e38d40eeb8d3d2e589889" kindref="member">mapping_file</ref>)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>fileobj:</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method_map,<sp/>options_map<sp/>=<sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1adcabcb039cd5a5cd0ac090e9f8b3625d" kindref="member">parse_mapping_cfg</ref>(fileobj,<sp/>filename=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1aa26f55005c1e38d40eeb8d3d2e589889" kindref="member">mapping_file</ref>)</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>path<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref>:</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mappings.append((path,<sp/>method_map,<sp/>options_map))</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>getattr(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0694c1485da6e9a1ebdd2c5f0a8f5a1f" kindref="member">distribution</ref><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ac143f673494536580145a87d6dfff3f4" kindref="member">distribution</ref>,<sp/></highlight><highlight class="stringliteral">&apos;message_extractors&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>message_extractors<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a0694c1485da6e9a1ebdd2c5f0a8f5a1f" kindref="member">distribution</ref><ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ac143f673494536580145a87d6dfff3f4" kindref="member">distribution</ref>.message_extractors</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>path,<sp/>mapping<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>message_extractors.items():</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(mapping,<sp/>str):</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method_map,<sp/>options_map<sp/>=<sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1adcabcb039cd5a5cd0ac090e9f8b3625d" kindref="member">parse_mapping_cfg</ref>(StringIO(mapping))</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method_map,<sp/>options_map<sp/>=<sp/>[],<sp/>{}</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>pattern,<sp/>method,<sp/>options<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>mapping:</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method_map.append((pattern,<sp/>method))</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options_map[pattern]<sp/>=<sp/>options<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>{}</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mappings.append((path,<sp/>method_map,<sp/>options_map))</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>path<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1ExtractMessages_1ade789527d957330ebc5f9615a5b1e998" kindref="member">input_paths</ref>:</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mappings.append((path,<sp/>DEFAULT_MAPPING,<sp/>{}))</highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>mappings</highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"></highlight></codeline>
<codeline lineno="580" refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog" kindref="compound">InitCatalog</ref>(<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin" kindref="compound">CommandMixin</ref>):</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>description<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;create<sp/>a<sp/>new<sp/>catalog<sp/>based<sp/>on<sp/>a<sp/>POT<sp/>file&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>user_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;domain=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;D&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;domain<sp/>of<sp/>PO<sp/>file<sp/>(default<sp/>&apos;messages&apos;)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;input-file=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;i&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;name<sp/>of<sp/>the<sp/>input<sp/>file&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;output-dir=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;d&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;path<sp/>to<sp/>output<sp/>directory&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;output-file=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;o&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;name<sp/>of<sp/>the<sp/>output<sp/>file<sp/>(default<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&apos;&lt;output_dir&gt;/&lt;locale&gt;/LC_MESSAGES/&lt;domain&gt;.po&apos;)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;locale=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;l&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;locale<sp/>for<sp/>the<sp/>new<sp/>localized<sp/>catalog&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;width=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;w&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set<sp/>output<sp/>line<sp/>width<sp/>(default<sp/>76)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;no-wrap&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;do<sp/>not<sp/>break<sp/>long<sp/>message<sp/>lines,<sp/>longer<sp/>than<sp/>the<sp/>output<sp/>line<sp/>width,<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;into<sp/>several<sp/>lines&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/>boolean_options<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;no-wrap&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="601"><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1abc4a0fba38bfb8d1b0eca69f385c2b11" kindref="member">initialize_options</ref>(self):</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a50d2d52f2d59e8e2773190d8dcd8ba9b" kindref="member">output_dir</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a2a4d8c68733c6ec3d93c1e3e314c22a4" kindref="member">output_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a82ca14d29b26c3ad53d751eaaca537e5" kindref="member">input_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a54c6cec4ff6d0eb3e2b08f7b2dbcc4f9" kindref="member">locale</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1adb0f5487d8d8d2944e7021687ea4b6dc" kindref="member">domain</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;messages&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ae30af5a97eea3a892826a6c727e2ba56" kindref="member">no_wrap</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ad2525e3baeb8d33e8bdd0d80bdfe015a" kindref="member">width</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a958aeecf569c293c7ff59bc294ba376f" kindref="member">finalize_options</ref>(self):</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a82ca14d29b26c3ad53d751eaaca537e5" kindref="member">input_file</ref>:</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>the<sp/>input<sp/>file&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="614"><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a54c6cec4ff6d0eb3e2b08f7b2dbcc4f9" kindref="member">locale</ref>:</highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>provide<sp/>a<sp/>locale<sp/>for<sp/>the<sp/>new<sp/>catalog&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1aaf90cd7b7710d7ac275abf5ae8ab0965" kindref="member">_locale</ref><sp/>=<sp/>Locale.parse(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a54c6cec4ff6d0eb3e2b08f7b2dbcc4f9" kindref="member">locale</ref>)</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>UnknownLocaleError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(e)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>e</highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a2a4d8c68733c6ec3d93c1e3e314c22a4" kindref="member">output_file</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a50d2d52f2d59e8e2773190d8dcd8ba9b" kindref="member">output_dir</ref>:</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>the<sp/>output<sp/>directory&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a2a4d8c68733c6ec3d93c1e3e314c22a4" kindref="member">output_file</ref>:</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a2a4d8c68733c6ec3d93c1e3e314c22a4" kindref="member">output_file</ref><sp/>=<sp/>os.path.join(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a50d2d52f2d59e8e2773190d8dcd8ba9b" kindref="member">output_dir</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a54c6cec4ff6d0eb3e2b08f7b2dbcc4f9" kindref="member">locale</ref>,</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;LC_MESSAGES&apos;</highlight><highlight class="normal">,<sp/>f</highlight><highlight class="stringliteral">&quot;{self.domain}.po&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="627"><highlight class="normal"></highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.exists(os.path.dirname(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a2a4d8c68733c6ec3d93c1e3e314c22a4" kindref="member">output_file</ref>)):</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.makedirs(os.path.dirname(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a2a4d8c68733c6ec3d93c1e3e314c22a4" kindref="member">output_file</ref>))</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ae30af5a97eea3a892826a6c727e2ba56" kindref="member">no_wrap</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ad2525e3baeb8d33e8bdd0d80bdfe015a" kindref="member">width</ref>:</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&quot;&apos;--no-wrap&apos;<sp/>and<sp/>&apos;--width&apos;<sp/>are<sp/>mutually<sp/>exclusive&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ae30af5a97eea3a892826a6c727e2ba56" kindref="member">no_wrap</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ad2525e3baeb8d33e8bdd0d80bdfe015a" kindref="member">width</ref>:</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ad2525e3baeb8d33e8bdd0d80bdfe015a" kindref="member">width</ref><sp/>=<sp/>76</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ad2525e3baeb8d33e8bdd0d80bdfe015a" kindref="member">width</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ad2525e3baeb8d33e8bdd0d80bdfe015a" kindref="member">width</ref><sp/>=<sp/>int(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ad2525e3baeb8d33e8bdd0d80bdfe015a" kindref="member">width</ref>)</highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a80cca2805fff5cb38867c6381b62a094" kindref="member">run</ref>(self):</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;creating<sp/>catalog<sp/>%s<sp/>based<sp/>on<sp/>%s&apos;</highlight><highlight class="normal">,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a2a4d8c68733c6ec3d93c1e3e314c22a4" kindref="member">output_file</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a82ca14d29b26c3ad53d751eaaca537e5" kindref="member">input_file</ref>,</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="641"><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a82ca14d29b26c3ad53d751eaaca537e5" kindref="member">input_file</ref>,<sp/></highlight><highlight class="stringliteral">&apos;rb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>infile:</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Although<sp/>reading<sp/>from<sp/>the<sp/>catalog<sp/>template,<sp/>read_po<sp/>must<sp/>be<sp/>fed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>locale<sp/>in<sp/>order<sp/>to<sp/>correctly<sp/>calculate<sp/>plurals</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog<sp/>=<sp/>read_po(infile,<sp/>locale=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a54c6cec4ff6d0eb3e2b08f7b2dbcc4f9" kindref="member">locale</ref>)</highlight></codeline>
<codeline lineno="646"><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog.locale<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1aaf90cd7b7710d7ac275abf5ae8ab0965" kindref="member">_locale</ref></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog.revision_date<sp/>=<sp/>datetime.datetime.now(LOCALTZ)</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog.fuzzy<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="650"><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1a2a4d8c68733c6ec3d93c1e3e314c22a4" kindref="member">output_file</ref>,<sp/></highlight><highlight class="stringliteral">&apos;wb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>outfile:</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>write_po(outfile,<sp/>catalog,<sp/>width=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1InitCatalog_1ad2525e3baeb8d33e8bdd0d80bdfe015a" kindref="member">width</ref>)</highlight></codeline>
<codeline lineno="653"><highlight class="normal"></highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight></codeline>
<codeline lineno="655" refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog" kindref="compound">UpdateCatalog</ref>(<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin" kindref="compound">CommandMixin</ref>):</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/>description<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;update<sp/>message<sp/>catalogs<sp/>from<sp/>a<sp/>POT<sp/>file&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/>user_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;domain=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;D&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;domain<sp/>of<sp/>PO<sp/>file<sp/>(default<sp/>&apos;messages&apos;)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;input-file=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;i&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;name<sp/>of<sp/>the<sp/>input<sp/>file&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;output-dir=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;d&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;path<sp/>to<sp/>base<sp/>directory<sp/>containing<sp/>the<sp/>catalogs&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;output-file=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;o&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;name<sp/>of<sp/>the<sp/>output<sp/>file<sp/>(default<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&apos;&lt;output_dir&gt;/&lt;locale&gt;/LC_MESSAGES/&lt;domain&gt;.po&apos;)&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;omit-header&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;do<sp/>not<sp/>include<sp/>msgid<sp/>&quot;</highlight><highlight class="stringliteral">&quot;<sp/>entry<sp/>in<sp/>header&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;locale=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;l&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;locale<sp/>of<sp/>the<sp/>catalog<sp/>to<sp/>compile&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;width=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;w&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;set<sp/>output<sp/>line<sp/>width<sp/>(default<sp/>76)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;no-wrap&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;do<sp/>not<sp/>break<sp/>long<sp/>message<sp/>lines,<sp/>longer<sp/>than<sp/>the<sp/>output<sp/>line<sp/>width,<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;into<sp/>several<sp/>lines&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;ignore-obsolete=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;whether<sp/>to<sp/>omit<sp/>obsolete<sp/>messages<sp/>from<sp/>the<sp/>output&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;init-missing=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;if<sp/>any<sp/>output<sp/>files<sp/>are<sp/>missing,<sp/>initialize<sp/>them<sp/>first&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;no-fuzzy-matching&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;N&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;do<sp/>not<sp/>use<sp/>fuzzy<sp/>matching&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;update-header-comment&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;update<sp/>target<sp/>header<sp/>comment&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;previous&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;keep<sp/>previous<sp/>msgids<sp/>of<sp/>translated<sp/>messages&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;check=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;don\&apos;t<sp/>update<sp/>the<sp/>catalog,<sp/>just<sp/>return<sp/>the<sp/>status.<sp/>Return<sp/>code<sp/>0<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;means<sp/>nothing<sp/>would<sp/>change.<sp/>Return<sp/>code<sp/>1<sp/>means<sp/>that<sp/>the<sp/>catalog<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;would<sp/>be<sp/>updated&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;ignore-pot-creation-date=&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;ignore<sp/>changes<sp/>to<sp/>POT-Creation-Date<sp/>when<sp/>updating<sp/>or<sp/>checking&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/>boolean_options<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;omit-header&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;no-wrap&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;ignore-obsolete&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;init-missing&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;no-fuzzy-matching&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;previous&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;update-header-comment&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;check&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;ignore-pot-creation-date&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="698"><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ac597bb1672325d6c7e40c8e0fbbf130c" kindref="member">initialize_options</ref>(self):</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ad53ee3a3a95d36621ae61fecda952406" kindref="member">domain</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;messages&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab99bca5aaf5e0840150b8771f8be6499" kindref="member">input_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1af3839eb88bc0dd5ec14f20045de15d42" kindref="member">output_dir</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a960e2c33f57909bff96d039e61748b53" kindref="member">output_file</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a698828baabd439a9b32c6284e1c73f8a" kindref="member">omit_header</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a3253bfc94c9bc11e50a1ab42c841bfd9" kindref="member">width</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab44dcaa464ecb6df52afe83fa97e0d44" kindref="member">no_wrap</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1af65b31d8edb86c2f5de3687f8fb8a989" kindref="member">ignore_obsolete</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a6570da47f53a54323927d45d11b659ef" kindref="member">init_missing</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1acc462dd46188cfdcf3cf23e3451a9813" kindref="member">no_fuzzy_matching</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a84e4dfacc9f87bb354f6b35fab27104a" kindref="member">update_header_comment</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a2889da8953093ffa1b36488f4e515bba" kindref="member">previous</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ae86a69c74b04862bdf4db635aa98273a" kindref="member">check</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a24719e7fa7eef3d0725e7625aa752c30" kindref="member">ignore_pot_creation_date</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="715"><highlight class="normal"></highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a357c2d552a0fcb33b189ac60c4ac15a8" kindref="member">finalize_options</ref>(self):</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab99bca5aaf5e0840150b8771f8be6499" kindref="member">input_file</ref>:</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>the<sp/>input<sp/>file&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a960e2c33f57909bff96d039e61748b53" kindref="member">output_file</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1af3839eb88bc0dd5ec14f20045de15d42" kindref="member">output_dir</ref>:</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>the<sp/>output<sp/>file<sp/>or<sp/>directory&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a960e2c33f57909bff96d039e61748b53" kindref="member">output_file</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref>:</highlight></codeline>
<codeline lineno="722"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>the<sp/>locale&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="723"><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a6570da47f53a54323927d45d11b659ef" kindref="member">init_missing</ref>:</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref>:</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;you<sp/>must<sp/>specify<sp/>the<sp/>locale<sp/>for<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;the<sp/>init-missing<sp/>option<sp/>to<sp/>work&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="730"><highlight class="normal"></highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a0a9519de87646c56563de33be578984c" kindref="member">_locale</ref><sp/>=<sp/>Locale.parse(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref>)</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>UnknownLocaleError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(e)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>e</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a0a9519de87646c56563de33be578984c" kindref="member">_locale</ref><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="737"><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab44dcaa464ecb6df52afe83fa97e0d44" kindref="member">no_wrap</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a3253bfc94c9bc11e50a1ab42c841bfd9" kindref="member">width</ref>:</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&quot;&apos;--no-wrap&apos;<sp/>and<sp/>&apos;--width&apos;<sp/>are<sp/>mutually<sp/>exclusive&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab44dcaa464ecb6df52afe83fa97e0d44" kindref="member">no_wrap</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a3253bfc94c9bc11e50a1ab42c841bfd9" kindref="member">width</ref>:</highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a3253bfc94c9bc11e50a1ab42c841bfd9" kindref="member">width</ref><sp/>=<sp/>76</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a3253bfc94c9bc11e50a1ab42c841bfd9" kindref="member">width</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a3253bfc94c9bc11e50a1ab42c841bfd9" kindref="member">width</ref><sp/>=<sp/>int(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a3253bfc94c9bc11e50a1ab42c841bfd9" kindref="member">width</ref>)</highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1acc462dd46188cfdcf3cf23e3451a9813" kindref="member">no_fuzzy_matching</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a2889da8953093ffa1b36488f4e515bba" kindref="member">previous</ref>:</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a2889da8953093ffa1b36488f4e515bba" kindref="member">previous</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="746"><highlight class="normal"></highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1aa55d45f78bfff9e677fe0c1f3f99d19f" kindref="member">run</ref>(self):</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>check_status<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_files<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="750"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a960e2c33f57909bff96d039e61748b53" kindref="member">output_file</ref>:</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref>:</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_files.append((self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref>,</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.join(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1af3839eb88bc0dd5ec14f20045de15d42" kindref="member">output_dir</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref>,</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;LC_MESSAGES&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;{self.domain}.po&quot;</highlight><highlight class="normal">)))</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>locale<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>os.listdir(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1af3839eb88bc0dd5ec14f20045de15d42" kindref="member">output_dir</ref>):</highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_file<sp/>=<sp/>os.path.join(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1af3839eb88bc0dd5ec14f20045de15d42" kindref="member">output_dir</ref>,<sp/>locale,</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;LC_MESSAGES&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;{self.domain}.po&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>os.path.exists(po_file):</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_files.append((locale,<sp/>po_file))</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>po_files.append((self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref>,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a960e2c33f57909bff96d039e61748b53" kindref="member">output_file</ref>))</highlight></codeline>
<codeline lineno="765"><highlight class="normal"></highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>po_files:</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1OptionError" kindref="compound">OptionError</ref>(</highlight><highlight class="stringliteral">&apos;no<sp/>message<sp/>catalogs<sp/>found&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="768"><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domain<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ad53ee3a3a95d36621ae61fecda952406" kindref="member">domain</ref></highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>domain:</highlight></codeline>
<codeline lineno="771"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>domain<sp/>=<sp/>os.path.splitext(os.path.basename(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab99bca5aaf5e0840150b8771f8be6499" kindref="member">input_file</ref>))[0]</highlight></codeline>
<codeline lineno="772"><highlight class="normal"></highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab99bca5aaf5e0840150b8771f8be6499" kindref="member">input_file</ref>,<sp/></highlight><highlight class="stringliteral">&apos;rb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>infile:</highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>template<sp/>=<sp/>read_po(infile)</highlight></codeline>
<codeline lineno="775"><highlight class="normal"></highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>locale,<sp/>filename<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>po_files:</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a6570da47f53a54323927d45d11b659ef" kindref="member">init_missing</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>os.path.exists(filename):</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ae86a69c74b04862bdf4db635aa98273a" kindref="member">check</ref>:</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>check_status[filename]<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;creating<sp/>catalog<sp/>%s<sp/>based<sp/>on<sp/>%s&apos;</highlight><highlight class="normal">,<sp/>filename,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab99bca5aaf5e0840150b8771f8be6499" kindref="member">input_file</ref>,</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="784"><highlight class="normal"></highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab99bca5aaf5e0840150b8771f8be6499" kindref="member">input_file</ref>,<sp/></highlight><highlight class="stringliteral">&apos;rb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>infile:</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Although<sp/>reading<sp/>from<sp/>the<sp/>catalog<sp/>template,<sp/>read_po<sp/>must</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>be<sp/>fed<sp/>the<sp/>locale<sp/>in<sp/>order<sp/>to<sp/>correctly<sp/>calculate<sp/>plurals</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog<sp/>=<sp/>read_po(infile,<sp/>locale=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a8c604d45e4a2215eed97b6098b3a123b" kindref="member">locale</ref>)</highlight></codeline>
<codeline lineno="789"><highlight class="normal"></highlight></codeline>
<codeline lineno="790"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog.locale<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a0a9519de87646c56563de33be578984c" kindref="member">_locale</ref></highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog.revision_date<sp/>=<sp/>datetime.datetime.now(LOCALTZ)</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog.fuzzy<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"></highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(filename,<sp/></highlight><highlight class="stringliteral">&apos;wb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>outfile:</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>write_po(outfile,<sp/>catalog)</highlight></codeline>
<codeline lineno="796"><highlight class="normal"></highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&apos;updating<sp/>catalog<sp/>%s<sp/>based<sp/>on<sp/>%s&apos;</highlight><highlight class="normal">,<sp/>filename,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ab99bca5aaf5e0840150b8771f8be6499" kindref="member">input_file</ref>)</highlight></codeline>
<codeline lineno="798"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(filename,<sp/></highlight><highlight class="stringliteral">&apos;rb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>infile:</highlight></codeline>
<codeline lineno="799"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog<sp/>=<sp/>read_po(infile,<sp/>locale=locale,<sp/>domain=domain)</highlight></codeline>
<codeline lineno="800"><highlight class="normal"></highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catalog.update(</highlight></codeline>
<codeline lineno="802"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>template,<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1acc462dd46188cfdcf3cf23e3451a9813" kindref="member">no_fuzzy_matching</ref>,</highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update_header_comment=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a84e4dfacc9f87bb354f6b35fab27104a" kindref="member">update_header_comment</ref>,</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update_creation_date=</highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a24719e7fa7eef3d0725e7625aa752c30" kindref="member">ignore_pot_creation_date</ref>,</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="806"><highlight class="normal"></highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmpname<sp/>=<sp/>os.path.join(os.path.dirname(filename),</highlight></codeline>
<codeline lineno="808"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tempfile.gettempprefix()<sp/>+</highlight></codeline>
<codeline lineno="809"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.path.basename(filename))</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(tmpname,<sp/></highlight><highlight class="stringliteral">&apos;wb&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>tmpfile:</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>write_po(tmpfile,<sp/>catalog,</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>omit_header=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a698828baabd439a9b32c6284e1c73f8a" kindref="member">omit_header</ref>,</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ignore_obsolete=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1af65b31d8edb86c2f5de3687f8fb8a989" kindref="member">ignore_obsolete</ref>,</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>include_previous=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a2889da8953093ffa1b36488f4e515bba" kindref="member">previous</ref>,<sp/>width=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1a3253bfc94c9bc11e50a1ab42c841bfd9" kindref="member">width</ref>)</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>Exception:</highlight></codeline>
<codeline lineno="817"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.remove(tmpname)</highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="819"><highlight class="normal"></highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ae86a69c74b04862bdf4db635aa98273a" kindref="member">check</ref>:</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(filename,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>origfile:</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>original_catalog<sp/>=<sp/>read_po(origfile)</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">with</highlight><highlight class="normal"><sp/>open(tmpname,<sp/></highlight><highlight class="stringliteral">&quot;rb&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>newfile:</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updated_catalog<sp/>=<sp/>read_po(newfile)</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>updated_catalog.revision_date<sp/>=<sp/>original_catalog.revision_date</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>check_status[filename]<sp/>=<sp/>updated_catalog.is_identical(original_catalog)</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.remove(tmpname)</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.rename(tmpname,<sp/>filename)</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>OSError:</highlight></codeline>
<codeline lineno="833"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>We&apos;re<sp/>probably<sp/>on<sp/>Windows,<sp/>which<sp/>doesn&apos;t<sp/>support<sp/>atomic</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>renames,<sp/>at<sp/>least<sp/>not<sp/>through<sp/>Python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>If<sp/>the<sp/>error<sp/>is<sp/>in<sp/>fact<sp/>due<sp/>to<sp/>a<sp/>permissions<sp/>problem,<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>same<sp/>error<sp/>is<sp/>going<sp/>to<sp/>be<sp/>raised<sp/>from<sp/>one<sp/>of<sp/>the<sp/>following</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>operations</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.remove(filename)</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shutil.copy(tmpname,<sp/>filename)</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>os.remove(tmpname)</highlight></codeline>
<codeline lineno="841"><highlight class="normal"></highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1UpdateCatalog_1ae86a69c74b04862bdf4db635aa98273a" kindref="member">check</ref>:</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>filename,<sp/>up_to_date<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>check_status.items():</highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>up_to_date:</highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&apos;Catalog<sp/>%s<sp/>is<sp/>up<sp/>to<sp/>date.&apos;</highlight><highlight class="normal">,<sp/>filename)</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.warning(</highlight><highlight class="stringliteral">&apos;Catalog<sp/>%s<sp/>is<sp/>out<sp/>of<sp/>date.&apos;</highlight><highlight class="normal">,<sp/>filename)</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>all(check_status.values()):</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1BaseError" kindref="compound">BaseError</ref>(</highlight><highlight class="stringliteral">&quot;Some<sp/>catalogs<sp/>are<sp/>out<sp/>of<sp/>date.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandMixin_1a92c9658e19a95d812d55dd224d2d9be7" kindref="member">log</ref>.info(</highlight><highlight class="stringliteral">&quot;All<sp/>the<sp/>catalogs<sp/>are<sp/>up-to-date.&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"></highlight></codeline>
<codeline lineno="854"><highlight class="normal"></highlight></codeline>
<codeline lineno="855" refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface" kindref="compound">CommandLineInterface</ref>:</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Command-line<sp/>interface.</highlight></codeline>
<codeline lineno="857"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="858"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>This<sp/>class<sp/>provides<sp/>a<sp/>simple<sp/>command-line<sp/>interface<sp/>to<sp/>the<sp/>message</highlight></codeline>
<codeline lineno="859"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>extraction<sp/>and<sp/>PO<sp/>file<sp/>generation<sp/>functionality.</highlight></codeline>
<codeline lineno="860"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="861"><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/>usage<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;%%prog<sp/>%s<sp/>[options]<sp/>%s&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/>version<sp/>=<sp/>f</highlight><highlight class="stringliteral">&apos;%prog<sp/>{VERSION}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/>commands<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;compile&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;compile<sp/>message<sp/>catalogs<sp/>to<sp/>MO<sp/>files&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;extract&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;extract<sp/>messages<sp/>from<sp/>source<sp/>files<sp/>and<sp/>generate<sp/>a<sp/>POT<sp/>file&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;init&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;create<sp/>new<sp/>message<sp/>catalogs<sp/>from<sp/>a<sp/>POT<sp/>file&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;update&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;update<sp/>existing<sp/>message<sp/>catalogs<sp/>from<sp/>a<sp/>POT<sp/>file&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="870"><highlight class="normal"></highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/>command_classes<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;compile&apos;</highlight><highlight class="normal">:<sp/>CompileCatalog,</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;extract&apos;</highlight><highlight class="normal">:<sp/>ExtractMessages,</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;init&apos;</highlight><highlight class="normal">:<sp/>InitCatalog,</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;update&apos;</highlight><highlight class="normal">:<sp/>UpdateCatalog,</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="877"><highlight class="normal"></highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/>log<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>Replaced<sp/>on<sp/>instance<sp/>level</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="879"><highlight class="normal"></highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a6cafb4ce287c705cd27b1b2c2eae3d66" kindref="member">run</ref>(self,<sp/>argv=None):</highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Main<sp/>entry<sp/>point<sp/>of<sp/>the<sp/>command-line<sp/>interface.</highlight></codeline>
<codeline lineno="882"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="883"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>argv:<sp/>list<sp/>of<sp/>arguments<sp/>passed<sp/>on<sp/>the<sp/>command-line</highlight></codeline>
<codeline lineno="884"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="885"><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>argv<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>argv<sp/>=<sp/>sys.argv</highlight></codeline>
<codeline lineno="888"><highlight class="normal"></highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref><sp/>=<sp/>optparse.OptionParser(usage=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1ab6f7cc1640c7a02d47ebce8140232e0d" kindref="member">usage</ref><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;command&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;[args]&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>version=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a18523b883a9c31dbc99c98cd8fa8a78d" kindref="member">version</ref>)</highlight></codeline>
<codeline lineno="891"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.disable_interspersed_args()</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.print_help<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a02a2da0cf96e47f48caeea6d9d4eadd0" kindref="member">_help</ref></highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.add_option(</highlight><highlight class="stringliteral">&apos;--list-locales&apos;</highlight><highlight class="normal">,<sp/>dest=</highlight><highlight class="stringliteral">&apos;list_locales&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>action=</highlight><highlight class="stringliteral">&apos;store_true&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>help=</highlight><highlight class="stringliteral">&quot;print<sp/>all<sp/>known<sp/>locales<sp/>and<sp/>exit&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.add_option(</highlight><highlight class="stringliteral">&apos;-v&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;--verbose&apos;</highlight><highlight class="normal">,<sp/>action=</highlight><highlight class="stringliteral">&apos;store_const&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dest=</highlight><highlight class="stringliteral">&apos;loglevel&apos;</highlight><highlight class="normal">,<sp/>const=logging.DEBUG,</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>help=</highlight><highlight class="stringliteral">&apos;print<sp/>as<sp/>much<sp/>as<sp/>possible&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.add_option(</highlight><highlight class="stringliteral">&apos;-q&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;--quiet&apos;</highlight><highlight class="normal">,<sp/>action=</highlight><highlight class="stringliteral">&apos;store_const&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dest=</highlight><highlight class="stringliteral">&apos;loglevel&apos;</highlight><highlight class="normal">,<sp/>const=logging.ERROR,</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>help=</highlight><highlight class="stringliteral">&apos;print<sp/>as<sp/>little<sp/>as<sp/>possible&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.set_defaults(list_locales=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>loglevel=logging.INFO)</highlight></codeline>
<codeline lineno="903"><highlight class="normal"></highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options,<sp/>args<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.parse_args(argv[1:])</highlight></codeline>
<codeline lineno="905"><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1abbb7a4252addf828212b57b20a71b8e1" kindref="member">_configure_logging</ref>(options.loglevel)</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>options.list_locales:</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>identifiers<sp/>=<sp/>localedata.locale_identifiers()</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>id_width<sp/>=<sp/>max(len(identifier)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>identifier<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>identifiers)<sp/>+<sp/>1</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>identifier<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(identifiers):</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>locale<sp/>=<sp/>Locale.parse(identifier)</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(f</highlight><highlight class="stringliteral">&quot;{identifier:&lt;{id_width}}<sp/>{locale.english_name}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0</highlight></codeline>
<codeline lineno="914"><highlight class="normal"></highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>args:</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.error(</highlight><highlight class="stringliteral">&apos;no<sp/>valid<sp/>command<sp/>or<sp/>option<sp/>passed.<sp/>&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;Try<sp/>the<sp/>-h/--help<sp/>option<sp/>for<sp/>more<sp/>information.&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="918"><highlight class="normal"></highlight></codeline>
<codeline lineno="919"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdname<sp/>=<sp/>args[0]</highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>cmdname<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a59b4872f2a2b31e06d5202d02b7b070b" kindref="member">commands</ref>:</highlight></codeline>
<codeline lineno="921"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.error(f</highlight><highlight class="stringliteral">&apos;unknown<sp/>command<sp/>&quot;{cmdname}&quot;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="922"><highlight class="normal"></highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdinst<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1ab2bfa12cc331126eba822391cca99e61" kindref="member">_configure_command</ref>(cmdname,<sp/>args[1:])</highlight></codeline>
<codeline lineno="924"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cmdinst.run()</highlight></codeline>
<codeline lineno="925"><highlight class="normal"></highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1abbb7a4252addf828212b57b20a71b8e1" kindref="member">_configure_logging</ref>(self,<sp/>loglevel):</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a94898a25f87e726cd430b74b5e5ede7e" kindref="member">log</ref><sp/>=<sp/>log</highlight></codeline>
<codeline lineno="928"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a94898a25f87e726cd430b74b5e5ede7e" kindref="member">log</ref>.setLevel(loglevel)</highlight></codeline>
<codeline lineno="929"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Don&apos;t<sp/>add<sp/>a<sp/>new<sp/>handler<sp/>for<sp/>every<sp/>instance<sp/>initialization<sp/>(#227),<sp/>this</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="930"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>would<sp/>cause<sp/>duplicated<sp/>output<sp/>when<sp/>the<sp/>CommandLineInterface<sp/>as<sp/>an</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="931"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>normal<sp/>Python<sp/>class.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="932"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a94898a25f87e726cd430b74b5e5ede7e" kindref="member">log</ref>.handlers:</highlight></codeline>
<codeline lineno="933"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handler<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a94898a25f87e726cd430b74b5e5ede7e" kindref="member">log</ref>.handlers[0]</highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handler<sp/>=<sp/>logging.StreamHandler()</highlight></codeline>
<codeline lineno="936"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a94898a25f87e726cd430b74b5e5ede7e" kindref="member">log</ref>.addHandler(handler)</highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handler.setLevel(loglevel)</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>formatter<sp/>=<sp/>logging.Formatter(</highlight><highlight class="stringliteral">&apos;%(message)s&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="939"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handler.setFormatter(formatter)</highlight></codeline>
<codeline lineno="940"><highlight class="normal"></highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a02a2da0cf96e47f48caeea6d9d4eadd0" kindref="member">_help</ref>(self):</highlight></codeline>
<codeline lineno="942"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a52a350a03dd779753fdd5dc2f4b9af29" kindref="member">parser</ref>.format_help())</highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(</highlight><highlight class="stringliteral">&quot;commands:&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmd_width<sp/>=<sp/>max(8,<sp/>max(len(command)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>command<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a59b4872f2a2b31e06d5202d02b7b070b" kindref="member">commands</ref>)<sp/>+<sp/>1)</highlight></codeline>
<codeline lineno="945"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>name,<sp/>description<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>sorted(self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a59b4872f2a2b31e06d5202d02b7b070b" kindref="member">commands</ref>.items()):</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(f</highlight><highlight class="stringliteral">&quot;<sp/><sp/>{name:&lt;{cmd_width}}<sp/>{description}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="947"><highlight class="normal"></highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1ab2bfa12cc331126eba822391cca99e61" kindref="member">_configure_command</ref>(self,<sp/>cmdname,<sp/>argv):</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="950"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>cmdname:<sp/>str</highlight></codeline>
<codeline lineno="951"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:type<sp/>argv:<sp/>list[str]</highlight></codeline>
<codeline lineno="952"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdclass<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a74e0caf28f78512e2442c47bfe7d652b" kindref="member">command_classes</ref>[cmdname]</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdinst<sp/>=<sp/>cmdclass()</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a94898a25f87e726cd430b74b5e5ede7e" kindref="member">log</ref>:</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdinst.log<sp/>=<sp/>self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a94898a25f87e726cd430b74b5e5ede7e" kindref="member">log</ref><sp/><sp/></highlight><highlight class="comment">#<sp/>Use<sp/>our<sp/>logger,<sp/>not<sp/>distutils&apos;.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">assert</highlight><highlight class="normal"><sp/>isinstance(cmdinst,<sp/>CommandMixin)</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdinst.initialize_options()</highlight></codeline>
<codeline lineno="959"><highlight class="normal"></highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parser<sp/>=<sp/>optparse.OptionParser(</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>usage=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1ab6f7cc1640c7a02d47ebce8140232e0d" kindref="member">usage</ref><sp/>%<sp/>(cmdname,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>description=self.<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a59b4872f2a2b31e06d5202d02b7b070b" kindref="member">commands</ref>[cmdname],</highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>as_args:<sp/>str<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/>getattr(cmdclass,<sp/></highlight><highlight class="stringliteral">&quot;as_args&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>long,<sp/>short,<sp/>help<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>cmdclass.user_options:</highlight></codeline>
<codeline lineno="966"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>long.strip(</highlight><highlight class="stringliteral">&quot;=&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default<sp/>=<sp/>getattr(cmdinst,<sp/>name.replace(</highlight><highlight class="stringliteral">&quot;-&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;_&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="968"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strs<sp/>=<sp/>[f</highlight><highlight class="stringliteral">&quot;--{name}&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>short:</highlight></codeline>
<codeline lineno="970"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strs.append(f</highlight><highlight class="stringliteral">&quot;-{short}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strs.extend(cmdclass.option_aliases.get(name,<sp/>()))</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>choices<sp/>=<sp/>cmdclass.option_choices.get(name,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>name<sp/>==<sp/>as_args:</highlight></codeline>
<codeline lineno="974"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parser.usage<sp/>+=<sp/>f</highlight><highlight class="stringliteral">&quot;&lt;{name}&gt;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="975"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>cmdclass.boolean_options:</highlight></codeline>
<codeline lineno="976"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parser.add_option(*strs,<sp/>action=</highlight><highlight class="stringliteral">&quot;store_true&quot;</highlight><highlight class="normal">,<sp/>help=help)</highlight></codeline>
<codeline lineno="977"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>cmdclass.multiple_value_options:</highlight></codeline>
<codeline lineno="978"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parser.add_option(*strs,<sp/>action=</highlight><highlight class="stringliteral">&quot;append&quot;</highlight><highlight class="normal">,<sp/>help=help,<sp/>choices=choices)</highlight></codeline>
<codeline lineno="979"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="980"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parser.add_option(*strs,<sp/>help=help,<sp/>default=default,<sp/>choices=choices)</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options,<sp/>args<sp/>=<sp/>parser.parse_args(argv)</highlight></codeline>
<codeline lineno="982"><highlight class="normal"></highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>as_args:</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setattr(options,<sp/>as_args.replace(</highlight><highlight class="stringliteral">&apos;-&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;_&apos;</highlight><highlight class="normal">),<sp/>args)</highlight></codeline>
<codeline lineno="985"><highlight class="normal"></highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>key,<sp/>value<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>vars(options).items():</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>setattr(cmdinst,<sp/>key,<sp/>value)</highlight></codeline>
<codeline lineno="988"><highlight class="normal"></highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cmdinst.ensure_finalized()</highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>OptionError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>err:</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parser.error(str(err))</highlight></codeline>
<codeline lineno="993"><highlight class="normal"></highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cmdinst</highlight></codeline>
<codeline lineno="995"><highlight class="normal"></highlight></codeline>
<codeline lineno="996"><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a39fc65d776600295a7c803735469cca5" kindref="member">main</ref>():</highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface" kindref="compound">CommandLineInterface</ref>().<ref refid="classbabel_1_1messages_1_1frontend_1_1CommandLineInterface_1a6cafb4ce287c705cd27b1b2c2eae3d66" kindref="member">run</ref>(sys.argv)</highlight></codeline>
<codeline lineno="999"><highlight class="normal"></highlight></codeline>
<codeline lineno="1000"><highlight class="normal"></highlight></codeline>
<codeline lineno="1001"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a798c9ef9088d6e880410b6d1e1ed3a13" kindref="member">parse_mapping</ref>(fileobj,<sp/>filename=None):</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/>warnings.warn(</highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;parse_mapping<sp/>is<sp/>deprecated,<sp/>use<sp/>parse_mapping_cfg<sp/>instead&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DeprecationWarning,</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stacklevel=2,</highlight></codeline>
<codeline lineno="1006"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1adcabcb039cd5a5cd0ac090e9f8b3625d" kindref="member">parse_mapping_cfg</ref>(fileobj,<sp/>filename)</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"></highlight></codeline>
<codeline lineno="1009"><highlight class="normal"></highlight></codeline>
<codeline lineno="1010"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1adcabcb039cd5a5cd0ac090e9f8b3625d" kindref="member">parse_mapping_cfg</ref>(fileobj,<sp/>filename=None):</highlight></codeline>
<codeline lineno="1011"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Parse<sp/>an<sp/>extraction<sp/>method<sp/>mapping<sp/>from<sp/>a<sp/>file-like<sp/>object.</highlight></codeline>
<codeline lineno="1012"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1013"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>fileobj:<sp/>a<sp/>readable<sp/>file-like<sp/>object<sp/>containing<sp/>the<sp/>configuration</highlight></codeline>
<codeline lineno="1014"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>to<sp/>parse</highlight></codeline>
<codeline lineno="1015"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>filename:<sp/>the<sp/>name<sp/>of<sp/>the<sp/>file<sp/>being<sp/>parsed,<sp/>for<sp/>error<sp/>messages</highlight></codeline>
<codeline lineno="1016"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1017"><highlight class="normal"><sp/><sp/><sp/><sp/>extractors<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/>method_map<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1019"><highlight class="normal"><sp/><sp/><sp/><sp/>options_map<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/>parser<sp/>=<sp/>RawConfigParser()</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/>parser.read_file(fileobj,<sp/>filename)</highlight></codeline>
<codeline lineno="1023"><highlight class="normal"></highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>section<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>parser.sections():</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>section<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;extractors&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extractors<sp/>=<sp/>dict(parser.items(section))</highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method,<sp/>pattern<sp/>=<sp/>(part.strip()<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>part<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>section.split(</highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal">,<sp/>1))</highlight></codeline>
<codeline lineno="1029"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method_map.append((pattern,<sp/>method))</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options_map[pattern]<sp/>=<sp/>dict(parser.items(section))</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"></highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>extractors:</highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>idx,<sp/>(pattern,<sp/>method)<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(method_map):</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>method<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>extractors:</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method<sp/>=<sp/>extractors[method]</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method_map[idx]<sp/>=<sp/>(pattern,<sp/>method)</highlight></codeline>
<codeline lineno="1037"><highlight class="normal"></highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>method_map,<sp/>options_map</highlight></codeline>
<codeline lineno="1039"><highlight class="normal"></highlight></codeline>
<codeline lineno="1040"><highlight class="normal"></highlight></codeline>
<codeline lineno="1041"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a0a2a416acce5619c7f616a542d9c7ef1" kindref="member">_parse_config_object</ref>(config:<sp/>dict,<sp/>*,<sp/>filename=</highlight><highlight class="stringliteral">&quot;(unknown)&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="1042"><highlight class="normal"><sp/><sp/><sp/><sp/>extractors<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"><sp/><sp/><sp/><sp/>method_map<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/>options_map<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="1045"><highlight class="normal"></highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/>extractors_read<sp/>=<sp/>config.get(</highlight><highlight class="stringliteral">&quot;extractors&quot;</highlight><highlight class="normal">,<sp/>{})</highlight></codeline>
<codeline lineno="1047"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(extractors_read,<sp/>dict):</highlight></codeline>
<codeline lineno="1048"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>extractors:<sp/>Expected<sp/>a<sp/>dictionary,<sp/>got<sp/>{type(extractors_read)!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1049"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>method,<sp/>callable_spec<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>extractors_read.items():</highlight></codeline>
<codeline lineno="1050"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(method,<sp/>str):</highlight></codeline>
<codeline lineno="1051"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Impossible<sp/>via<sp/>TOML,<sp/>but<sp/>could<sp/>happen<sp/>with<sp/>a<sp/>custom<sp/>object.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1052"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>extractors:<sp/>Extraction<sp/>method<sp/>must<sp/>be<sp/>a<sp/>string,<sp/>got<sp/>{method!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1053"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(callable_spec,<sp/>str):</highlight></codeline>
<codeline lineno="1054"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>extractors:<sp/>Callable<sp/>specification<sp/>must<sp/>be<sp/>a<sp/>string,<sp/>got<sp/>{callable_spec!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1055"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>extractors[method]<sp/>=<sp/>callable_spec</highlight></codeline>
<codeline lineno="1056"><highlight class="normal"></highlight></codeline>
<codeline lineno="1057"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;mapping&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>config:</highlight></codeline>
<codeline lineno="1058"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>&apos;mapping&apos;<sp/>is<sp/>not<sp/>a<sp/>valid<sp/>key,<sp/>did<sp/>you<sp/>mean<sp/>&apos;mappings&apos;?&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/>mappings_read<sp/>=<sp/>config.get(</highlight><highlight class="stringliteral">&quot;mappings&quot;</highlight><highlight class="normal">,<sp/>[])</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(mappings_read,<sp/>list):</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>mappings:<sp/>Expected<sp/>a<sp/>list,<sp/>got<sp/>{type(mappings_read)!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>idx,<sp/>entry<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>enumerate(mappings_read):</highlight></codeline>
<codeline lineno="1064"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(entry,<sp/>dict):</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>mappings[{idx}]:<sp/>Expected<sp/>a<sp/>dictionary,<sp/>got<sp/>{type(entry)!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entry<sp/>=<sp/>entry.copy()</highlight></codeline>
<codeline lineno="1067"><highlight class="normal"></highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method<sp/>=<sp/>entry.pop(</highlight><highlight class="stringliteral">&quot;method&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1069"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(method,<sp/>str):</highlight></codeline>
<codeline lineno="1070"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>mappings[{idx}]:<sp/>&apos;method&apos;<sp/>must<sp/>be<sp/>a<sp/>string,<sp/>got<sp/>{method!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1071"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method<sp/>=<sp/>extractors.get(method,<sp/>method)<sp/><sp/></highlight><highlight class="comment">#<sp/>Map<sp/>the<sp/>extractor<sp/>name<sp/>to<sp/>the<sp/>callable<sp/>now</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1072"><highlight class="normal"></highlight></codeline>
<codeline lineno="1073"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattern<sp/>=<sp/>entry.pop(</highlight><highlight class="stringliteral">&quot;pattern&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1074"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(pattern,<sp/>(list,<sp/>str)):</highlight></codeline>
<codeline lineno="1075"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>mappings[{idx}]:<sp/>&apos;pattern&apos;<sp/>must<sp/>be<sp/>a<sp/>list<sp/>or<sp/>a<sp/>string,<sp/>got<sp/>{pattern!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1076"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(pattern,<sp/>list):</highlight></codeline>
<codeline lineno="1077"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pattern<sp/>=<sp/>[pattern]</highlight></codeline>
<codeline lineno="1078"><highlight class="normal"></highlight></codeline>
<codeline lineno="1079"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>pat<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>pattern:</highlight></codeline>
<codeline lineno="1080"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(pat,<sp/>str):</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>mappings[{idx}]:<sp/>&apos;pattern&apos;<sp/>elements<sp/>must<sp/>be<sp/>strings,<sp/>got<sp/>{pat!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method_map.append((pat,<sp/>method))</highlight></codeline>
<codeline lineno="1083"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options_map[pat]<sp/>=<sp/>entry</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"></highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>method_map,<sp/>options_map</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"></highlight></codeline>
<codeline lineno="1087"><highlight class="normal"></highlight></codeline>
<codeline lineno="1088"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a99b26aeefd3eb93ccae621eb70d5ca14" kindref="member">_parse_mapping_toml</ref>(</highlight></codeline>
<codeline lineno="1089"><highlight class="normal"><sp/><sp/><sp/><sp/>fileobj:<sp/>BinaryIO,</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/>filename:<sp/>str<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;(unknown)&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/>style:<sp/>Literal[</highlight><highlight class="stringliteral">&quot;standalone&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;pyproject.toml&quot;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;standalone&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="1092"><highlight class="normal">):</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Parse<sp/>an<sp/>extraction<sp/>method<sp/>mapping<sp/>from<sp/>a<sp/>binary<sp/>file-like<sp/>object.</highlight></codeline>
<codeline lineno="1094"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1095"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>..<sp/>warning:<sp/>As<sp/>of<sp/>this<sp/>version<sp/>of<sp/>Babel,<sp/>this<sp/>is<sp/>a<sp/>private<sp/>API<sp/>subject<sp/>to<sp/>changes.</highlight></codeline>
<codeline lineno="1096"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1097"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>fileobj:<sp/>a<sp/>readable<sp/>binary<sp/>file-like<sp/>object<sp/>containing<sp/>the<sp/>configuration<sp/>TOML<sp/>to<sp/>parse</highlight></codeline>
<codeline lineno="1098"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>filename:<sp/>the<sp/>name<sp/>of<sp/>the<sp/>file<sp/>being<sp/>parsed,<sp/>for<sp/>error<sp/>messages</highlight></codeline>
<codeline lineno="1099"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>style:<sp/>whether<sp/>the<sp/>file<sp/>is<sp/>in<sp/>the<sp/>style<sp/>of<sp/>a<sp/>`pyproject.toml`<sp/>file,<sp/>i.e.<sp/>whether<sp/>to<sp/>look<sp/>for<sp/>`tool.babel`.</highlight></codeline>
<codeline lineno="1100"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>tomllib</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ImportError:</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>tomli<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>tomllib</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ImportError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>ie:<sp/><sp/></highlight><highlight class="comment">#<sp/>pragma:<sp/>no<sp/>cover</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ImportError(</highlight><highlight class="stringliteral">&quot;tomli<sp/>or<sp/>tomllib<sp/>is<sp/>required<sp/>to<sp/>parse<sp/>TOML<sp/>files&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>ie</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"></highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parsed_data<sp/>=<sp/>tomllib.load(fileobj)</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>tomllib.TOMLDecodeError<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>Error<sp/>parsing<sp/>TOML<sp/>file:<sp/>{e}&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>e</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"></highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>style<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;pyproject.toml&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>babel_data<sp/>=<sp/>parsed_data[</highlight><highlight class="stringliteral">&quot;tool&quot;</highlight><highlight class="normal">][</highlight><highlight class="stringliteral">&quot;babel&quot;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>(TypeError,<sp/>KeyError)<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>No<sp/>&apos;tool.babel&apos;<sp/>section<sp/>found<sp/>in<sp/>file&quot;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>e</highlight></codeline>
<codeline lineno="1119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>style<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;standalone&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>babel_data<sp/>=<sp/>parsed_data</highlight></codeline>
<codeline lineno="1121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;babel&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>babel_data:</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/><ref refid="classbabel_1_1messages_1_1frontend_1_1ConfigurationError" kindref="compound">ConfigurationError</ref>(f</highlight><highlight class="stringliteral">&quot;{filename}:<sp/>&apos;babel&apos;<sp/>should<sp/>not<sp/>be<sp/>present<sp/>in<sp/>a<sp/>stand-alone<sp/>configuration<sp/>file&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>pragma:<sp/>no<sp/>cover</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>ValueError(f</highlight><highlight class="stringliteral">&quot;Unknown<sp/>TOML<sp/>style<sp/>{style!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"></highlight></codeline>
<codeline lineno="1126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1a0a2a416acce5619c7f616a542d9c7ef1" kindref="member">_parse_config_object</ref>(babel_data,<sp/>filename=filename)</highlight></codeline>
<codeline lineno="1127"><highlight class="normal"></highlight></codeline>
<codeline lineno="1128"><highlight class="normal"></highlight></codeline>
<codeline lineno="1129"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a946956106a623e8751ac95f29abe5a50" kindref="member">_parse_spec</ref>(s:<sp/>str)<sp/>-&gt;<sp/>tuple[int<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>tuple[int<sp/>|<sp/>tuple[int,<sp/>str],<sp/>...]]:</highlight></codeline>
<codeline lineno="1130"><highlight class="normal"><sp/><sp/><sp/><sp/>inds<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/>number<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>s.split(</highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="1133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>x[-1]<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;t&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>number<sp/>=<sp/>int(x[:-1])</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>x[-1]<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;c&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inds.append((int(x[:-1]),<sp/></highlight><highlight class="stringliteral">&apos;c&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="1137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inds.append(int(x))</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>number,<sp/>tuple(inds)</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"></highlight></codeline>
<codeline lineno="1141"><highlight class="normal"></highlight></codeline>
<codeline lineno="1142"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a2b3a68543897b036991a614740006592" kindref="member">parse_keywords</ref>(strings:<sp/>Iterable[str]<sp/>=<sp/>()):</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Parse<sp/>keywords<sp/>specifications<sp/>from<sp/>the<sp/>given<sp/>list<sp/>of<sp/>strings.</highlight></codeline>
<codeline lineno="1144"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1145"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>import<sp/>pprint</highlight></codeline>
<codeline lineno="1146"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>keywords<sp/>=<sp/>[&apos;_&apos;,<sp/>&apos;dgettext:2&apos;,<sp/>&apos;dngettext:2,3&apos;,<sp/>&apos;pgettext:1c,2&apos;,</highlight></codeline>
<codeline lineno="1147"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>...<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;polymorphic:1&apos;,<sp/>&apos;polymorphic:2,2t&apos;,<sp/>&apos;polymorphic:3c,3t&apos;]</highlight></codeline>
<codeline lineno="1148"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>pprint.pprint(parse_keywords(keywords))</highlight></codeline>
<codeline lineno="1149"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>{&apos;_&apos;:<sp/>None,</highlight></codeline>
<codeline lineno="1150"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&apos;dgettext&apos;:<sp/>(2,),</highlight></codeline>
<codeline lineno="1151"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&apos;dngettext&apos;:<sp/>(2,<sp/>3),</highlight></codeline>
<codeline lineno="1152"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&apos;pgettext&apos;:<sp/>((1,<sp/>&apos;c&apos;),<sp/>2),</highlight></codeline>
<codeline lineno="1153"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/>&apos;polymorphic&apos;:<sp/>{None:<sp/>(1,),<sp/>2:<sp/>(2,),<sp/>3:<sp/>((3,<sp/>&apos;c&apos;),)}}</highlight></codeline>
<codeline lineno="1154"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1155"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>input<sp/>keywords<sp/>are<sp/>in<sp/>GNU<sp/>Gettext<sp/>style;<sp/>see<sp/>:doc:`cmdline`<sp/>for<sp/>details.</highlight></codeline>
<codeline lineno="1156"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1157"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>output<sp/>is<sp/>a<sp/>dictionary<sp/>mapping<sp/>keyword<sp/>names<sp/>to<sp/>a<sp/>dictionary<sp/>of<sp/>specifications.</highlight></codeline>
<codeline lineno="1158"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Keys<sp/>in<sp/>this<sp/>dictionary<sp/>are<sp/>numbers<sp/>of<sp/>arguments,<sp/>where<sp/>``None``<sp/>means<sp/>that<sp/>all<sp/>numbers</highlight></codeline>
<codeline lineno="1159"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>of<sp/>arguments<sp/>are<sp/>matched,<sp/>and<sp/>a<sp/>number<sp/>means<sp/>only<sp/>calls<sp/>with<sp/>that<sp/>number<sp/>of<sp/>arguments</highlight></codeline>
<codeline lineno="1160"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>are<sp/>matched<sp/>(which<sp/>happens<sp/>when<sp/>using<sp/>the<sp/>&quot;t&quot;<sp/>specifier).<sp/>However,<sp/>as<sp/>a<sp/>special</highlight></codeline>
<codeline lineno="1161"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>case<sp/>for<sp/>backwards<sp/>compatibility,<sp/>if<sp/>the<sp/>dictionary<sp/>of<sp/>specifications<sp/>would</highlight></codeline>
<codeline lineno="1162"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>be<sp/>``{None:<sp/>x}``,<sp/>i.e.,<sp/>there<sp/>is<sp/>only<sp/>one<sp/>specification<sp/>and<sp/>it<sp/>matches<sp/>all<sp/>argument</highlight></codeline>
<codeline lineno="1163"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>counts,<sp/>then<sp/>it<sp/>is<sp/>collapsed<sp/>into<sp/>just<sp/>``x``.</highlight></codeline>
<codeline lineno="1164"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>A<sp/>specification<sp/>is<sp/>either<sp/>a<sp/>tuple<sp/>or<sp/>None.<sp/>If<sp/>a<sp/>tuple,<sp/>each<sp/>element<sp/>can<sp/>be<sp/>either<sp/>a<sp/>number</highlight></codeline>
<codeline lineno="1166"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``n``,<sp/>meaning<sp/>that<sp/>the<sp/>nth<sp/>argument<sp/>should<sp/>be<sp/>extracted<sp/>as<sp/>a<sp/>message,<sp/>or<sp/>the<sp/>tuple</highlight></codeline>
<codeline lineno="1167"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``(n,<sp/>&apos;c&apos;)``,<sp/>meaning<sp/>that<sp/>the<sp/>nth<sp/>argument<sp/>should<sp/>be<sp/>extracted<sp/>as<sp/>context<sp/>for<sp/>the</highlight></codeline>
<codeline lineno="1168"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>messages.<sp/>A<sp/>``None``<sp/>specification<sp/>is<sp/>equivalent<sp/>to<sp/>``(1,)``,<sp/>extracting<sp/>the<sp/>first</highlight></codeline>
<codeline lineno="1169"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>argument.</highlight></codeline>
<codeline lineno="1170"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1171"><highlight class="normal"><sp/><sp/><sp/><sp/>keywords<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>string<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>strings:</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>string:</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>funcname,<sp/>spec_str<sp/>=<sp/>string.split(</highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>number,<sp/>spec<sp/>=<sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1a946956106a623e8751ac95f29abe5a50" kindref="member">_parse_spec</ref>(spec_str)</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>funcname<sp/>=<sp/>string</highlight></codeline>
<codeline lineno="1178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>number<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keywords.setdefault(funcname,<sp/>{})[number]<sp/>=<sp/>spec</highlight></codeline>
<codeline lineno="1181"><highlight class="normal"></highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>For<sp/>best<sp/>backwards<sp/>compatibility,<sp/>collapse<sp/>{None:<sp/>x}<sp/>into<sp/>x.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>keywords.items():</highlight></codeline>
<codeline lineno="1184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>set(v)<sp/>==<sp/>{</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">}:</highlight></codeline>
<codeline lineno="1185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>keywords[k]<sp/>=<sp/>v[</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1186"><highlight class="normal"></highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>keywords</highlight></codeline>
<codeline lineno="1188"><highlight class="normal"></highlight></codeline>
<codeline lineno="1189"><highlight class="normal"></highlight></codeline>
<codeline lineno="1190"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacebabel_1_1messages_1_1frontend_1a7c2d550e5b9d980186dfe7487765daf2" kindref="member">__getattr__</ref>(name:<sp/>str):</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Re-exports<sp/>for<sp/>backwards<sp/>compatibility;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>`setuptools_frontend`<sp/>is<sp/>the<sp/>canonical<sp/>import<sp/>location.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>{</highlight><highlight class="stringliteral">&apos;check_message_extractors&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;compile_catalog&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;extract_messages&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;init_catalog&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;update_catalog&apos;</highlight><highlight class="normal">}:</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacebabel_1_1messages" kindref="compound">babel.messages</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>setuptools_frontend</highlight></codeline>
<codeline lineno="1195"><highlight class="normal"></highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>getattr(setuptools_frontend,<sp/>name)</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"></highlight></codeline>
<codeline lineno="1198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>AttributeError(f</highlight><highlight class="stringliteral">&quot;module<sp/>{__name__!r}<sp/>has<sp/>no<sp/>attribute<sp/>{name!r}&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1199"><highlight class="normal"></highlight></codeline>
<codeline lineno="1200"><highlight class="normal"></highlight></codeline>
<codeline lineno="1201"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__name__<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;__main__&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacebabel_1_1messages_1_1frontend_1a39fc65d776600295a7c803735469cca5" kindref="member">main</ref>()</highlight></codeline>
    </programlisting>
    <location file="venv/lib/python3.12/site-packages/babel/messages/frontend.py"/>
  </compounddef>
</doxygen>
