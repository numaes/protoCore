<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="sphinx_2roles_8py" kind="file" language="Python">
    <compoundname>roles.py</compoundname>
    <innerclass refid="classsphinx_1_1roles_1_1XRefRole" prot="public">sphinx::roles::XRefRole</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1AnyXRefRole" prot="public">sphinx::roles::AnyXRefRole</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1CVE" prot="public">sphinx::roles::CVE</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1CWE" prot="public">sphinx::roles::CWE</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1PEP" prot="public">sphinx::roles::PEP</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1RFC" prot="public">sphinx::roles::RFC</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1GUILabel" prot="public">sphinx::roles::GUILabel</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1MenuSelection" prot="public">sphinx::roles::MenuSelection</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1EmphasizedLiteral" prot="public">sphinx::roles::EmphasizedLiteral</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1Abbreviation" prot="public">sphinx::roles::Abbreviation</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1Keyboard" prot="public">sphinx::roles::Keyboard</innerclass>
    <innerclass refid="classsphinx_1_1roles_1_1Manpage" prot="public">sphinx::roles::Manpage</innerclass>
    <innernamespace refid="namespacesphinx">sphinx</innernamespace>
    <innernamespace refid="namespacesphinx_1_1roles">sphinx::roles</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacesphinx_1_1roles" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;Handlers<sp/>for<sp/>additional<sp/>ReST<sp/>roles.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>__future__<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>annotations</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>re</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TYPE_CHECKING</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedocutils_1_1parsers_1_1rst_1_1directives" kindref="compound">docutils.parsers.rst.directives</ref></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedocutils_1_1parsers_1_1rst_1_1roles" kindref="compound">docutils.parsers.rst.roles</ref></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedocutils_1_1parsers_1_1rst_1_1states" kindref="compound">docutils.parsers.rst.states</ref></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>docutils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>nodes,<sp/>utils</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>sphinx<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>addnodes</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesphinx_1_1locale" kindref="compound">sphinx.locale</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>_,<sp/>__</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesphinx_1_1util" kindref="compound">sphinx.util</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ws_re</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesphinx_1_1util_1_1docutils" kindref="compound">sphinx.util.docutils</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ReferenceRole,<sp/>SphinxRole</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>TYPE_CHECKING:</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>collections.abc<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Sequence</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Any,<sp/>Final</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacedocutils_1_1nodes" kindref="compound">docutils.nodes</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Element,<sp/>Node,<sp/>TextElement,<sp/>system_message</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesphinx_1_1application" kindref="compound">sphinx.application</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Sphinx</highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesphinx_1_1environment" kindref="compound">sphinx.environment</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>BuildEnvironment</highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacesphinx_1_1util_1_1typing" kindref="compound">sphinx.util.typing</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>ExtensionMetadata,<sp/>RoleFunction</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal">generic_docroles<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;command&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1addnodes_1_1literal__strong" kindref="compound">addnodes.literal_strong</ref>,</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;dfn&apos;</highlight><highlight class="normal">:<sp/>nodes.emphasis,</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;mailheader&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1addnodes_1_1literal__emphasis" kindref="compound">addnodes.literal_emphasis</ref>,</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;makevar&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1addnodes_1_1literal__strong" kindref="compound">addnodes.literal_strong</ref>,</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;mimetype&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1addnodes_1_1literal__emphasis" kindref="compound">addnodes.literal_emphasis</ref>,</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;newsgroup&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1addnodes_1_1literal__emphasis" kindref="compound">addnodes.literal_emphasis</ref>,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;program&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1addnodes_1_1literal__strong" kindref="compound">addnodes.literal_strong</ref>,<sp/><sp/></highlight><highlight class="comment">#<sp/>XXX<sp/>should<sp/>be<sp/>an<sp/>x-ref</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;regexp&apos;</highlight><highlight class="normal">:<sp/>nodes.literal,</highlight></codeline>
<codeline lineno="38"><highlight class="normal">}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="comment">#<sp/>--<sp/>generic<sp/>cross-reference<sp/>role<sp/>----------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"></highlight></codeline>
<codeline lineno="44" refid="classsphinx_1_1roles_1_1XRefRole" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1XRefRole" kindref="compound">XRefRole</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole" kindref="compound">ReferenceRole</ref>):</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;A<sp/>generic<sp/>cross-referencing<sp/>role.<sp/><sp/>To<sp/>create<sp/>a<sp/>callable<sp/>that<sp/>can<sp/>be<sp/>used<sp/>as</highlight></codeline>
<codeline lineno="46"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>a<sp/>role<sp/>function,<sp/>create<sp/>an<sp/>instance<sp/>of<sp/>this<sp/>class.</highlight></codeline>
<codeline lineno="47"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="48"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>general<sp/>features<sp/>of<sp/>this<sp/>role<sp/>are:</highlight></codeline>
<codeline lineno="49"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="50"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>Automatic<sp/>creation<sp/>of<sp/>a<sp/>reference<sp/>and<sp/>a<sp/>content<sp/>node.</highlight></codeline>
<codeline lineno="51"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>Optional<sp/>separation<sp/>of<sp/>title<sp/>and<sp/>target<sp/>with<sp/>`title<sp/>&lt;target&gt;`.</highlight></codeline>
<codeline lineno="52"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>The<sp/>implementation<sp/>is<sp/>a<sp/>class<sp/>rather<sp/>than<sp/>a<sp/>function<sp/>to<sp/>make</highlight></codeline>
<codeline lineno="53"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>customization<sp/>easier.</highlight></codeline>
<codeline lineno="54"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="55"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Customization<sp/>can<sp/>be<sp/>done<sp/>in<sp/>two<sp/>ways:</highlight></codeline>
<codeline lineno="56"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="57"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>Supplying<sp/>constructor<sp/>parameters:</highlight></codeline>
<codeline lineno="58"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>`fix_parens`<sp/>to<sp/>normalize<sp/>parentheses<sp/>(strip<sp/>from<sp/>target,<sp/>and<sp/>add<sp/>to</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title<sp/>if<sp/>configured)</highlight></codeline>
<codeline lineno="60"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>`lowercase`<sp/>to<sp/>lowercase<sp/>the<sp/>target</highlight></codeline>
<codeline lineno="61"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>`nodeclass`<sp/>and<sp/>`innernodeclass`<sp/>select<sp/>the<sp/>node<sp/>classes<sp/>for</highlight></codeline>
<codeline lineno="62"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>reference<sp/>and<sp/>the<sp/>content<sp/>node</highlight></codeline>
<codeline lineno="63"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="64"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>*<sp/>Subclassing<sp/>and<sp/>overwriting<sp/>`process_link()`<sp/>and/or<sp/>`result_nodes()`.</highlight></codeline>
<codeline lineno="65"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>nodeclass:<sp/>type[Element]<sp/>=<sp/><ref refid="classsphinx_1_1addnodes_1_1pending__xref" kindref="compound">addnodes.pending_xref</ref></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>innernodeclass:<sp/>type[TextElement]<sp/>=<sp/>nodes.literal</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1XRefRole_1aff4c165fda603cba23f740fe141e06b2" kindref="member">__init__</ref>(</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fix_parens:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lowercase:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>nodeclass:<sp/>type[Element]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>innernodeclass:<sp/>type[TextElement]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>warn_dangling:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa11932d7ccce85f4cb7a293f2129d29d" kindref="member">fix_parens</ref><sp/>=<sp/>fix_parens</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a4318d8e9d938648c2d31a20ac7b8ba7d" kindref="member">lowercase</ref><sp/>=<sp/>lowercase</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a466adc4eecd9443af4309f0a2a661396" kindref="member">warn_dangling</ref><sp/>=<sp/>warn_dangling</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>nodeclass<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a053501ef81b67a950088aeaffcef830d" kindref="member">nodeclass</ref><ref refid="classsphinx_1_1roles_1_1XRefRole_1a7f4fafa1ba8cc897031734f14fc0c59f" kindref="member">nodeclass</ref><sp/>=<sp/>nodeclass</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>innernodeclass<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a643a4ae9dc78808d710aa68ced3e110a" kindref="member">innernodeclass</ref><ref refid="classsphinx_1_1roles_1_1XRefRole_1a1e500057f7097f9db88a5cb530563abc" kindref="member">innernodeclass</ref><sp/>=<sp/>innernodeclass</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().<ref refid="classsphinx_1_1roles_1_1XRefRole_1aff4c165fda603cba23f740fe141e06b2" kindref="member">__init__</ref>()</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1XRefRole_1ab8520aea88c55772d1015009f4702144" kindref="member">update_title_and_target</ref>(self,<sp/>title:<sp/>str,<sp/>target:<sp/>str)<sp/>-&gt;<sp/>tuple[str,<sp/>str]:</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ac5110ca9282bf65119be3e8137a14f6a" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acc848b480462041ba8e98478cf666065" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a98f3f34bc4c667291df41f79c5d6cc42" kindref="member">has_explicit_title</ref>:</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a42e02461865528332e645a89253f7132" kindref="member">config</ref>.add_function_parentheses:</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>title.endswith(</highlight><highlight class="stringliteral">&apos;()&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>add<sp/>parentheses<sp/>to<sp/>the<sp/>title</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;()&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>remove<sp/>parentheses</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title<sp/>=<sp/>title.removesuffix(</highlight><highlight class="stringliteral">&apos;()&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>remove<sp/>parentheses<sp/>from<sp/>the<sp/>target</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>target.removesuffix(</highlight><highlight class="stringliteral">&apos;()&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>title,<sp/>target</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1XRefRole_1a412555aa9cf7f60c8bd017ba9879a1cb" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aef7c4f0e449e49071d66916b7c5b7df4" kindref="member">name</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a40b22f1a7ba65d9d0f97c8473db86f73" kindref="member">name</ref>:</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa70bf81b6fd19235d768096accac90d6" kindref="member">refdomain</ref>,<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa6ace7f5b2b149b4e6943fba89cf4949" kindref="member">reftype</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aef7c4f0e449e49071d66916b7c5b7df4" kindref="member">name</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a40b22f1a7ba65d9d0f97c8473db86f73" kindref="member">name</ref></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a76f122e6e20c53e6508d58bf28f35902" kindref="member">classes</ref><sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;xref&apos;</highlight><highlight class="normal">,<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa6ace7f5b2b149b4e6943fba89cf4949" kindref="member">reftype</ref>]</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa70bf81b6fd19235d768096accac90d6" kindref="member">refdomain</ref>,<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa6ace7f5b2b149b4e6943fba89cf4949" kindref="member">reftype</ref><sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aef7c4f0e449e49071d66916b7c5b7df4" kindref="member">name</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a40b22f1a7ba65d9d0f97c8473db86f73" kindref="member">name</ref>.split(</highlight><highlight class="stringliteral">&apos;:&apos;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a76f122e6e20c53e6508d58bf28f35902" kindref="member">classes</ref><sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;xref&apos;</highlight><highlight class="normal">,<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa70bf81b6fd19235d768096accac90d6" kindref="member">refdomain</ref>,<sp/>f</highlight><highlight class="stringliteral">&apos;{self.refdomain}-{self.reftype}&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="108"><highlight class="normal"></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a9d0bbaeb05b43ba1a26e94eb33e9315d" kindref="member">disabled</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a194e8006267b83bcb859a332e41c607b" kindref="member">disabled</ref>:</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1af71b4095800afb6c2b7640ee2609b402" kindref="member">create_non_xref_node</ref>()</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a95cb68bdd7665b0a5537405406b035c6" kindref="member">create_xref_node</ref>()</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1XRefRole_1af71b4095800afb6c2b7640ee2609b402" kindref="member">create_non_xref_node</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/>utils.unescape(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref>[1:])</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa11932d7ccce85f4cb7a293f2129d29d" kindref="member">fix_parens</ref>:</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ac5110ca9282bf65119be3e8137a14f6a" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acc848b480462041ba8e98478cf666065" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a98f3f34bc4c667291df41f79c5d6cc42" kindref="member">has_explicit_title</ref><sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>treat<sp/>as<sp/>implicit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text,<sp/>target<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ab8520aea88c55772d1015009f4702144" kindref="member">update_title_and_target</ref>(text,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="119"><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a643a4ae9dc78808d710aa68ced3e110a" kindref="member">innernodeclass</ref><ref refid="classsphinx_1_1roles_1_1XRefRole_1a1e500057f7097f9db88a5cb530563abc" kindref="member">innernodeclass</ref>(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>text,<sp/>classes=self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a76f122e6e20c53e6508d58bf28f35902" kindref="member">classes</ref>)</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a856de3c46198c4d2c4791c5cfe1729e8" kindref="member">result_nodes</ref>(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.document,<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ad786b86ffe197b02da31050b839a376e" kindref="member">env</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a4ad742468b68581baf17f931789d926f" kindref="member">env</ref>,<sp/>node,<sp/>is_ref=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1XRefRole_1a95cb68bdd7665b0a5537405406b035c6" kindref="member">create_xref_node</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a4318d8e9d938648c2d31a20ac7b8ba7d" kindref="member">lowercase</ref>:</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>target.lower()</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa11932d7ccce85f4cb7a293f2129d29d" kindref="member">fix_parens</ref>:</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title,<sp/>target<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ab8520aea88c55772d1015009f4702144" kindref="member">update_title_and_target</ref>(title,<sp/>target)</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>create<sp/>the<sp/>reference<sp/>node</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;refdoc&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ad786b86ffe197b02da31050b839a376e" kindref="member">env</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a4ad742468b68581baf17f931789d926f" kindref="member">env</ref>.docname,</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;refdomain&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa70bf81b6fd19235d768096accac90d6" kindref="member">refdomain</ref>,</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;reftype&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1aa6ace7f5b2b149b4e6943fba89cf4949" kindref="member">reftype</ref>,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;refexplicit&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ac5110ca9282bf65119be3e8137a14f6a" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acc848b480462041ba8e98478cf666065" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a98f3f34bc4c667291df41f79c5d6cc42" kindref="member">has_explicit_title</ref>,</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;refwarn&apos;</highlight><highlight class="normal">:<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a466adc4eecd9443af4309f0a2a661396" kindref="member">warn_dangling</ref>,</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refnode<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a053501ef81b67a950088aeaffcef830d" kindref="member">nodeclass</ref><ref refid="classsphinx_1_1roles_1_1XRefRole_1a7f4fafa1ba8cc897031734f14fc0c59f" kindref="member">nodeclass</ref>(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>**options)</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aed9e2a26dba05bae5183e7f250b8e201" kindref="member">set_source_info</ref>(refnode)</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>determine<sp/>the<sp/>target<sp/>and<sp/>title<sp/>for<sp/>the<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title,<sp/>target<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a8e79880f14a6d67c2b52fa4fd2c2d8a3" kindref="member">process_link</ref>(</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ad786b86ffe197b02da31050b839a376e" kindref="member">env</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a4ad742468b68581baf17f931789d926f" kindref="member">env</ref>,<sp/>refnode,<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ac5110ca9282bf65119be3e8137a14f6a" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acc848b480462041ba8e98478cf666065" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a98f3f34bc4c667291df41f79c5d6cc42" kindref="member">has_explicit_title</ref>,<sp/>title,<sp/>target</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refnode[</highlight><highlight class="stringliteral">&apos;reftarget&apos;</highlight><highlight class="normal">]<sp/>=<sp/>target</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refnode<sp/>+=<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a643a4ae9dc78808d710aa68ced3e110a" kindref="member">innernodeclass</ref><ref refid="classsphinx_1_1roles_1_1XRefRole_1a1e500057f7097f9db88a5cb530563abc" kindref="member">innernodeclass</ref>(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>title,<sp/>classes=self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a76f122e6e20c53e6508d58bf28f35902" kindref="member">classes</ref>)</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1a856de3c46198c4d2c4791c5cfe1729e8" kindref="member">result_nodes</ref>(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.document,<sp/>self.<ref refid="classsphinx_1_1roles_1_1XRefRole_1ad786b86ffe197b02da31050b839a376e" kindref="member">env</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a4ad742468b68581baf17f931789d926f" kindref="member">env</ref>,<sp/>refnode,<sp/>is_ref=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>methods<sp/>that<sp/>can<sp/>be<sp/>overwritten</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1XRefRole_1a8e79880f14a6d67c2b52fa4fd2c2d8a3" kindref="member">process_link</ref>(</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env:<sp/>BuildEnvironment,</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refnode:<sp/>Element,</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>has_explicit_title:<sp/>bool,</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title:<sp/>str,</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target:<sp/>str,</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>tuple[str,<sp/>str]:</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Called<sp/>after<sp/>parsing<sp/>title<sp/>and<sp/>target<sp/>text,<sp/>and<sp/>creating<sp/>the</highlight></codeline>
<codeline lineno="162"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>node<sp/>(given<sp/>in<sp/>*refnode*).<sp/><sp/>This<sp/>method<sp/>can<sp/>alter<sp/>the</highlight></codeline>
<codeline lineno="163"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>node<sp/>and<sp/>must<sp/>return<sp/>a<sp/>new<sp/>(or<sp/>the<sp/>same)<sp/>``(title,<sp/>target)``</highlight></codeline>
<codeline lineno="164"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tuple.</highlight></codeline>
<codeline lineno="165"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>title,<sp/>ws_re.sub(</highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">,<sp/>target)</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1XRefRole_1a856de3c46198c4d2c4791c5cfe1729e8" kindref="member">result_nodes</ref>(</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>document:<sp/>nodes.document,</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env:<sp/>BuildEnvironment,</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node:<sp/>Element,</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_ref:<sp/>bool,</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Called<sp/>before<sp/>returning<sp/>the<sp/>finished<sp/>nodes.<sp/><sp/>*node*<sp/>is<sp/>the<sp/>reference</highlight></codeline>
<codeline lineno="176"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>if<sp/>one<sp/>was<sp/>created<sp/>(*is_ref*<sp/>is<sp/>then<sp/>true),<sp/>else<sp/>the<sp/>content<sp/>node.</highlight></codeline>
<codeline lineno="177"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>method<sp/>can<sp/>add<sp/>other<sp/>nodes<sp/>and<sp/>must<sp/>return<sp/>a<sp/>``(nodes,<sp/>messages)``</highlight></codeline>
<codeline lineno="178"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tuple<sp/>(the<sp/>usual<sp/>return<sp/>value<sp/>of<sp/>a<sp/>role<sp/>function).</highlight></codeline>
<codeline lineno="179"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[node],<sp/>[]</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183" refid="classsphinx_1_1roles_1_1AnyXRefRole" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1AnyXRefRole" kindref="compound">AnyXRefRole</ref>(<ref refid="classsphinx_1_1roles_1_1XRefRole" kindref="compound">XRefRole</ref>):</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1AnyXRefRole_1a00df5892b2f0620558b96299e053c165" kindref="member">process_link</ref>(</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>env:<sp/>BuildEnvironment,</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refnode:<sp/>Element,</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>has_explicit_title:<sp/>bool,</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title:<sp/>str,</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target:<sp/>str,</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>tuple[str,<sp/>str]:</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/>super().<ref refid="classsphinx_1_1roles_1_1AnyXRefRole_1a00df5892b2f0620558b96299e053c165" kindref="member">process_link</ref>(env,<sp/>refnode,<sp/>has_explicit_title,<sp/>title,<sp/>target)</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>add<sp/>all<sp/>possible<sp/>context<sp/>info<sp/>(i.e.<sp/>std:program,<sp/>py:module<sp/>etc.)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refnode.attributes.update(env.ref_context)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198" refid="classsphinx_1_1roles_1_1CVE" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1CVE" kindref="compound">CVE</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole" kindref="compound">ReferenceRole</ref>):</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>_BASE_URL:<sp/>Final<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;https://www.cve.org/CVERecord?id=CVE-&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1CVE_1a853164fbea828433ae1fabe4b063895a" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_id<sp/>=<sp/>f</highlight><highlight class="stringliteral">&apos;index-{self.env.new_serialno(&quot;index&quot;)}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entries<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;single&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_(</highlight><highlight class="stringliteral">&apos;Common<sp/>Vulnerabilities<sp/>and<sp/>Exposures;<sp/>CVE<sp/>%s&apos;</highlight><highlight class="normal">)<sp/>%<sp/>self.<ref refid="classsphinx_1_1roles_1_1CVE_1a2d6bdc0868d2198f00de8d7c8a1d18cf" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>,</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_id,</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/><ref refid="classsphinx_1_1addnodes_1_1index" kindref="compound">addnodes.index</ref>(entries=entries)</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>nodes.target(</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>ids=[target_id])</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.document.note_explicit_target(target)</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refuri<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1CVE_1a650590649d48b95ab02614ae190b4678" kindref="member">build_uri</ref>()</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>=<sp/>nodes.reference(</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>internal=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>refuri=refuri,<sp/>classes=[</highlight><highlight class="stringliteral">&apos;cve&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acc848b480462041ba8e98478cf666065" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a98f3f34bc4c667291df41f79c5d6cc42" kindref="member">has_explicit_title</ref>:</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>+=<sp/>nodes.strong(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>)</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title<sp/>=<sp/>f</highlight><highlight class="stringliteral">&apos;CVE<sp/>{self.title}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>+=<sp/>nodes.strong(title,<sp/>title)</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ValueError:</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.reporter.error(</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__(</highlight><highlight class="stringliteral">&apos;invalid<sp/>CVE<sp/>number<sp/>%s&apos;</highlight><highlight class="normal">)<sp/>%<sp/>self.<ref refid="classsphinx_1_1roles_1_1CVE_1a2d6bdc0868d2198f00de8d7c8a1d18cf" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>,<sp/>line=self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a252735563f9d9a5bf5e508e471f78bcb" kindref="member">lineno</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ae486c0426e055b4ef1cbe5658ec0dd0e" kindref="member">lineno</ref></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prb<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.problematic(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>msg)</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[prb],<sp/>[msg]</highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[index,<sp/>target,<sp/>reference],<sp/>[]</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1CVE_1a650590649d48b95ab02614ae190b4678" kindref="member">build_uri</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1CVE_1a2d6bdc0868d2198f00de8d7c8a1d18cf" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>.split(</highlight><highlight class="stringliteral">&apos;#&apos;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ret)<sp/>==<sp/>2:</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&apos;{CVE._BASE_URL}{ret[0]}#{ret[1]}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&apos;{CVE._BASE_URL}{ret[0]}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243" refid="classsphinx_1_1roles_1_1CWE" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1CWE" kindref="compound">CWE</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole" kindref="compound">ReferenceRole</ref>):</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>_BASE_URL:<sp/>Final<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;https://cwe.mitre.org/data/definitions/&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1CWE_1af647a5f89af58e71ab5393a25bb5c92e" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_id<sp/>=<sp/>f</highlight><highlight class="stringliteral">&apos;index-{self.env.new_serialno(&quot;index&quot;)}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entries<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;single&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_(</highlight><highlight class="stringliteral">&apos;Common<sp/>Weakness<sp/>Enumeration;<sp/>CWE<sp/>%s&apos;</highlight><highlight class="normal">)<sp/>%<sp/>self.<ref refid="classsphinx_1_1roles_1_1CWE_1a24378cbf626fde91bbdd438be495ca4b" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>,</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_id,</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/><ref refid="classsphinx_1_1addnodes_1_1index" kindref="compound">addnodes.index</ref>(entries=entries)</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>nodes.target(</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>ids=[target_id])</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.document.note_explicit_target(target)</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refuri<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1CWE_1a669b54e7ac014033e0c11795115b6390" kindref="member">build_uri</ref>()</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>=<sp/>nodes.reference(</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>internal=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>refuri=refuri,<sp/>classes=[</highlight><highlight class="stringliteral">&apos;cwe&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acc848b480462041ba8e98478cf666065" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a98f3f34bc4c667291df41f79c5d6cc42" kindref="member">has_explicit_title</ref>:</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>+=<sp/>nodes.strong(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>)</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title<sp/>=<sp/>f</highlight><highlight class="stringliteral">&apos;CWE<sp/>{self.title}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>+=<sp/>nodes.strong(title,<sp/>title)</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ValueError:</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.reporter.error(</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__(</highlight><highlight class="stringliteral">&apos;invalid<sp/>CWE<sp/>number<sp/>%s&apos;</highlight><highlight class="normal">)<sp/>%<sp/>self.<ref refid="classsphinx_1_1roles_1_1CWE_1a24378cbf626fde91bbdd438be495ca4b" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>,<sp/>line=self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a252735563f9d9a5bf5e508e471f78bcb" kindref="member">lineno</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ae486c0426e055b4ef1cbe5658ec0dd0e" kindref="member">lineno</ref></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prb<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.problematic(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>msg)</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[prb],<sp/>[msg]</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[index,<sp/>target,<sp/>reference],<sp/>[]</highlight></codeline>
<codeline lineno="280"><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1CWE_1a669b54e7ac014033e0c11795115b6390" kindref="member">build_uri</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1CWE_1a24378cbf626fde91bbdd438be495ca4b" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>.split(</highlight><highlight class="stringliteral">&apos;#&apos;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ret)<sp/>==<sp/>2:</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&apos;{CWE._BASE_URL}{int(ret[0])}.html#{ret[1]}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&apos;{CWE._BASE_URL}{int(ret[0])}.html&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288" refid="classsphinx_1_1roles_1_1PEP" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1PEP" kindref="compound">PEP</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole" kindref="compound">ReferenceRole</ref>):</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1PEP_1aaf2dab6d925944fd3b43aa2055a52562" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_id<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;index-%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a4ad742468b68581baf17f931789d926f" kindref="member">env</ref>.new_serialno(</highlight><highlight class="stringliteral">&apos;index&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entries<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;single&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_(</highlight><highlight class="stringliteral">&apos;Python<sp/>Enhancement<sp/>Proposals;<sp/>PEP<sp/>%s&apos;</highlight><highlight class="normal">)<sp/>%<sp/>self.<ref refid="classsphinx_1_1roles_1_1PEP_1affc9f57b23b70dce3de087e30b116994" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>,</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_id,</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/><ref refid="classsphinx_1_1addnodes_1_1index" kindref="compound">addnodes.index</ref>(entries=entries)</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>nodes.target(</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>ids=[target_id])</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.document.note_explicit_target(target)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refuri<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1PEP_1a4a22010499c1ed11c2dd5b2ff57a7de8" kindref="member">build_uri</ref>()</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>=<sp/>nodes.reference(</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>internal=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>refuri=refuri,<sp/>classes=[</highlight><highlight class="stringliteral">&apos;pep&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acc848b480462041ba8e98478cf666065" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a98f3f34bc4c667291df41f79c5d6cc42" kindref="member">has_explicit_title</ref>:</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>+=<sp/>nodes.strong(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>)</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;PEP<sp/>&apos;</highlight><highlight class="normal"><sp/>+<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>+=<sp/>nodes.strong(title,<sp/>title)</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ValueError:</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.reporter.error(</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__(</highlight><highlight class="stringliteral">&apos;invalid<sp/>PEP<sp/>number<sp/>%s&apos;</highlight><highlight class="normal">)<sp/>%<sp/>self.<ref refid="classsphinx_1_1roles_1_1PEP_1affc9f57b23b70dce3de087e30b116994" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>,<sp/>line=self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a252735563f9d9a5bf5e508e471f78bcb" kindref="member">lineno</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ae486c0426e055b4ef1cbe5658ec0dd0e" kindref="member">lineno</ref></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prb<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.problematic(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>msg)</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[prb],<sp/>[msg]</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[index,<sp/>target,<sp/>reference],<sp/>[]</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1PEP_1a4a22010499c1ed11c2dd5b2ff57a7de8" kindref="member">build_uri</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base_url<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.document.settings.pep_base_url</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1PEP_1affc9f57b23b70dce3de087e30b116994" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>.split(</highlight><highlight class="stringliteral">&apos;#&apos;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ret)<sp/>==<sp/>2:</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>base_url<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;pep-%04d/#%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>(int(ret[0]),<sp/>ret[1])</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>base_url<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;pep-%04d/&apos;</highlight><highlight class="normal"><sp/>%<sp/>int(ret[0])</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333" refid="classsphinx_1_1roles_1_1RFC" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1RFC" kindref="compound">RFC</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole" kindref="compound">ReferenceRole</ref>):</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1RFC_1a09c4d32d71e9c3421a62ba3e395c8370" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target_id<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;index-%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a4ad742468b68581baf17f931789d926f" kindref="member">env</ref>.new_serialno(</highlight><highlight class="stringliteral">&apos;index&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>formatted_target<sp/>=<sp/><ref refid="namespacesphinx_1_1roles_1a5fb14b55853d1e269705d40eac03a5b1" kindref="member">_format_rfc_target</ref>(self.<ref refid="classsphinx_1_1roles_1_1RFC_1a7899d2b8dc66880386dcca0b52cd6d22" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>)</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entries<sp/>=<sp/>[(</highlight><highlight class="stringliteral">&apos;single&apos;</highlight><highlight class="normal">,<sp/>f</highlight><highlight class="stringliteral">&apos;RFC;<sp/>{formatted_target}&apos;</highlight><highlight class="normal">,<sp/>target_id,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)]</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/><ref refid="classsphinx_1_1addnodes_1_1index" kindref="compound">addnodes.index</ref>(entries=entries)</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>target<sp/>=<sp/>nodes.target(</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>ids=[target_id])</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.document.note_explicit_target(target)</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>refuri<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1RFC_1a487bf7c8ddee73081a0a00c213708a54" kindref="member">build_uri</ref>()</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>=<sp/>nodes.reference(</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>internal=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>refuri=refuri,<sp/>classes=[</highlight><highlight class="stringliteral">&apos;rfc&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acc848b480462041ba8e98478cf666065" kindref="member">has_explicit_title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a98f3f34bc4c667291df41f79c5d6cc42" kindref="member">has_explicit_title</ref>:</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>+=<sp/>nodes.strong(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>)</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>title<sp/>=<sp/>formatted_target</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reference<sp/>+=<sp/>nodes.strong(title,<sp/>title)</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>ValueError:</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>msg<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.reporter.error(</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__(</highlight><highlight class="stringliteral">&apos;invalid<sp/>RFC<sp/>number<sp/>%s&apos;</highlight><highlight class="normal">)<sp/>%<sp/>self.<ref refid="classsphinx_1_1roles_1_1RFC_1a7899d2b8dc66880386dcca0b52cd6d22" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>,<sp/>line=self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a252735563f9d9a5bf5e508e471f78bcb" kindref="member">lineno</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ae486c0426e055b4ef1cbe5658ec0dd0e" kindref="member">lineno</ref></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>prb<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.problematic(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>msg)</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[prb],<sp/>[msg]</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[index,<sp/>target,<sp/>reference],<sp/>[]</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1RFC_1a487bf7c8ddee73081a0a00c213708a54" kindref="member">build_uri</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base_url<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.document.settings.rfc_base_url</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1RFC_1a7899d2b8dc66880386dcca0b52cd6d22" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>.split(</highlight><highlight class="stringliteral">&apos;#&apos;</highlight><highlight class="normal">,<sp/>1)</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(ret)<sp/>==<sp/>2:</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>base_url<sp/>+<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.rfc_url<sp/>%<sp/>int(ret[0])<sp/>+<sp/></highlight><highlight class="stringliteral">&apos;#&apos;</highlight><highlight class="normal"><sp/>+<sp/>ret[1]</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>base_url<sp/>+<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1abfde9d2e50c46d2b667fa9026f4382d3" kindref="member">inliner</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1acf07ebcdcf2edbc37918c0fff2079cb6" kindref="member">inliner</ref>.rfc_url<sp/>%<sp/>int(ret[0])</highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesphinx_1_1roles_1a5fb14b55853d1e269705d40eac03a5b1" kindref="member">_format_rfc_target</ref>(target:<sp/>str,<sp/>/)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Takes<sp/>an<sp/>RFC<sp/>number<sp/>with<sp/>an<sp/>optional<sp/>anchor<sp/>(like<sp/>``123#section-2.5.3``)</highlight></codeline>
<codeline lineno="373"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>attempts<sp/>to<sp/>produce<sp/>a<sp/>human-friendly<sp/>title<sp/>for<sp/>it.</highlight></codeline>
<codeline lineno="374"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="375"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>We<sp/>have<sp/>a<sp/>set<sp/>of<sp/>known<sp/>anchors<sp/>that<sp/>we<sp/>format<sp/>nicely,</highlight></codeline>
<codeline lineno="376"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>everything<sp/>else<sp/>we<sp/>leave<sp/>alone.</highlight></codeline>
<codeline lineno="377"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>number,<sp/>_,<sp/>anchor<sp/>=<sp/>target.partition(</highlight><highlight class="stringliteral">&apos;#&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>anchor:</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first,<sp/>_,<sp/>remaining<sp/>=<sp/>anchor.partition(</highlight><highlight class="stringliteral">&apos;-&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>first<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>{</highlight><highlight class="stringliteral">&apos;appendix&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;page&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;section&apos;</highlight><highlight class="normal">}:</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>remaining:</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&apos;RFC<sp/>{number}<sp/>{first.title()}<sp/>{remaining}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&apos;RFC<sp/>{number}<sp/>{first.title()}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&apos;RFC<sp/>{target}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388" refid="classsphinx_1_1roles_1_1GUILabel" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1GUILabel" kindref="compound">GUILabel</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole" kindref="compound">SphinxRole</ref>):</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>amp_re<sp/>=<sp/>re.compile(</highlight><highlight class="stringliteral">r&apos;(?&lt;!&amp;)&amp;(?![&amp;\s])&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1GUILabel_1a416666e4f13fa840d2826c0037724e91" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>=<sp/>nodes.inline(rawtext=self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>classes=[self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aef7c4f0e449e49071d66916b7c5b7df4" kindref="member">name</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a40b22f1a7ba65d9d0f97c8473db86f73" kindref="member">name</ref>])</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spans<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1GUILabel_1a247a8da7cbe04a3f1b125a2482476aaa" kindref="member">amp_re</ref>.split(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref>)</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>+=<sp/>nodes.Text(spans.pop(0))</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>span<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>spans:</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>span<sp/>=<sp/>span.replace(</highlight><highlight class="stringliteral">&apos;&amp;&amp;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&amp;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>letter<sp/>=<sp/>nodes.Text(span[0])</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>accelerator<sp/>=<sp/>nodes.inline(</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>letter,<sp/>classes=[</highlight><highlight class="stringliteral">&apos;accelerator&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>+=<sp/>accelerator</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>+=<sp/>nodes.Text(span[1:])</highlight></codeline>
<codeline lineno="402"><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[node],<sp/>[]</highlight></codeline>
<codeline lineno="404"><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
<codeline lineno="406" refid="classsphinx_1_1roles_1_1MenuSelection" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1MenuSelection" kindref="compound">MenuSelection</ref>(<ref refid="classsphinx_1_1roles_1_1GUILabel" kindref="compound">GUILabel</ref>):</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/>BULLET_CHARACTER<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;\N{TRIANGULAR<sp/>BULLET}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1MenuSelection_1ae50d0c4d6cfd7efbecc9f6238e674bf0" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1MenuSelection_1a412f4d111041c69b44ee1c7af159f6f1" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref><sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1MenuSelection_1a412f4d111041c69b44ee1c7af159f6f1" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref>.replace(</highlight><highlight class="stringliteral">&apos;--&gt;&apos;</highlight><highlight class="normal">,<sp/>self.<ref refid="classsphinx_1_1roles_1_1MenuSelection_1afe5b9ac9280fa7cd9a566cb40395ecc4" kindref="member">BULLET_CHARACTER</ref>)</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>super().<ref refid="classsphinx_1_1roles_1_1MenuSelection_1ae50d0c4d6cfd7efbecc9f6238e674bf0" kindref="member">run</ref>()</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"></highlight></codeline>
<codeline lineno="414" refid="classsphinx_1_1roles_1_1EmphasizedLiteral" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1EmphasizedLiteral" kindref="compound">EmphasizedLiteral</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole" kindref="compound">SphinxRole</ref>):</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>parens_re<sp/>=<sp/>re.compile(</highlight><highlight class="stringliteral">r&apos;(\\\\|\\{|\\}|{|})&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1EmphasizedLiteral_1a68343195d72c25cc4955f78d0a4e0ebb" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>children<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1EmphasizedLiteral_1a895e381804f804a3df3570a2211a0ff9" kindref="member">parse</ref>(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref>)</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>=<sp/>nodes.literal(</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classsphinx_1_1roles_1_1EmphasizedLiteral_1a7b33a112261dabc246a10b4fabd13758" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>*children,<sp/>role=self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aef7c4f0e449e49071d66916b7c5b7df4" kindref="member">name</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a40b22f1a7ba65d9d0f97c8473db86f73" kindref="member">name</ref>.lower(),<sp/>classes=[self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aef7c4f0e449e49071d66916b7c5b7df4" kindref="member">name</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a40b22f1a7ba65d9d0f97c8473db86f73" kindref="member">name</ref>]</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[node],<sp/>[]</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">parse(self,<sp/>text:<sp/>str)<sp/>-&gt;<sp/>list[Node]:</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result:<sp/>list[Node]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="427"><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>part<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1EmphasizedLiteral_1acc12ce8a9ad5fcd36abe445da7427f7d" kindref="member">parens_re</ref>.split(text):</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>part<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;\\\\&apos;</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>escaped<sp/>backslash</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack[-1]<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;\\&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>part<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;{&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(stack)<sp/>&gt;=<sp/>2<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>stack[-2]<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;{&apos;</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>nested</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack[-1]<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;{&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>start<sp/>emphasis</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack.extend((</highlight><highlight class="stringliteral">&apos;{&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>part<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;}&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(stack)<sp/>==<sp/>3<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>stack[1]<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;{&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>len(stack[2])<sp/>&gt;<sp/>0:</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>emphasized<sp/>word<sp/>found</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>stack[0]:</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.append(nodes.Text(stack[0]))</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.append(nodes.emphasis(stack[2],<sp/>stack[2]))</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>emphasized<sp/>word<sp/>not<sp/>found;<sp/>the<sp/>rparen<sp/>is<sp/>not<sp/>a<sp/>special<sp/>symbol</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack.append(</highlight><highlight class="stringliteral">&apos;}&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">.join(stack)]</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>part<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;\\{&apos;</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>escaped<sp/>left-brace</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack[-1]<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;{&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>part<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;\\}&apos;</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>escaped<sp/>right-brace</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack[-1]<sp/>+=<sp/></highlight><highlight class="stringliteral">&apos;}&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>others<sp/>(containing<sp/>escaped<sp/>braces)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack[-1]<sp/>+=<sp/>part</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">.join(stack):</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>remaining<sp/>is<sp/>treated<sp/>as<sp/>Text</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">.join(stack)</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result.append(nodes.Text(text))</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result</highlight></codeline>
<codeline lineno="462"><highlight class="normal"></highlight></codeline>
<codeline lineno="463"><highlight class="normal"></highlight></codeline>
<codeline lineno="464" refid="classsphinx_1_1roles_1_1Abbreviation" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1Abbreviation" kindref="compound">Abbreviation</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole" kindref="compound">SphinxRole</ref>):</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/>abbr_re<sp/>=<sp/>re.compile(</highlight><highlight class="stringliteral">r&apos;\((.*)\)$&apos;</highlight><highlight class="normal">,<sp/>re.DOTALL)</highlight></codeline>
<codeline lineno="466"><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1Abbreviation_1a5095f6f3f64914ee7ef941bad81f780d" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a3f4298f17453d565005a97ced7ec1f7d" kindref="member">options</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a2df34acd97d546dd44d1a6c4d5c884fe" kindref="member">options</ref>.copy()</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>matched<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1Abbreviation_1abebade16bb075142cd719bfc00380f33" kindref="member">abbr_re</ref>.search(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref>)</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>matched:</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref>[:<sp/>matched.start()].strip()</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options[</highlight><highlight class="stringliteral">&apos;explanation&apos;</highlight><highlight class="normal">]<sp/>=<sp/>matched.group(1)</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref></highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[nodes.abbreviation(self.<ref refid="classsphinx_1_1roles_1_1Abbreviation_1a4bac86f0d427a0a71b7ba1967176dd70" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>text,<sp/>**options)],<sp/>[]</highlight></codeline>
<codeline lineno="477"><highlight class="normal"></highlight></codeline>
<codeline lineno="478"><highlight class="normal"></highlight></codeline>
<codeline lineno="479" refid="classsphinx_1_1roles_1_1Keyboard" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1Keyboard" kindref="compound">Keyboard</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole" kindref="compound">SphinxRole</ref>):</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Implement<sp/>the<sp/>:kbd:<sp/>role.</highlight></codeline>
<codeline lineno="481"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="482"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Split<sp/>words<sp/>in<sp/>the<sp/>text<sp/>by<sp/>separator<sp/>or<sp/>whitespace,</highlight></codeline>
<codeline lineno="483"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>but<sp/>keep<sp/>multi-word<sp/>keys<sp/>together.</highlight></codeline>
<codeline lineno="484"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>capture<sp/>(&apos;-&apos;,<sp/>&apos;+&apos;,<sp/>&apos;^&apos;,<sp/>or<sp/>whitespace)<sp/>in<sp/>between<sp/>any<sp/>two<sp/>characters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/>_pattern:<sp/>Final<sp/>=<sp/>re.compile(</highlight><highlight class="stringliteral">r&apos;(?&lt;=.)([\-+^]|<sp/>+)(?=.)&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1Keyboard_1ac79ad1eae8a39898d04787a4241d9614" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;kbd&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a3f4298f17453d565005a97ced7ec1f7d" kindref="member">options</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a2df34acd97d546dd44d1a6c4d5c884fe" kindref="member">options</ref>:</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes.extend(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a3f4298f17453d565005a97ced7ec1f7d" kindref="member">options</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a2df34acd97d546dd44d1a6c4d5c884fe" kindref="member">options</ref>[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts<sp/>=<sp/>self.<ref refid="classsphinx_1_1roles_1_1Keyboard_1a8a0df0623064c154711e5d5e28af4c08" kindref="member">_pattern</ref>.split(self.<ref refid="classsphinx_1_1roles_1_1Keyboard_1a09111725f5176f2bf952386be66d01a0" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref>)</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(parts)<sp/>==<sp/>1<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1Keyboard_1a71ab42b841669208ea40dd89424a9e5d" kindref="member">_is_multi_word_key</ref>(parts):</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[nodes.literal(self.<ref refid="classsphinx_1_1roles_1_1Keyboard_1a221de7fdc85084778043addcd632bc86" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/>self.<ref refid="classsphinx_1_1roles_1_1Keyboard_1a09111725f5176f2bf952386be66d01a0" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a87a9fb6d562a22dc52722ad07127ee67" kindref="member">text</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ab4a95d0b0400e682359e352486abe23e" kindref="member">text</ref>,<sp/>classes=classes)],<sp/>[]</highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compound:<sp/>list[Node]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>parts:</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1roles_1_1Keyboard_1a71ab42b841669208ea40dd89424a9e5d" kindref="member">_is_multi_word_key</ref>(parts):</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">.join(parts[:3])</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parts[:3]<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>key<sp/>=<sp/>parts.pop(0)</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compound.append(nodes.literal(key,<sp/>key,<sp/>classes=classes))</highlight></codeline>
<codeline lineno="506"><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sep<sp/>=<sp/>parts.pop(0)<sp/><sp/></highlight><highlight class="comment">#<sp/>key<sp/>separator<sp/>(&apos;-&apos;,<sp/>&apos;+&apos;,<sp/>&apos;^&apos;,<sp/>etc)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>IndexError:</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>compound.append(nodes.Text(sep))</highlight></codeline>
<codeline lineno="513"><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>compound,<sp/>[]</highlight></codeline>
<codeline lineno="515"><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1Keyboard_1a71ab42b841669208ea40dd89424a9e5d" kindref="member">_is_multi_word_key</ref>(parts:<sp/>list[str])<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(parts)<sp/>&lt;=<sp/>2<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>parts[1].isspace():</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/>parts[0].lower(),<sp/>parts[2].lower()</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>frozenset({</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;back&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;space&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;caps&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;lock&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;num&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;lock&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;page&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;down&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;page&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;up&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;scroll&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;lock&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;sys&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;rq&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>})</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"></highlight></codeline>
<codeline lineno="532" refid="classsphinx_1_1roles_1_1Manpage" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1Manpage" kindref="compound">Manpage</ref>(<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole" kindref="compound">ReferenceRole</ref>):</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/>_manpage_re<sp/>=<sp/>re.compile(</highlight><highlight class="stringliteral">r&apos;^(?P&lt;path&gt;(?P&lt;page&gt;.+)[(.](?P&lt;section&gt;[1-9]\w*)?\)?)$&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classsphinx_1_1roles_1_1Manpage_1ad35f2b64ddb88658f84319c4e5cba0c3" kindref="member">run</ref>(self)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manpage<sp/>=<sp/>ws_re.sub(</highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">,<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a86f081666c5db5730e56558b5c01e8f8" kindref="member">target</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a1605db525c10b6d6c6accbed54df169d" kindref="member">target</ref>)</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>m<sp/>:=<sp/>self.<ref refid="classsphinx_1_1roles_1_1Manpage_1a684818149ee8c618843f042e40d5761f" kindref="member">_manpage_re</ref>.match(manpage):</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info<sp/>=<sp/>m.groupdict()</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>info<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;path&apos;</highlight><highlight class="normal">:<sp/>manpage,<sp/></highlight><highlight class="stringliteral">&apos;page&apos;</highlight><highlight class="normal">:<sp/>manpage,<sp/></highlight><highlight class="stringliteral">&apos;section&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="541"><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inner:<sp/>nodes.Node</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>text<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref>[1:]<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a9d0bbaeb05b43ba1a26e94eb33e9315d" kindref="member">disabled</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a194e8006267b83bcb859a332e41c607b" kindref="member">disabled</ref><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1acdbed2212f00838f9580b65453ab5705" kindref="member">title</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a8a6a11246ea202e5ec23fd6dfeb83c5e" kindref="member">title</ref></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a9d0bbaeb05b43ba1a26e94eb33e9315d" kindref="member">disabled</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1ReferenceRole_1a194e8006267b83bcb859a332e41c607b" kindref="member">disabled</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a42e02461865528332e645a89253f7132" kindref="member">config</ref>.manpages_url:</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uri<sp/>=<sp/>self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a42e02461865528332e645a89253f7132" kindref="member">config</ref>.manpages_url.format_map(info)</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inner<sp/>=<sp/>nodes.reference(</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>text,<sp/>classes=[self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aef7c4f0e449e49071d66916b7c5b7df4" kindref="member">name</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a40b22f1a7ba65d9d0f97c8473db86f73" kindref="member">name</ref>],<sp/>refuri=uri)</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>inner<sp/>=<sp/>nodes.Text(text)</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>node<sp/>=<sp/><ref refid="classsphinx_1_1addnodes_1_1manpage" kindref="compound">addnodes.manpage</ref>(self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1ac16f1c9a494541b5704c96217ba482c3" kindref="member">rawtext</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a533c515a9e1bbfc882641819247f1bbc" kindref="member">rawtext</ref>,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">,<sp/>inner,<sp/>classes=[self.<ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1aef7c4f0e449e49071d66916b7c5b7df4" kindref="member">name</ref><ref refid="classsphinx_1_1util_1_1docutils_1_1SphinxRole_1a40b22f1a7ba65d9d0f97c8473db86f73" kindref="member">name</ref>],<sp/>**info)</highlight></codeline>
<codeline lineno="550"><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[node],<sp/>[]</highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Sphinx<sp/>provides<sp/>the<sp/>`code-block`<sp/>directive<sp/>for<sp/>highlighting<sp/>code<sp/>blocks.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight><highlight class="comment">#<sp/>Docutils<sp/>provides<sp/>the<sp/>`code`<sp/>role<sp/>which<sp/>in<sp/>theory<sp/>can<sp/>be<sp/>used<sp/>similarly<sp/>by</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"></highlight><highlight class="comment">#<sp/>defining<sp/>a<sp/>custom<sp/>role<sp/>for<sp/>a<sp/>given<sp/>programming<sp/>language:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/>..<sp/>..<sp/>role::<sp/>python(code)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:language:<sp/>python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:class:<sp/>highlight</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight><highlight class="comment">#<sp/>In<sp/>practice<sp/>this<sp/>does<sp/>not<sp/>produce<sp/>correct<sp/>highlighting<sp/>because<sp/>it<sp/>uses<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"></highlight><highlight class="comment">#<sp/>separate<sp/>highlighting<sp/>mechanism<sp/>that<sp/>results<sp/>in<sp/>the<sp/>&quot;long&quot;<sp/>pygments<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"></highlight><highlight class="comment">#<sp/>names<sp/>rather<sp/>than<sp/>&quot;short&quot;<sp/>pygments<sp/>class<sp/>names<sp/>produced<sp/>by<sp/>the<sp/>Sphinx</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"></highlight><highlight class="comment">#<sp/>`code-block`<sp/>directive<sp/>and<sp/>for<sp/>which<sp/>this<sp/>extension<sp/>contains<sp/>CSS<sp/>rules.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight><highlight class="comment">#<sp/>In<sp/>addition,<sp/>even<sp/>if<sp/>that<sp/>issue<sp/>is<sp/>fixed,<sp/>because<sp/>the<sp/>highlighting</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"></highlight><highlight class="comment">#<sp/>implementation<sp/>in<sp/>docutils,<sp/>despite<sp/>being<sp/>based<sp/>on<sp/>pygments,<sp/>differs<sp/>from<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight><highlight class="comment">#<sp/>used<sp/>by<sp/>Sphinx,<sp/>the<sp/>output<sp/>does<sp/>not<sp/>exactly<sp/>match<sp/>that<sp/>produced<sp/>by<sp/>the<sp/>Sphinx</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight><highlight class="comment">#<sp/>`code-block`<sp/>directive.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight><highlight class="comment">#<sp/>This<sp/>issue<sp/>is<sp/>noted<sp/>here:<sp/>//github.com/sphinx-doc/sphinx/issues/5157</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"></highlight><highlight class="comment">#<sp/>This<sp/>overrides<sp/>the<sp/>docutils<sp/>`code`<sp/>role<sp/>to<sp/>perform<sp/>highlighting<sp/>in<sp/>the<sp/>same</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight><highlight class="comment">#<sp/>way<sp/>as<sp/>the<sp/>Sphinx<sp/>`code-block`<sp/>directive.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"></highlight><highlight class="comment">#<sp/>TODO:<sp/>Change<sp/>to<sp/>use<sp/>`SphinxRole`<sp/>once<sp/>SphinxRole<sp/>is<sp/>fixed<sp/>to<sp/>support<sp/>options.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacesphinx_1_1roles_1a2078a62abbbbe52abc48762a94d170d5" kindref="member">code_role</ref>(</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/>name:<sp/>str,</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/>rawtext:<sp/>str,</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/>text:<sp/>str,</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>lineno:<sp/>int,</highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/>inliner:<sp/><ref refid="classdocutils_1_1parsers_1_1rst_1_1states_1_1Inliner" kindref="compound">docutils.parsers.rst.states.Inliner</ref>,</highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/>options:<sp/>dict[str,<sp/>Any]<sp/>|<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/>content:<sp/>Sequence[str]<sp/>=<sp/>(),</highlight></codeline>
<codeline lineno="586"><highlight class="normal">)<sp/>-&gt;<sp/>tuple[list[Node],<sp/>list[system_message]]:</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>options<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>options<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/>options<sp/>=<sp/>options.copy()</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="namespacedocutils_1_1parsers_1_1rst_1_1roles_1a509c2901b9827a13a49813eb0503c3bb" kindref="member">docutils.parsers.rst.roles.set_classes</ref>(options)</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/>language<sp/>=<sp/>options.get(</highlight><highlight class="stringliteral">&apos;language&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/>classes<sp/>=<sp/>[</highlight><highlight class="stringliteral">&apos;code&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>language:</highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes.append(</highlight><highlight class="stringliteral">&apos;highlight&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>options:</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes.extend(options[</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="597"><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>language<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>language<sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>classes:</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>classes.append(language)</highlight></codeline>
<codeline lineno="600"><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/>node<sp/>=<sp/>nodes.literal(rawtext,<sp/>text,<sp/>classes=classes,<sp/>language=language)</highlight></codeline>
<codeline lineno="602"><highlight class="normal"></highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[node],<sp/>[]</highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal">code_role.options<sp/>=<sp/>{<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[attr-defined]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;class&apos;</highlight><highlight class="normal">:<sp/>docutils.parsers.rst.directives.class_option,</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;language&apos;</highlight><highlight class="normal">:<sp/>docutils.parsers.rst.directives.unchanged,</highlight></codeline>
<codeline lineno="609"><highlight class="normal">}</highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal">specific_docroles:<sp/>dict[str,<sp/>RoleFunction]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>links<sp/>to<sp/>download<sp/>references</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;download&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1XRefRole" kindref="compound">XRefRole</ref>(nodeclass=<ref refid="classsphinx_1_1addnodes_1_1download__reference" kindref="compound">addnodes.download_reference</ref>),</highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>links<sp/>to<sp/>anything</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;any&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1AnyXRefRole" kindref="compound">AnyXRefRole</ref>(warn_dangling=</highlight><highlight class="keyword">True</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>external<sp/>links</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;cve&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1CVE" kindref="compound">CVE</ref>(),</highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;cwe&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1CWE" kindref="compound">CWE</ref>(),</highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;pep&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1PEP" kindref="compound">PEP</ref>(),</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;rfc&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1RFC" kindref="compound">RFC</ref>(),</highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>emphasised<sp/>things</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;guilabel&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1GUILabel" kindref="compound">GUILabel</ref>(),</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;menuselection&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1MenuSelection" kindref="compound">MenuSelection</ref>(),</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;file&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1EmphasizedLiteral" kindref="compound">EmphasizedLiteral</ref>(),</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;samp&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1EmphasizedLiteral" kindref="compound">EmphasizedLiteral</ref>(),</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>other</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;abbr&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1Abbreviation" kindref="compound">Abbreviation</ref>(),</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;kbd&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1Keyboard" kindref="compound">Keyboard</ref>(),</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;manpage&apos;</highlight><highlight class="normal">:<sp/><ref refid="classsphinx_1_1roles_1_1Manpage" kindref="compound">Manpage</ref>(),</highlight></codeline>
<codeline lineno="631"><highlight class="normal">}</highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">setup(app:<sp/>Sphinx)<sp/>-&gt;<sp/>ExtensionMetadata:</highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/><ref refid="namespacedocutils_1_1parsers_1_1rst" kindref="compound">docutils.parsers.rst</ref><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>roles</highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>rolename,<sp/>nodeclass<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>generic_docroles.items():</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>generic<sp/>=<sp/>roles.GenericRole(rolename,<sp/>nodeclass)</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>role<sp/>=<sp/>roles.CustomRole(rolename,<sp/>generic,<sp/>{</highlight><highlight class="stringliteral">&apos;classes&apos;</highlight><highlight class="normal">:<sp/>[rolename]})<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[arg-type]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>roles.register_local_role(rolename,<sp/>role)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[arg-type]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>rolename,<sp/>func<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>specific_docroles.items():</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>roles.register_local_role(rolename,<sp/>func)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[arg-type]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Since<sp/>docutils<sp/>registers<sp/>it<sp/>as<sp/>a<sp/>canonical<sp/>role,<sp/>override<sp/>it<sp/>as<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>canonical<sp/>role<sp/>as<sp/>well.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/>roles.register_canonical_role(</highlight><highlight class="stringliteral">&apos;code&apos;</highlight><highlight class="normal">,<sp/>code_role)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[arg-type]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;version&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="stringliteral">&apos;builtin&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;parallel_read_safe&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;parallel_write_safe&apos;</highlight><highlight class="normal">:<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
    </programlisting>
    <location file="docs/venv/lib/python3.12/site-packages/sphinx/roles.py"/>
  </compounddef>
</doxygen>
