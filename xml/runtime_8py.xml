<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="runtime_8py" kind="file" language="Python">
    <compoundname>runtime.py</compoundname>
    <innerclass refid="classjinja2_1_1runtime_1_1LoopRenderFunc" prot="public">jinja2::runtime::LoopRenderFunc</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1TemplateReference" prot="public">jinja2::runtime::TemplateReference</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1Context" prot="public">jinja2::runtime::Context</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1BlockReference" prot="public">jinja2::runtime::BlockReference</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1LoopContext" prot="public">jinja2::runtime::LoopContext</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1AsyncLoopContext" prot="public">jinja2::runtime::AsyncLoopContext</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1Macro" prot="public">jinja2::runtime::Macro</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1Undefined" prot="public">jinja2::runtime::Undefined</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1ChainableUndefined" prot="public">jinja2::runtime::ChainableUndefined</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1DebugUndefined" prot="public">jinja2::runtime::DebugUndefined</innerclass>
    <innerclass refid="classjinja2_1_1runtime_1_1StrictUndefined" prot="public">jinja2::runtime::StrictUndefined</innerclass>
    <innernamespace refid="namespacejinja2">jinja2</innernamespace>
    <innernamespace refid="namespacejinja2_1_1runtime">jinja2::runtime</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacejinja2_1_1runtime" refkind="compound"><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>runtime<sp/>functions<sp/>and<sp/>state<sp/>used<sp/>by<sp/>compiled<sp/>templates.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>functools</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>typing<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>t</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>collections<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>abc</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>itertools<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>chain</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>markupsafe<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>escape<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>F401</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>markupsafe<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Markup</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>markupsafe<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>soft_str</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.async_utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>auto_aiter</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.async_utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>auto_await<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>F401</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.exceptions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TemplateNotFound<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>F401</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.exceptions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>TemplateRuntimeError<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>F401</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.exceptions<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>UndefinedError</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.nodes<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>EvalContext</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>_PassArg</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>concat</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>internalcode</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>missing</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Namespace<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>F401</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>object_type_repr</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.utils<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>pass_eval_context</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal">V<sp/>=<sp/>t.TypeVar(</highlight><highlight class="stringliteral">&quot;V&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="28"><highlight class="normal">F<sp/>=<sp/>t.TypeVar(</highlight><highlight class="stringliteral">&quot;F&quot;</highlight><highlight class="normal">,<sp/>bound=t.Callable[...,<sp/>t.Any])</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>t.TYPE_CHECKING:</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logging</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>typing_extensions<sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>te</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>.environment<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Environment</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="classjinja2_1_1runtime_1_1LoopRenderFunc" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopRenderFunc" kindref="compound">LoopRenderFunc</ref>(te.Protocol):</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopRenderFunc_1a0eedd302e399ba13c2cf67694e5abe6c" kindref="member">__call__</ref>(</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>reciter:<sp/>t.Iterable[V],</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>loop_render_func:<sp/></highlight><highlight class="stringliteral">&quot;LoopRenderFunc&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>depth:<sp/>int<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>str:<sp/>...</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight><highlight class="comment">#<sp/>these<sp/>variables<sp/>are<sp/>exported<sp/>to<sp/>the<sp/>template<sp/>runtime</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal">exported<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;LoopContext&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;TemplateReference&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Macro&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Markup&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;TemplateRuntimeError&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;missing&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;escape&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;markup_join&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;str_join&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;identity&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;TemplateNotFound&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Namespace&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Undefined&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;internalcode&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="62"><highlight class="normal">]</highlight></codeline>
<codeline lineno="63"><highlight class="normal">async_exported<sp/>=<sp/>[</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;AsyncLoopContext&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;auto_aiter&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;auto_await&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="67"><highlight class="normal">]</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacejinja2_1_1runtime_1a69c01b31a44ebe3150ef7814f192e1aa" kindref="member">identity</ref>(x:<sp/>V)<sp/>-&gt;<sp/>V:</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Returns<sp/>its<sp/>argument.<sp/>Useful<sp/>for<sp/>certain<sp/>things<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="72"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>environment.</highlight></codeline>
<codeline lineno="73"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>x</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacejinja2_1_1runtime_1a66f6487e563ccf446d956ccb6314c8eb" kindref="member">markup_join</ref>(seq:<sp/>t.Iterable[t.Any])<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Concatenation<sp/>that<sp/>escapes<sp/>if<sp/>necessary<sp/>and<sp/>converts<sp/>to<sp/>string.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>buf<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>iterator<sp/>=<sp/>map(soft_str,<sp/>seq)</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>arg<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>iterator:</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>buf.append(arg)</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>hasattr(arg,<sp/></highlight><highlight class="stringliteral">&quot;__html__&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classmarkupsafe_1_1Markup" kindref="compound">Markup</ref>(</highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">).join(chain(buf,<sp/>iterator))</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>concat(buf)</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacejinja2_1_1runtime_1a6317835d95602ccbc5fd9aa34b6da916" kindref="member">str_join</ref>(seq:<sp/>t.Iterable[t.Any])<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Simple<sp/>args<sp/>to<sp/>string<sp/>conversion<sp/>and<sp/>concatenation.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>concat(map(str,<sp/>seq))</highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">new_context(</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>environment:<sp/></highlight><highlight class="stringliteral">&quot;Environment&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>template_name:<sp/>t.Optional[str],</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>blocks:<sp/>t.Dict[str,<sp/>t.Callable[[</highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">],<sp/>t.Iterator[str]]],</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>vars:<sp/>t.Optional[t.Dict[str,<sp/>t.Any]]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>shared:<sp/>bool<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>globals:<sp/>t.Optional[t.MutableMapping[str,<sp/>t.Any]]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>locals:<sp/>t.Optional[t.Mapping[str,<sp/>t.Any]]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="101"><highlight class="normal">)<sp/>-&gt;<sp/></highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Internal<sp/>helper<sp/>for<sp/>context<sp/>creation.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>vars<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vars<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>shared:</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parent<sp/>=<sp/>vars</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parent<sp/>=<sp/>dict(globals<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(),<sp/>**vars)</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>locals:</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>if<sp/>the<sp/>parent<sp/>is<sp/>shared<sp/>a<sp/>copy<sp/>should<sp/>be<sp/>created<sp/>because</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>we<sp/>don&apos;t<sp/>want<sp/>to<sp/>modify<sp/>the<sp/>dict<sp/>passed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>shared:</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parent<sp/>=<sp/>dict(parent)</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>key,<sp/>value<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>locals.items():</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>value<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parent[key]<sp/>=<sp/>value</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>environment.context_class(</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>environment,<sp/>parent,<sp/>template_name,<sp/>blocks,<sp/>globals=globals</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"></highlight></codeline>
<codeline lineno="122" refid="classjinja2_1_1runtime_1_1TemplateReference" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1TemplateReference" kindref="compound">TemplateReference</ref>:</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>`self`<sp/>in<sp/>templates.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1TemplateReference_1a83c75f6512a40e68b1ca82ada99ece0c" kindref="member">__init__</ref>(self,<sp/>context:<sp/></highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1TemplateReference_1a69a9007e195eccd7aff0a0cff34c85b4" kindref="member">__context</ref><sp/>=<sp/>context</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1TemplateReference_1aac90e96347ff9c5e69786053ad5290f9" kindref="member">__getitem__</ref>(self,<sp/>name:<sp/>str)<sp/>-&gt;<sp/>t.Any:</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blocks<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1TemplateReference_1a69a9007e195eccd7aff0a0cff34c85b4" kindref="member">__context</ref>.blocks[name]</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classjinja2_1_1runtime_1_1BlockReference" kindref="compound">BlockReference</ref>(name,<sp/>self.<ref refid="classjinja2_1_1runtime_1_1TemplateReference_1a69a9007e195eccd7aff0a0cff34c85b4" kindref="member">__context</ref>,<sp/>blocks,<sp/>0)</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1TemplateReference_1ae8aa37dd5b69b33fffcaa497239c5614" kindref="member">__repr__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&quot;&lt;{type(self).__name__}<sp/>{self.__context.name!r}&gt;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="namespacejinja2_1_1runtime_1a81d8f229c1d8285c2a4d24bf762b0ea1" kindref="member">_dict_method_all</ref>(dict_method:<sp/>F)<sp/>-&gt;<sp/>F:</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@functools.wraps(dict_method)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">f_all(self:<sp/></highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">)<sp/>-&gt;<sp/>t.Any:</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dict_method(self.get_all())</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>t.cast(F,<sp/>f_all)</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight><highlight class="preprocessor">@abc.Mapping.register</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145" refid="classjinja2_1_1runtime_1_1Context" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context" kindref="compound">Context</ref>:</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>template<sp/>context<sp/>holds<sp/>the<sp/>variables<sp/>of<sp/>a<sp/>template.<sp/><sp/>It<sp/>stores<sp/>the</highlight></codeline>
<codeline lineno="147"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>values<sp/>passed<sp/>to<sp/>the<sp/>template<sp/>and<sp/>also<sp/>the<sp/>names<sp/>the<sp/>template<sp/>exports.</highlight></codeline>
<codeline lineno="148"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Creating<sp/>instances<sp/>is<sp/>neither<sp/>supported<sp/>nor<sp/>useful<sp/>as<sp/>it&apos;s<sp/>created</highlight></codeline>
<codeline lineno="149"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>automatically<sp/>at<sp/>various<sp/>stages<sp/>of<sp/>the<sp/>template<sp/>evaluation<sp/>and<sp/>should<sp/>not</highlight></codeline>
<codeline lineno="150"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>be<sp/>created<sp/>by<sp/>hand.</highlight></codeline>
<codeline lineno="151"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="152"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>context<sp/>is<sp/>immutable.<sp/><sp/>Modifications<sp/>on<sp/>:attr:`parent`<sp/>**must<sp/>not**</highlight></codeline>
<codeline lineno="153"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>happen<sp/>and<sp/>modifications<sp/>on<sp/>:attr:`vars`<sp/>are<sp/>allowed<sp/>from<sp/>generated</highlight></codeline>
<codeline lineno="154"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>template<sp/>code<sp/>only.<sp/><sp/>Template<sp/>filters<sp/>and<sp/>global<sp/>functions<sp/>marked<sp/>as</highlight></codeline>
<codeline lineno="155"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:func:`pass_context`<sp/>get<sp/>the<sp/>active<sp/>context<sp/>passed<sp/>as<sp/>first<sp/>argument</highlight></codeline>
<codeline lineno="156"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>and<sp/>are<sp/>allowed<sp/>to<sp/>access<sp/>the<sp/>context<sp/>read-only.</highlight></codeline>
<codeline lineno="157"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="158"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>The<sp/>template<sp/>context<sp/>supports<sp/>read<sp/>only<sp/>dict<sp/>operations<sp/>(`get`,</highlight></codeline>
<codeline lineno="159"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>`keys`,<sp/>`values`,<sp/>`items`,<sp/>`iterkeys`,<sp/>`itervalues`,<sp/>`iteritems`,</highlight></codeline>
<codeline lineno="160"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>`__getitem__`,<sp/>`__contains__`).<sp/><sp/>Additionally<sp/>there<sp/>is<sp/>a<sp/>:meth:`resolve`</highlight></codeline>
<codeline lineno="161"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>method<sp/>that<sp/>doesn&apos;t<sp/>fail<sp/>with<sp/>a<sp/>`KeyError`<sp/>but<sp/>returns<sp/>an</highlight></codeline>
<codeline lineno="162"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:class:`Undefined`<sp/>object<sp/>for<sp/>missing<sp/>variables.</highlight></codeline>
<codeline lineno="163"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1a69d82a06c6c76e75072ae84803a6abc7" kindref="member">__init__</ref>(</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>environment:<sp/></highlight><highlight class="stringliteral">&quot;Environment&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>parent:<sp/>t.Dict[str,<sp/>t.Any],</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name:<sp/>t.Optional[str],</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blocks:<sp/>t.Dict[str,<sp/>t.Callable[[</highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">],<sp/>t.Iterator[str]]],</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>globals:<sp/>t.Optional[t.MutableMapping[str,<sp/>t.Any]]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a4b394c084b827e3b918f9a05b383e709" kindref="member">parent</ref><sp/>=<sp/>parent</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1adf95ca4e04506860019c54af8cd6e816" kindref="member">vars</ref>:<sp/>t.Dict[str,<sp/>t.Any]<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1ae5785aad8e1be292ba841189d35be9cb" kindref="member">environment</ref>:<sp/>Environment<sp/>=<sp/>environment</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a25bc3e8290267bdca91767b1f4ce3048" kindref="member">eval_ctx</ref><sp/>=<sp/><ref refid="classjinja2_1_1nodes_1_1EvalContext" kindref="compound">EvalContext</ref>(self.<ref refid="classjinja2_1_1runtime_1_1Context_1ae5785aad8e1be292ba841189d35be9cb" kindref="member">environment</ref>,<sp/>name)</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.exported_vars:<sp/>t.Set[str]<sp/>=<sp/>set()</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1ad9676b0592d7bb99aecc9be712cc5209" kindref="member">name</ref><sp/>=<sp/>name</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1ae5fdbff67a01577bfd41e74aeefbce6e" kindref="member">globals_keys</ref><sp/>=<sp/>set()<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>globals<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>set(globals)</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>create<sp/>the<sp/>initial<sp/>mapping<sp/>of<sp/>blocks.<sp/><sp/>Whenever<sp/>template<sp/>inheritance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>takes<sp/>place<sp/>the<sp/>runtime<sp/>will<sp/>update<sp/>this<sp/>mapping<sp/>with<sp/>the<sp/>new<sp/>blocks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>from<sp/>the<sp/>template.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1add86220aaef3855ef6cb2c6221c1b153" kindref="member">blocks</ref><sp/>=<sp/>{k:<sp/>[v]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>blocks.items()}</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1af811a691f34cac35f3de431374690bc5" kindref="member">super</ref>(</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,<sp/>name:<sp/>str,<sp/>current:<sp/>t.Callable[[</highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">],<sp/>t.Iterator[str]]</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>t.Union[</highlight><highlight class="stringliteral">&quot;BlockReference&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&quot;Undefined&quot;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Render<sp/>a<sp/>parent<sp/>block.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blocks<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1add86220aaef3855ef6cb2c6221c1b153" kindref="member">blocks</ref>[name]</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>index<sp/>=<sp/>blocks.index(current)<sp/>+<sp/>1</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>blocks[index]</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>LookupError:</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1ae5785aad8e1be292ba841189d35be9cb" kindref="member">environment</ref>.undefined(</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;there<sp/>is<sp/>no<sp/>parent<sp/>block<sp/>called<sp/>{name!r}.&quot;</highlight><highlight class="normal">,<sp/>name=</highlight><highlight class="stringliteral">&quot;super&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classjinja2_1_1runtime_1_1BlockReference" kindref="compound">BlockReference</ref>(name,<sp/>self,<sp/>blocks,<sp/>index)</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">get(self,<sp/>key:<sp/>str,<sp/>default:<sp/>t.Any<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>-&gt;<sp/>t.Any:</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Look<sp/>up<sp/>a<sp/>variable<sp/>by<sp/>name,<sp/>or<sp/>return<sp/>a<sp/>default<sp/>if<sp/>the<sp/>key<sp/>is</highlight></codeline>
<codeline lineno="202"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>not<sp/>found.</highlight></codeline>
<codeline lineno="203"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="204"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>key:<sp/>The<sp/>variable<sp/>name<sp/>to<sp/>look<sp/>up.</highlight></codeline>
<codeline lineno="205"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>default:<sp/>The<sp/>value<sp/>to<sp/>return<sp/>if<sp/>the<sp/>key<sp/>is<sp/>not<sp/>found.</highlight></codeline>
<codeline lineno="206"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self[key]</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>KeyError:</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>default</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1acd28e722fed21e376e945b9470414776" kindref="member">resolve</ref>(self,<sp/>key:<sp/>str)<sp/>-&gt;<sp/>t.Union[t.Any,<sp/></highlight><highlight class="stringliteral">&quot;Undefined&quot;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Look<sp/>up<sp/>a<sp/>variable<sp/>by<sp/>name,<sp/>or<sp/>return<sp/>an<sp/>:class:`Undefined`</highlight></codeline>
<codeline lineno="214"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>object<sp/>if<sp/>the<sp/>key<sp/>is<sp/>not<sp/>found.</highlight></codeline>
<codeline lineno="215"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="216"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>you<sp/>need<sp/>to<sp/>add<sp/>custom<sp/>behavior,<sp/>override</highlight></codeline>
<codeline lineno="217"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:meth:`resolve_or_missing`,<sp/>not<sp/>this<sp/>method.<sp/>The<sp/>various<sp/>lookup</highlight></codeline>
<codeline lineno="218"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>functions<sp/>use<sp/>that<sp/>method,<sp/>not<sp/>this<sp/>one.</highlight></codeline>
<codeline lineno="219"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="220"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>key:<sp/>The<sp/>variable<sp/>name<sp/>to<sp/>look<sp/>up.</highlight></codeline>
<codeline lineno="221"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a5f327062497b2bfdb3c7b0cf9f299d59" kindref="member">resolve_or_missing</ref>(key)</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>rv<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1ae5785aad8e1be292ba841189d35be9cb" kindref="member">environment</ref>.undefined(name=key)</highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1a5f327062497b2bfdb3c7b0cf9f299d59" kindref="member">resolve_or_missing</ref>(self,<sp/>key:<sp/>str)<sp/>-&gt;<sp/>t.Any:</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Look<sp/>up<sp/>a<sp/>variable<sp/>by<sp/>name,<sp/>or<sp/>return<sp/>a<sp/>``missing``<sp/>sentinel</highlight></codeline>
<codeline lineno="231"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>the<sp/>key<sp/>is<sp/>not<sp/>found.</highlight></codeline>
<codeline lineno="232"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="233"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Override<sp/>this<sp/>method<sp/>to<sp/>add<sp/>custom<sp/>lookup<sp/>behavior.</highlight></codeline>
<codeline lineno="234"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:meth:`resolve`,<sp/>:meth:`get`,<sp/>and<sp/>:meth:`__getitem__`<sp/>use<sp/>this</highlight></codeline>
<codeline lineno="235"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>method.<sp/>Don&apos;t<sp/>call<sp/>this<sp/>method<sp/>directly.</highlight></codeline>
<codeline lineno="236"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="237"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>key:<sp/>The<sp/>variable<sp/>name<sp/>to<sp/>look<sp/>up.</highlight></codeline>
<codeline lineno="238"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1adf95ca4e04506860019c54af8cd6e816" kindref="member">vars</ref>:</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1adf95ca4e04506860019c54af8cd6e816" kindref="member">vars</ref>[key]</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>key<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a4b394c084b827e3b918f9a05b383e709" kindref="member">parent</ref>:</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a4b394c084b827e3b918f9a05b383e709" kindref="member">parent</ref>[key]</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>missing</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1a588ce5eb52b7546c8c7002e06a2eb620" kindref="member">get_exported</ref>(self)<sp/>-&gt;<sp/>t.Dict[str,<sp/>t.Any]:</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Get<sp/>a<sp/>new<sp/>dict<sp/>with<sp/>the<sp/>exported<sp/>variables.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>{k:<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1adf95ca4e04506860019c54af8cd6e816" kindref="member">vars</ref>[k]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.exported_vars}</highlight></codeline>
<codeline lineno="250"><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1acf58f708f2c577b78d37cf85032ed3aa" kindref="member">get_all</ref>(self)<sp/>-&gt;<sp/>t.Dict[str,<sp/>t.Any]:</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>complete<sp/>context<sp/>as<sp/>dict<sp/>including<sp/>the<sp/>exported</highlight></codeline>
<codeline lineno="253"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>variables.<sp/><sp/>For<sp/>optimizations<sp/>reasons<sp/>this<sp/>might<sp/>not<sp/>return<sp/>an</highlight></codeline>
<codeline lineno="254"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>actual<sp/>copy<sp/>so<sp/>be<sp/>careful<sp/>with<sp/>using<sp/>it.</highlight></codeline>
<codeline lineno="255"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1adf95ca4e04506860019c54af8cd6e816" kindref="member">vars</ref>:</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a4b394c084b827e3b918f9a05b383e709" kindref="member">parent</ref></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a4b394c084b827e3b918f9a05b383e709" kindref="member">parent</ref>:</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1adf95ca4e04506860019c54af8cd6e816" kindref="member">vars</ref></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dict(self.<ref refid="classjinja2_1_1runtime_1_1Context_1a4b394c084b827e3b918f9a05b383e709" kindref="member">parent</ref>,<sp/>**self.<ref refid="classjinja2_1_1runtime_1_1Context_1adf95ca4e04506860019c54af8cd6e816" kindref="member">vars</ref>)</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@internalcode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1a633424624fd80a7ec786cabf537b9a18" kindref="member">call</ref>(</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__self,</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__obj:<sp/>t.Callable[...,<sp/>t.Any],</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*args:<sp/>t.Any,</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>**kwargs:<sp/>t.Any,<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>B902</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>t.Union[t.Any,<sp/></highlight><highlight class="stringliteral">&quot;Undefined&quot;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Call<sp/>the<sp/>callable<sp/>with<sp/>the<sp/>arguments<sp/>and<sp/>keyword<sp/>arguments</highlight></codeline>
<codeline lineno="270"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>provided<sp/>but<sp/>inject<sp/>the<sp/>active<sp/>context<sp/>or<sp/>environment<sp/>as<sp/>first</highlight></codeline>
<codeline lineno="271"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>argument<sp/>if<sp/>the<sp/>callable<sp/>has<sp/>:func:`pass_context`<sp/>or</highlight></codeline>
<codeline lineno="272"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:func:`pass_environment`.</highlight></codeline>
<codeline lineno="273"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__debug__:</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__traceback_hide__<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">#<sp/>noqa</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Allow<sp/>callable<sp/>classes<sp/>to<sp/>take<sp/>a<sp/>context</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hasattr(__obj,<sp/></highlight><highlight class="stringliteral">&quot;__call__&quot;</highlight><highlight class="normal">)<sp/><sp/></highlight><highlight class="comment">#<sp/>noqa:<sp/>B004</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>_PassArg.from_obj(__obj.__call__)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__obj<sp/>=<sp/>__obj.__call__</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pass_arg<sp/>=<sp/>_PassArg.from_obj(__obj)</highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>pass_arg<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_PassArg.context:</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>active<sp/>context<sp/>should<sp/>have<sp/>access<sp/>to<sp/>variables<sp/>set<sp/>in</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>loops<sp/>and<sp/>blocks<sp/>without<sp/>mutating<sp/>the<sp/>context<sp/>itself</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>kwargs.get(</highlight><highlight class="stringliteral">&quot;_loop_vars&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__self<sp/>=<sp/>__self.derived(kwargs[</highlight><highlight class="stringliteral">&quot;_loop_vars&quot;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>kwargs.get(</highlight><highlight class="stringliteral">&quot;_block_vars&quot;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__self<sp/>=<sp/>__self.derived(kwargs[</highlight><highlight class="stringliteral">&quot;_block_vars&quot;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args<sp/>=<sp/>(__self,)<sp/>+<sp/>args</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>pass_arg<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_PassArg.eval_context:</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args<sp/>=<sp/>(__self.eval_ctx,)<sp/>+<sp/>args</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>pass_arg<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>_PassArg.environment:</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args<sp/>=<sp/>(__self.environment,)<sp/>+<sp/>args</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs.pop(</highlight><highlight class="stringliteral">&quot;_block_vars&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kwargs.pop(</highlight><highlight class="stringliteral">&quot;_loop_vars&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>__obj(*args,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopIteration:</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>__self.environment.undefined(</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;value<sp/>was<sp/>undefined<sp/>because<sp/>a<sp/>callable<sp/>raised<sp/>a&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>StopIteration<sp/>exception&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="309"><highlight class="normal"></highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1a0fbee8b09687011232ac58ed98502608" kindref="member">derived</ref>(self,<sp/>locals:<sp/>t.Optional[t.Dict[str,<sp/>t.Any]]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/>-&gt;<sp/></highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Internal<sp/>helper<sp/>function<sp/>to<sp/>create<sp/>a<sp/>derived<sp/>context.<sp/><sp/>This<sp/>is</highlight></codeline>
<codeline lineno="312"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>used<sp/>in<sp/>situations<sp/>where<sp/>the<sp/>system<sp/>needs<sp/>a<sp/>new<sp/>context<sp/>in<sp/>the<sp/>same</highlight></codeline>
<codeline lineno="313"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>template<sp/>that<sp/>is<sp/>independent.</highlight></codeline>
<codeline lineno="314"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context<sp/>=<sp/>new_context(</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1ae5785aad8e1be292ba841189d35be9cb" kindref="member">environment</ref>,<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1ad9676b0592d7bb99aecc9be712cc5209" kindref="member">name</ref>,<sp/>{},<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1acf58f708f2c577b78d37cf85032ed3aa" kindref="member">get_all</ref>(),<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>locals</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context.eval_ctx<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a25bc3e8290267bdca91767b1f4ce3048" kindref="member">eval_ctx</ref></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context.blocks.update((k,<sp/>list(v))<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>k,<sp/>v<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1add86220aaef3855ef6cb2c6221c1b153" kindref="member">blocks</ref>.<ref refid="classjinja2_1_1runtime_1_1Context_1ab50b0f9bf4be58e62e5a0daef6a032d0" kindref="member">items</ref>())</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>context</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>keys<sp/>=<sp/><ref refid="namespacejinja2_1_1runtime_1a81d8f229c1d8285c2a4d24bf762b0ea1" kindref="member">_dict_method_all</ref>(dict.keys)</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>values<sp/>=<sp/><ref refid="namespacejinja2_1_1runtime_1a81d8f229c1d8285c2a4d24bf762b0ea1" kindref="member">_dict_method_all</ref>(dict.values)</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/>items<sp/>=<sp/><ref refid="namespacejinja2_1_1runtime_1a81d8f229c1d8285c2a4d24bf762b0ea1" kindref="member">_dict_method_all</ref>(dict.items)</highlight></codeline>
<codeline lineno="325"><highlight class="normal"></highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1a95c0971157533487c315d7981a61d3c8" kindref="member">__contains__</ref>(self,<sp/>name:<sp/>str)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1adf95ca4e04506860019c54af8cd6e816" kindref="member">vars</ref><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a4b394c084b827e3b918f9a05b383e709" kindref="member">parent</ref></highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1ab32c903fc6bf79ec9a42d1545dfc8ba4" kindref="member">__getitem__</ref>(self,<sp/>key:<sp/>str)<sp/>-&gt;<sp/>t.Any:</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Look<sp/>up<sp/>a<sp/>variable<sp/>by<sp/>name<sp/>with<sp/>``[]``<sp/>syntax,<sp/>or<sp/>raise<sp/>a</highlight></codeline>
<codeline lineno="331"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>``KeyError``<sp/>if<sp/>the<sp/>key<sp/>is<sp/>not<sp/>found.</highlight></codeline>
<codeline lineno="332"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>item<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Context_1a5f327062497b2bfdb3c7b0cf9f299d59" kindref="member">resolve_or_missing</ref>(key)</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>item<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>KeyError(key)</highlight></codeline>
<codeline lineno="337"><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>item</highlight></codeline>
<codeline lineno="339"><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Context_1a52f83811bfbac214fb6db89d3d2f453d" kindref="member">__repr__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&quot;&lt;{type(self).__name__}<sp/>{self.get_all()!r}<sp/>of<sp/>{self.name!r}&gt;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"></highlight></codeline>
<codeline lineno="344" refid="classjinja2_1_1runtime_1_1BlockReference" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1BlockReference" kindref="compound">BlockReference</ref>:</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;One<sp/>block<sp/>on<sp/>a<sp/>template<sp/>reference.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1BlockReference_1aecdfaabc090cfd169426f99a842bf396" kindref="member">__init__</ref>(</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name:<sp/>str,</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>context:<sp/></highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stack:<sp/>t.List[t.Callable[[</highlight><highlight class="stringliteral">&quot;Context&quot;</highlight><highlight class="normal">],<sp/>t.Iterator[str]]],</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>depth:<sp/>int,</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1ad4b85f729154c0fb0ec109a9dc7eb946" kindref="member">name</ref><sp/>=<sp/>name</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref><sp/>=<sp/>context</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1abd6507186221d9f5b67d2854b3d05eed" kindref="member">_stack</ref><sp/>=<sp/>stack</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a3159cb60e13b2a84e5d2a77a2cfadd1a" kindref="member">_depth</ref><sp/>=<sp/>depth</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1BlockReference_1a619feebf7332b42d2f4fdfe047401548" kindref="member">super</ref>(self)<sp/>-&gt;<sp/>t.Union[&quot;BlockReference&quot;,<sp/>&quot;Undefined&quot;]:</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Super<sp/>the<sp/>block.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a3159cb60e13b2a84e5d2a77a2cfadd1a" kindref="member">_depth</ref><sp/>+<sp/>1<sp/>&gt;=<sp/>len(self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1abd6507186221d9f5b67d2854b3d05eed" kindref="member">_stack</ref>):</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>.environment.undefined(</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;there<sp/>is<sp/>no<sp/>parent<sp/>block<sp/>called<sp/>{self.name!r}.&quot;</highlight><highlight class="normal">,<sp/>name=</highlight><highlight class="stringliteral">&quot;super&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classjinja2_1_1runtime_1_1BlockReference" kindref="compound">BlockReference</ref>(self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1ad4b85f729154c0fb0ec109a9dc7eb946" kindref="member">name</ref>,<sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>,<sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1abd6507186221d9f5b67d2854b3d05eed" kindref="member">_stack</ref>,<sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a3159cb60e13b2a84e5d2a77a2cfadd1a" kindref="member">_depth</ref><sp/>+<sp/>1)</highlight></codeline>
<codeline lineno="367"><highlight class="normal"></highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@internalcode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1BlockReference_1a3577d7fe656ab4840a89745165b84dd7" kindref="member">_async_call</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>.environment.concat(<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[x<sp/></highlight><highlight class="keyword">async</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1abd6507186221d9f5b67d2854b3d05eed" kindref="member">_stack</ref>[self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a3159cb60e13b2a84e5d2a77a2cfadd1a" kindref="member">_depth</ref>](self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>)]<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>.eval_ctx.autoescape:</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classmarkupsafe_1_1Markup" kindref="compound">Markup</ref>(rv)</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv</highlight></codeline>
<codeline lineno="378"><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@internalcode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1BlockReference_1a26463c80fcabb67da8e064b6f3425d46" kindref="member">__call__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>.environment.is_async:</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a3577d7fe656ab4840a89745165b84dd7" kindref="member">_async_call</ref>()<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>.environment.concat(<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1abd6507186221d9f5b67d2854b3d05eed" kindref="member">_stack</ref>[self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a3159cb60e13b2a84e5d2a77a2cfadd1a" kindref="member">_depth</ref>](self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>)</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1BlockReference_1a6787bcbc721b0d83703249937e88d637" kindref="member">_context</ref>.eval_ctx.autoescape:</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classmarkupsafe_1_1Markup" kindref="compound">Markup</ref>(rv)</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394" refid="classjinja2_1_1runtime_1_1LoopContext" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext" kindref="compound">LoopContext</ref>:</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;A<sp/>wrapper<sp/>iterable<sp/>for<sp/>dynamic<sp/>``for``<sp/>loops,<sp/>with<sp/>information</highlight></codeline>
<codeline lineno="396"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>about<sp/>the<sp/>loop<sp/>and<sp/>iteration.</highlight></codeline>
<codeline lineno="397"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>Current<sp/>iteration<sp/>of<sp/>the<sp/>loop,<sp/>starting<sp/>at<sp/>0.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/>index0<sp/>=<sp/>-1</highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>_length:<sp/>t.Optional[int]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/>_after:<sp/>t.Any<sp/>=<sp/>missing</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/>_current:<sp/>t.Any<sp/>=<sp/>missing</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/>_before:<sp/>t.Any<sp/>=<sp/>missing</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>_last_changed_value:<sp/>t.Any<sp/>=<sp/>missing</highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abf4a5563a23e8dd42f24382a869b9106" kindref="member">__init__</ref>(</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterable:<sp/>t.Iterable[V],</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>undefined:<sp/>t.Type[</highlight><highlight class="stringliteral">&quot;Undefined&quot;</highlight><highlight class="normal">],</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recurse:<sp/>t.Optional[</highlight><highlight class="stringliteral">&quot;LoopRenderFunc&quot;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>depth0:<sp/>int<sp/>=<sp/>0,</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;</highlight></codeline>
<codeline lineno="416"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>iterable:<sp/>Iterable<sp/>to<sp/>wrap.</highlight></codeline>
<codeline lineno="417"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>undefined:<sp/>:class:`Undefined`<sp/>class<sp/>to<sp/>use<sp/>for<sp/>next<sp/>and</highlight></codeline>
<codeline lineno="418"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>previous<sp/>items.</highlight></codeline>
<codeline lineno="419"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>recurse:<sp/>The<sp/>function<sp/>to<sp/>render<sp/>the<sp/>loop<sp/>body<sp/>when<sp/>the</highlight></codeline>
<codeline lineno="420"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>loop<sp/>is<sp/>marked<sp/>recursive.</highlight></codeline>
<codeline lineno="421"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>depth0:<sp/>Incremented<sp/>when<sp/>looping<sp/>recursively.</highlight></codeline>
<codeline lineno="422"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9270f4eb7a83592996e91a643da2e21f" kindref="member">_iterable</ref><sp/>=<sp/>iterable</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref><sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a51ef9ff06403e815f5ff13531df279be" kindref="member">_to_iterator</ref>(iterable)</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ae02907515ca9a41bb9e8fca9417a4020" kindref="member">_undefined</ref><sp/>=<sp/>undefined</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ad8ec20f374d487b73977416b7a2e663f" kindref="member">_recurse</ref><sp/>=<sp/>recurse</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#:<sp/>How<sp/>many<sp/>levels<sp/>deep<sp/>a<sp/>recursive<sp/>loop<sp/>currently<sp/>is,<sp/>starting<sp/>at<sp/>0.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a8b23eb8b99c84648e0eb59a72c8cfa2c" kindref="member">depth0</ref><sp/>=<sp/>depth0</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a51ef9ff06403e815f5ff13531df279be" kindref="member">_to_iterator</ref>(iterable:<sp/>t.Iterable[V])<sp/>-&gt;<sp/>t.Iterator[V]:</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>iter(iterable)</highlight></codeline>
<codeline lineno="433"><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a55b87ba65f7a32cbbc07869f4db16b87" kindref="member">length</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Length<sp/>of<sp/>the<sp/>iterable.</highlight></codeline>
<codeline lineno="437"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>If<sp/>the<sp/>iterable<sp/>is<sp/>a<sp/>generator<sp/>or<sp/>otherwise<sp/>does<sp/>not<sp/>have<sp/>a</highlight></codeline>
<codeline lineno="439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>size,<sp/>it<sp/>is<sp/>eagerly<sp/>evaluated<sp/>to<sp/>get<sp/>a<sp/>size.</highlight></codeline>
<codeline lineno="440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref></highlight></codeline>
<codeline lineno="443"><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref><sp/>=<sp/>len(self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9270f4eb7a83592996e91a643da2e21f" kindref="member">_iterable</ref>)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterable<sp/>=<sp/>list(self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref>)</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref><sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a51ef9ff06403e815f5ff13531df279be" kindref="member">_to_iterator</ref>(iterable)</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref><sp/>=<sp/>len(iterable)<sp/>+<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1acfe28ac6b59808eb306c79ecb0e73016" kindref="member">index</ref><sp/>+<sp/>(self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>missing)</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref></highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a5e5b57f085bb914f29138cd7fd27dbf5" kindref="member">__len__</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a55b87ba65f7a32cbbc07869f4db16b87" kindref="member">length</ref></highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a765fef521c0f9a998f8e35d3ac787389" kindref="member">depth</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;How<sp/>many<sp/>levels<sp/>deep<sp/>a<sp/>recursive<sp/>loop<sp/>currently<sp/>is,<sp/>starting<sp/>at<sp/>1.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a8b23eb8b99c84648e0eb59a72c8cfa2c" kindref="member">depth0</ref><sp/>+<sp/>1</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">index(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Current<sp/>iteration<sp/>of<sp/>the<sp/>loop,<sp/>starting<sp/>at<sp/>1.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9592a5d5731dd908babb031fee6b502e" kindref="member">index0</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ab5afcb5863131a65df77fd9d2f491a84" kindref="member">index0</ref><sp/>+<sp/>1</highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac5eddc5701b290f6d936d4569a299b3c" kindref="member">revindex0</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Number<sp/>of<sp/>iterations<sp/>from<sp/>the<sp/>end<sp/>of<sp/>the<sp/>loop,<sp/>ending<sp/>at<sp/>0.</highlight></codeline>
<codeline lineno="469"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="470"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Requires<sp/>calculating<sp/>:attr:`length`.</highlight></codeline>
<codeline lineno="471"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a55b87ba65f7a32cbbc07869f4db16b87" kindref="member">length</ref><sp/>-<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1acfe28ac6b59808eb306c79ecb0e73016" kindref="member">index</ref></highlight></codeline>
<codeline lineno="473"><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac3497962d617c3ed56bded1729790e64" kindref="member">revindex</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Number<sp/>of<sp/>iterations<sp/>from<sp/>the<sp/>end<sp/>of<sp/>the<sp/>loop,<sp/>ending<sp/>at<sp/>1.</highlight></codeline>
<codeline lineno="477"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="478"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Requires<sp/>calculating<sp/>:attr:`length`.</highlight></codeline>
<codeline lineno="479"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a55b87ba65f7a32cbbc07869f4db16b87" kindref="member">length</ref><sp/>-<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9592a5d5731dd908babb031fee6b502e" kindref="member">index0</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ab5afcb5863131a65df77fd9d2f491a84" kindref="member">index0</ref></highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a7e9bd8946c605d3a2d915cfbaaf09026" kindref="member">first</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Whether<sp/>this<sp/>is<sp/>the<sp/>first<sp/>iteration<sp/>of<sp/>the<sp/>loop.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9592a5d5731dd908babb031fee6b502e" kindref="member">index0</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ab5afcb5863131a65df77fd9d2f491a84" kindref="member">index0</ref><sp/>==<sp/>0</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a808630db991e0f1195951dc2ef18f39c" kindref="member">_peek_next</ref>(self)<sp/>-&gt;<sp/>t.Any:</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>the<sp/>next<sp/>element<sp/>in<sp/>the<sp/>iterable,<sp/>or<sp/>:data:`missing`</highlight></codeline>
<codeline lineno="489"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>the<sp/>iterable<sp/>is<sp/>exhausted.<sp/>Only<sp/>peeks<sp/>one<sp/>item<sp/>ahead,<sp/>caching</highlight></codeline>
<codeline lineno="490"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>result<sp/>in<sp/>:attr:`_last`<sp/>for<sp/>use<sp/>in<sp/>subsequent<sp/>checks.<sp/>The</highlight></codeline>
<codeline lineno="491"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cache<sp/>is<sp/>reset<sp/>when<sp/>:meth:`__next__`<sp/>is<sp/>called.</highlight></codeline>
<codeline lineno="492"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref></highlight></codeline>
<codeline lineno="495"><highlight class="normal"></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><sp/>=<sp/>next(self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref>,<sp/>missing)</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref></highlight></codeline>
<codeline lineno="498"><highlight class="normal"></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a58bd626934ef493ae4a068c2fc5e7d68" kindref="member">last</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Whether<sp/>this<sp/>is<sp/>the<sp/>last<sp/>iteration<sp/>of<sp/>the<sp/>loop.</highlight></codeline>
<codeline lineno="502"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="503"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Causes<sp/>the<sp/>iterable<sp/>to<sp/>advance<sp/>early.<sp/>See</highlight></codeline>
<codeline lineno="504"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:func:`itertools.groupby`<sp/>for<sp/>issues<sp/>this<sp/>can<sp/>cause.</highlight></codeline>
<codeline lineno="505"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>:func:`groupby`<sp/>filter<sp/>avoids<sp/>that<sp/>issue.</highlight></codeline>
<codeline lineno="506"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a808630db991e0f1195951dc2ef18f39c" kindref="member">_peek_next</ref>()<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>missing</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1afe922383327c67ccc1e069b54bf57bc1" kindref="member">previtem</ref>(self)<sp/>-&gt;<sp/>t.Union[t.Any,<sp/>&quot;Undefined&quot;]:</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>item<sp/>in<sp/>the<sp/>previous<sp/>iteration.<sp/>Undefined<sp/>during<sp/>the</highlight></codeline>
<codeline lineno="512"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first<sp/>iteration.</highlight></codeline>
<codeline lineno="513"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a7e9bd8946c605d3a2d915cfbaaf09026" kindref="member">first</ref>:</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ae02907515ca9a41bb9e8fca9417a4020" kindref="member">_undefined</ref>(</highlight><highlight class="stringliteral">&quot;there<sp/>is<sp/>no<sp/>previous<sp/>item&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="516"><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a0f815fddf756a80893f392a4a2542dfa" kindref="member">_before</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac1fe8420403fab6ccf8203943df3daa2" kindref="member">_before</ref></highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a97ab6502f87cd13f6c0262114a0bf651" kindref="member">nextitem</ref>(self)<sp/>-&gt;<sp/>t.Union[t.Any,<sp/>&quot;Undefined&quot;]:</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>item<sp/>in<sp/>the<sp/>next<sp/>iteration.<sp/>Undefined<sp/>during<sp/>the<sp/>last</highlight></codeline>
<codeline lineno="522"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iteration.</highlight></codeline>
<codeline lineno="523"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="524"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Causes<sp/>the<sp/>iterable<sp/>to<sp/>advance<sp/>early.<sp/>See</highlight></codeline>
<codeline lineno="525"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:func:`itertools.groupby`<sp/>for<sp/>issues<sp/>this<sp/>can<sp/>cause.</highlight></codeline>
<codeline lineno="526"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>:func:`jinja-filters.groupby`<sp/>filter<sp/>avoids<sp/>that<sp/>issue.</highlight></codeline>
<codeline lineno="527"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a808630db991e0f1195951dc2ef18f39c" kindref="member">_peek_next</ref>()</highlight></codeline>
<codeline lineno="529"><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>rv<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ae02907515ca9a41bb9e8fca9417a4020" kindref="member">_undefined</ref>(</highlight><highlight class="stringliteral">&quot;there<sp/>is<sp/>no<sp/>next<sp/>item&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="532"><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv</highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">cycle(self,<sp/>*args:<sp/>V)<sp/>-&gt;<sp/>V:</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>a<sp/>value<sp/>from<sp/>the<sp/>given<sp/>args,<sp/>cycling<sp/>through<sp/>based<sp/>on</highlight></codeline>
<codeline lineno="537"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>current<sp/>:attr:`index0`.</highlight></codeline>
<codeline lineno="538"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="539"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>args:<sp/>One<sp/>or<sp/>more<sp/>values<sp/>to<sp/>cycle<sp/>through.</highlight></codeline>
<codeline lineno="540"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>args:</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight><highlight class="stringliteral">&quot;no<sp/>items<sp/>for<sp/>cycling<sp/>given&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>args[self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9592a5d5731dd908babb031fee6b502e" kindref="member">index0</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ab5afcb5863131a65df77fd9d2f491a84" kindref="member">index0</ref><sp/>%<sp/>len(args)]</highlight></codeline>
<codeline lineno="545"><highlight class="normal"></highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a64de7afaf69d5d2b3c94dd265d961d64" kindref="member">changed</ref>(self,<sp/>*value:<sp/>t.Any)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Return<sp/>``True``<sp/>if<sp/>previously<sp/>called<sp/>with<sp/>a<sp/>different<sp/>value</highlight></codeline>
<codeline lineno="548"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(including<sp/>when<sp/>called<sp/>for<sp/>the<sp/>first<sp/>time).</highlight></codeline>
<codeline lineno="549"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="550"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>:param<sp/>value:<sp/>One<sp/>or<sp/>more<sp/>values<sp/>to<sp/>compare<sp/>to<sp/>the<sp/>last<sp/>call.</highlight></codeline>
<codeline lineno="551"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a5c0f3a293e60d7275585c92028b2922b" kindref="member">_last_changed_value</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a1105f93bb5330be4040cec20126f8915" kindref="member">_last_changed_value</ref><sp/>!=<sp/>value:</highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a5c0f3a293e60d7275585c92028b2922b" kindref="member">_last_changed_value</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a1105f93bb5330be4040cec20126f8915" kindref="member">_last_changed_value</ref><sp/>=<sp/>value</highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac7555e417b7f1677139d01258e270cb8" kindref="member">__iter__</ref>(self)<sp/>-&gt;<sp/>&quot;LoopContext&quot;:</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="560"><highlight class="normal"></highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a77b319fae79240b44668dc246d179a43" kindref="member">__next__</ref>(self)<sp/>-&gt;<sp/>t.Tuple[t.Any,<sp/>&quot;LoopContext&quot;]:</highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><sp/>=<sp/>missing</highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>next(self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref>)</highlight></codeline>
<codeline lineno="567"><highlight class="normal"></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9592a5d5731dd908babb031fee6b502e" kindref="member">index0</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ab5afcb5863131a65df77fd9d2f491a84" kindref="member">index0</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a0f815fddf756a80893f392a4a2542dfa" kindref="member">_before</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac1fe8420403fab6ccf8203943df3daa2" kindref="member">_before</ref><sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1abec7a21adfc1b7e4e07261bdc5f29427" kindref="member">_current</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac81006bf88f6f80a862946a6f5fcd308" kindref="member">_current</ref></highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1abec7a21adfc1b7e4e07261bdc5f29427" kindref="member">_current</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac81006bf88f6f80a862946a6f5fcd308" kindref="member">_current</ref><sp/>=<sp/>rv</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv,<sp/>self</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@internalcode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ae51a8a354d867e740753262c5b249bbd" kindref="member">__call__</ref>(self,<sp/>iterable:<sp/>t.Iterable[V])<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;When<sp/>iterating<sp/>over<sp/>nested<sp/>data,<sp/>render<sp/>the<sp/>body<sp/>of<sp/>the<sp/>loop</highlight></codeline>
<codeline lineno="576"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>recursively<sp/>with<sp/>the<sp/>given<sp/>inner<sp/>iterable<sp/>data.</highlight></codeline>
<codeline lineno="577"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="578"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>loop<sp/>must<sp/>have<sp/>the<sp/>``recursive``<sp/>marker<sp/>for<sp/>this<sp/>to<sp/>work.</highlight></codeline>
<codeline lineno="579"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ad8ec20f374d487b73977416b7a2e663f" kindref="member">_recurse</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;The<sp/>loop<sp/>must<sp/>have<sp/>the<sp/>&apos;recursive&apos;<sp/>marker<sp/>to<sp/>be<sp/>called<sp/>recursively.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ad8ec20f374d487b73977416b7a2e663f" kindref="member">_recurse</ref>(iterable,<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ad8ec20f374d487b73977416b7a2e663f" kindref="member">_recurse</ref>,<sp/>depth=self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a765fef521c0f9a998f8e35d3ac787389" kindref="member">depth</ref>)</highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a7d640ac6b71a0d9178aa7a6bb9835591" kindref="member">__repr__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&quot;&lt;{type(self).__name__}<sp/>{self.index}/{self.length}&gt;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="589"><highlight class="normal"></highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591" refid="classjinja2_1_1runtime_1_1AsyncLoopContext" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext" kindref="compound">AsyncLoopContext</ref>(<ref refid="classjinja2_1_1runtime_1_1LoopContext" kindref="compound">LoopContext</ref>):</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/>_iterator:<sp/>t.AsyncIterator[t.Any]<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@staticmethod</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a436bee75d3bad6724a5898d6f07b47bd" kindref="member">_to_iterator</ref>(<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterable:<sp/>t.Union[t.Iterable[V],<sp/>t.AsyncIterable[V]],</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/>t.AsyncIterator[V]:</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>auto_aiter(iterable)</highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa398e1471064fad5328fb3b68e64f03e" kindref="member">length</ref>(self)<sp/>-&gt;<sp/>int:<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a687e659e28782915bb900e6c67a41c29" kindref="member">_length</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a687e659e28782915bb900e6c67a41c29" kindref="member">_length</ref></highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a687e659e28782915bb900e6c67a41c29" kindref="member">_length</ref><sp/>=<sp/>len(self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9270f4eb7a83592996e91a643da2e21f" kindref="member">_iterable</ref>)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>iterable<sp/>=<sp/>[x<sp/></highlight><highlight class="keyword">async</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa23df088207003f058df8a27b8025c6e" kindref="member">_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa18f6b326a390c98959e6018031cab61" kindref="member">_iterator</ref>]</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa23df088207003f058df8a27b8025c6e" kindref="member">_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa18f6b326a390c98959e6018031cab61" kindref="member">_iterator</ref><sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a51ef9ff06403e815f5ff13531df279be" kindref="member">_to_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a436bee75d3bad6724a5898d6f07b47bd" kindref="member">_to_iterator</ref>(iterable)</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a687e659e28782915bb900e6c67a41c29" kindref="member">_length</ref><sp/>=<sp/>len(iterable)<sp/>+<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1acfe28ac6b59808eb306c79ecb0e73016" kindref="member">index</ref><sp/>+<sp/>(self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>missing)</highlight></codeline>
<codeline lineno="611"><highlight class="normal"></highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1afdaf9f54341b7757b10e1286cb92a6b4" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1a3a90fd62871551e7aaba54d554ccaf72" kindref="member">_length</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a687e659e28782915bb900e6c67a41c29" kindref="member">_length</ref></highlight></codeline>
<codeline lineno="613"><highlight class="normal"></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a43b878d12c127d7e68c88a95205f0f6d" kindref="member">revindex0</ref>(self)<sp/>-&gt;<sp/>int:<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a55b87ba65f7a32cbbc07869f4db16b87" kindref="member">length</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa398e1471064fad5328fb3b68e64f03e" kindref="member">length</ref><sp/>-<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1acfe28ac6b59808eb306c79ecb0e73016" kindref="member">index</ref></highlight></codeline>
<codeline lineno="617"><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1af03471db9f7a82842d8492997846d8c5" kindref="member">revindex</ref>(self)<sp/>-&gt;<sp/>int:<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a55b87ba65f7a32cbbc07869f4db16b87" kindref="member">length</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa398e1471064fad5328fb3b68e64f03e" kindref="member">length</ref><sp/>-<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9592a5d5731dd908babb031fee6b502e" kindref="member">index0</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ab5afcb5863131a65df77fd9d2f491a84" kindref="member">index0</ref></highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1ad1fc98b2df08d47efe7de1e772329c46" kindref="member">_peek_next</ref>(self)<sp/>-&gt;<sp/>t.Any:</highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref></highlight></codeline>
<codeline lineno="625"><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref><sp/>=<sp/>await<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa23df088207003f058df8a27b8025c6e" kindref="member">_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa18f6b326a390c98959e6018031cab61" kindref="member">_iterator</ref>.<ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a17512ceb52079988c17d62cd5006d2d3" kindref="member">__anext__</ref>()</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>StopAsyncIteration:</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref><sp/>=<sp/>missing</highlight></codeline>
<codeline lineno="630"><highlight class="normal"></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref></highlight></codeline>
<codeline lineno="632"><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a05f57faf024be94ac20433548b6d1b13" kindref="member">last</ref>(self)<sp/>-&gt;<sp/>bool:<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>await<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a808630db991e0f1195951dc2ef18f39c" kindref="member">_peek_next</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1ad1fc98b2df08d47efe7de1e772329c46" kindref="member">_peek_next</ref>()<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>missing</highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1ac2a384cea42163ef13deb2449b93bb61" kindref="member">nextitem</ref>(self)<sp/>-&gt;<sp/>t.Union[t.Any,<sp/>&quot;Undefined&quot;]:</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>await<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a808630db991e0f1195951dc2ef18f39c" kindref="member">_peek_next</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1ad1fc98b2df08d47efe7de1e772329c46" kindref="member">_peek_next</ref>()</highlight></codeline>
<codeline lineno="640"><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>rv<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ae02907515ca9a41bb9e8fca9417a4020" kindref="member">_undefined</ref>(</highlight><highlight class="stringliteral">&quot;there<sp/>is<sp/>no<sp/>next<sp/>item&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="643"><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv</highlight></codeline>
<codeline lineno="645"><highlight class="normal"></highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a23ec3efc3517241b53585c7bd3eaa747" kindref="member">__aiter__</ref>(self)<sp/>-&gt;<sp/>&quot;AsyncLoopContext&quot;:</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="648"><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a17512ceb52079988c17d62cd5006d2d3" kindref="member">__anext__</ref>(self)<sp/>-&gt;<sp/>t.Tuple[t.Any,<sp/>&quot;AsyncLoopContext&quot;]:</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref></highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a66772fafd45a91f14f3c14c589539328" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1abbf6351ea1e9248d18816e062c60692c" kindref="member">_after</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a00d7b03b9df6ea2c63138b88312780b8" kindref="member">_after</ref><sp/>=<sp/>missing</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>await<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac57beac4511223e527a11687a900bf63" kindref="member">_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa23df088207003f058df8a27b8025c6e" kindref="member">_iterator</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1aa18f6b326a390c98959e6018031cab61" kindref="member">_iterator</ref>.<ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a17512ceb52079988c17d62cd5006d2d3" kindref="member">__anext__</ref>()</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a9592a5d5731dd908babb031fee6b502e" kindref="member">index0</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ab5afcb5863131a65df77fd9d2f491a84" kindref="member">index0</ref><sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="657"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1a0f815fddf756a80893f392a4a2542dfa" kindref="member">_before</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac1fe8420403fab6ccf8203943df3daa2" kindref="member">_before</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1a5b5c30ef55ecbbd5849f2dbf1964ad0f" kindref="member">_before</ref><sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1abec7a21adfc1b7e4e07261bdc5f29427" kindref="member">_current</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac81006bf88f6f80a862946a6f5fcd308" kindref="member">_current</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1ad7d2d22a2f348391f43ee5777185e043" kindref="member">_current</ref></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1LoopContext_1abec7a21adfc1b7e4e07261bdc5f29427" kindref="member">_current</ref><ref refid="classjinja2_1_1runtime_1_1LoopContext_1ac81006bf88f6f80a862946a6f5fcd308" kindref="member">_current</ref><ref refid="classjinja2_1_1runtime_1_1AsyncLoopContext_1ad7d2d22a2f348391f43ee5777185e043" kindref="member">_current</ref><sp/>=<sp/>rv</highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv,<sp/>self</highlight></codeline>
<codeline lineno="660"><highlight class="normal"></highlight></codeline>
<codeline lineno="661"><highlight class="normal"></highlight></codeline>
<codeline lineno="662" refid="classjinja2_1_1runtime_1_1Macro" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Macro" kindref="compound">Macro</ref>:</highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Wraps<sp/>a<sp/>macro<sp/>function.&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="664"><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Macro_1af72a93cfab42ea865227893927d1e5d8" kindref="member">__init__</ref>(</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>environment:<sp/></highlight><highlight class="stringliteral">&quot;Environment&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func:<sp/>t.Callable[...,<sp/>str],</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name:<sp/>str,</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>arguments:<sp/>t.List[str],</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catch_kwargs:<sp/>bool,</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>catch_varargs:<sp/>bool,</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caller:<sp/>bool,</highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default_autoescape:<sp/>t.Optional[bool]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/>):</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a0fe091b57ca60a14cc4ca61e82354268" kindref="member">_environment</ref><sp/>=<sp/>environment</highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a487a9dc5b53592e747d8daee248ba07f" kindref="member">_func</ref><sp/>=<sp/>func</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1abf106c262f68bfa91964af9ac1073495" kindref="member">_argument_count</ref><sp/>=<sp/>len(arguments)</highlight></codeline>
<codeline lineno="679"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1ad74f3cfad9c181b4e88228b0b9f52387" kindref="member">name</ref><sp/>=<sp/>name</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1abf7963f74e8ce397fe5149804331781f" kindref="member">arguments</ref><sp/>=<sp/>arguments</highlight></codeline>
<codeline lineno="681"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1ab0db036597dc65ec69cc8a74247916b8" kindref="member">catch_kwargs</ref><sp/>=<sp/>catch_kwargs</highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a8495ea5b4d71c7bdc81037284c3221bd" kindref="member">catch_varargs</ref><sp/>=<sp/>catch_varargs</highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a23ac2c3b7d1539d23293515018c03075" kindref="member">caller</ref><sp/>=<sp/>caller</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a61d13ab54e6c9fd2884bcd52c4a0d8e2" kindref="member">explicit_caller</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;caller&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>arguments</highlight></codeline>
<codeline lineno="685"><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>default_autoescape<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>callable(environment.autoescape):</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default_autoescape<sp/>=<sp/>environment.autoescape(</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="690"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>default_autoescape<sp/>=<sp/>environment.autoescape</highlight></codeline>
<codeline lineno="691"><highlight class="normal"></highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1aa063596db3a093b36335efc7fba47684" kindref="member">_default_autoescape</ref><sp/>=<sp/>default_autoescape</highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@internalcode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@pass_eval_context</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Macro_1a6e4929fb0d84898a2aede99d8c3aa7bc" kindref="member">__call__</ref>(self,<sp/>*args:<sp/>t.Any,<sp/>**kwargs:<sp/>t.Any)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>This<sp/>requires<sp/>a<sp/>bit<sp/>of<sp/>explanation,<sp/><sp/>In<sp/>the<sp/>past<sp/>we<sp/>used<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>decide<sp/>largely<sp/>based<sp/>on<sp/>compile-time<sp/>information<sp/>if<sp/>a<sp/>macro<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>safe<sp/>or<sp/>unsafe.<sp/><sp/>While<sp/>there<sp/>was<sp/>a<sp/>volatile<sp/>mode<sp/>it<sp/>was<sp/>largely</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>unused<sp/>for<sp/>deciding<sp/>on<sp/>escaping.<sp/><sp/>This<sp/>turns<sp/>out<sp/>to<sp/>be</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>problematic<sp/>for<sp/>macros<sp/>because<sp/>whether<sp/>a<sp/>macro<sp/>is<sp/>safe<sp/>depends<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="702"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>on<sp/>the<sp/>escape<sp/>mode<sp/>when<sp/>it<sp/>was<sp/>defined,<sp/>but<sp/>rather<sp/>when<sp/>it<sp/>was<sp/>used.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="703"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Because<sp/>however<sp/>we<sp/>export<sp/>macros<sp/>from<sp/>the<sp/>module<sp/>system<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="705"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>there<sp/>are<sp/>historic<sp/>callers<sp/>that<sp/>do<sp/>not<sp/>pass<sp/>an<sp/>eval<sp/>context<sp/>(and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>will<sp/>continue<sp/>to<sp/>not<sp/>pass<sp/>one),<sp/>we<sp/>need<sp/>to<sp/>perform<sp/>an<sp/>instance</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>check<sp/>here.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="709"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>This<sp/>is<sp/>considered<sp/>safe<sp/>because<sp/>an<sp/>eval<sp/>context<sp/>is<sp/>not<sp/>a<sp/>valid</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>argument<sp/>to<sp/>callables<sp/>otherwise<sp/>anyway.<sp/><sp/>Worst<sp/>case<sp/>here<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>that<sp/>if<sp/>no<sp/>eval<sp/>context<sp/>is<sp/>passed<sp/>we<sp/>fall<sp/>back<sp/>to<sp/>the<sp/>compile</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>time<sp/>autoescape<sp/>flag.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>args<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>isinstance(args[0],<sp/>EvalContext):</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>autoescape<sp/>=<sp/>args[0].autoescape</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>args<sp/>=<sp/>args[1:]</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>autoescape<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1aa063596db3a093b36335efc7fba47684" kindref="member">_default_autoescape</ref></highlight></codeline>
<codeline lineno="718"><highlight class="normal"></highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>try<sp/>to<sp/>consume<sp/>the<sp/>positional<sp/>arguments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>arguments<sp/>=<sp/>list(args[:<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1abf106c262f68bfa91964af9ac1073495" kindref="member">_argument_count</ref>])</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>off<sp/>=<sp/>len(arguments)</highlight></codeline>
<codeline lineno="722"><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>For<sp/>information<sp/>why<sp/>this<sp/>is<sp/>necessary<sp/>refer<sp/>to<sp/>the<sp/>handling</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>of<sp/>caller<sp/>in<sp/>the<sp/>`macro_body`<sp/>handler<sp/>in<sp/>the<sp/>compiler.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found_caller<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="726"><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>if<sp/>the<sp/>number<sp/>of<sp/>arguments<sp/>consumed<sp/>is<sp/>not<sp/>the<sp/>number<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="728"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>arguments<sp/>expected<sp/>we<sp/>start<sp/>filling<sp/>in<sp/>keyword<sp/>arguments</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="729"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>and<sp/>defaults.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>off<sp/>!=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1abf106c262f68bfa91964af9ac1073495" kindref="member">_argument_count</ref>:</highlight></codeline>
<codeline lineno="731"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>name<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1abf7963f74e8ce397fe5149804331781f" kindref="member">arguments</ref>[len(arguments)<sp/>:]:</highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>kwargs.pop(name)</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>KeyError:</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>missing</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>name<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;caller&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found_caller<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>arguments.append(value)</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="740"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>found_caller<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a61d13ab54e6c9fd2884bcd52c4a0d8e2" kindref="member">explicit_caller</ref></highlight></codeline>
<codeline lineno="741"><highlight class="normal"></highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>it&apos;s<sp/>important<sp/>that<sp/>the<sp/>order<sp/>of<sp/>these<sp/>arguments<sp/>does<sp/>not<sp/>change</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="743"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>if<sp/>not<sp/>also<sp/>changed<sp/>in<sp/>the<sp/>compiler&apos;s<sp/>`function_scoping`<sp/>method.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>the<sp/>order<sp/>is<sp/>caller,<sp/>keyword<sp/>arguments,<sp/>positional<sp/>arguments!</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a23ac2c3b7d1539d23293515018c03075" kindref="member">caller</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>found_caller:</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caller<sp/>=<sp/>kwargs.pop(</highlight><highlight class="stringliteral">&quot;caller&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="747"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>caller<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caller<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a0fe091b57ca60a14cc4ca61e82354268" kindref="member">_environment</ref>.undefined(</highlight><highlight class="stringliteral">&quot;No<sp/>caller<sp/>defined&quot;</highlight><highlight class="normal">,<sp/>name=</highlight><highlight class="stringliteral">&quot;caller&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="749"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>arguments.append(caller)</highlight></codeline>
<codeline lineno="750"><highlight class="normal"></highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1ab0db036597dc65ec69cc8a74247916b8" kindref="member">catch_kwargs</ref>:</highlight></codeline>
<codeline lineno="752"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>arguments.append(kwargs)</highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>kwargs:</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;caller&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>kwargs:</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;macro<sp/>{self.name!r}<sp/>was<sp/>invoked<sp/>with<sp/>two<sp/>values<sp/>for<sp/>the<sp/>special&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;<sp/>caller<sp/>argument.<sp/>This<sp/>is<sp/>most<sp/>likely<sp/>a<sp/>bug.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="758"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="759"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;macro<sp/>{self.name!r}<sp/>takes<sp/>no<sp/>keyword<sp/>argument<sp/>{next(iter(kwargs))!r}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="761"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a8495ea5b4d71c7bdc81037284c3221bd" kindref="member">catch_varargs</ref>:</highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>arguments.append(args[self.<ref refid="classjinja2_1_1runtime_1_1Macro_1abf106c262f68bfa91964af9ac1073495" kindref="member">_argument_count</ref><sp/>:])</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>len(args)<sp/>&gt;<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1abf106c262f68bfa91964af9ac1073495" kindref="member">_argument_count</ref>:</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>TypeError(</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;macro<sp/>{self.name!r}<sp/>takes<sp/>not<sp/>more<sp/>than&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;<sp/>{len(self.arguments)}<sp/>argument(s)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="769"><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1aa9d6172618a280b8a3b4f07f01b5b897" kindref="member">_invoke</ref>(arguments,<sp/>autoescape)</highlight></codeline>
<codeline lineno="771"><highlight class="normal"></highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Macro_1a411e31aaffa13ae51b3c3ed79b94853b" kindref="member">_async_invoke</ref>(self,<sp/>arguments:<sp/>t.List[t.Any],<sp/>autoescape:<sp/>bool)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="773"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>await<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a487a9dc5b53592e747d8daee248ba07f" kindref="member">_func</ref>(*arguments)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"></highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>autoescape:</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classmarkupsafe_1_1Markup" kindref="compound">Markup</ref>(rv)</highlight></codeline>
<codeline lineno="777"><highlight class="normal"></highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="779"><highlight class="normal"></highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Macro_1aa9d6172618a280b8a3b4f07f01b5b897" kindref="member">_invoke</ref>(self,<sp/>arguments:<sp/>t.List[t.Any],<sp/>autoescape:<sp/>bool)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a0fe091b57ca60a14cc4ca61e82354268" kindref="member">_environment</ref>.is_async:</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a411e31aaffa13ae51b3c3ed79b94853b" kindref="member">_async_invoke</ref>(arguments,<sp/>autoescape)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="783"><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1a487a9dc5b53592e747d8daee248ba07f" kindref="member">_func</ref>(*arguments)</highlight></codeline>
<codeline lineno="785"><highlight class="normal"></highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>autoescape:</highlight></codeline>
<codeline lineno="787"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rv<sp/>=<sp/><ref refid="classmarkupsafe_1_1Markup" kindref="compound">Markup</ref>(rv)</highlight></codeline>
<codeline lineno="788"><highlight class="normal"></highlight></codeline>
<codeline lineno="789"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rv</highlight></codeline>
<codeline lineno="790"><highlight class="normal"></highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Macro_1a472daf8868e84722d53ca511065a08b6" kindref="member">__repr__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="792"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;anonymous&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Macro_1ad74f3cfad9c181b4e88228b0b9f52387" kindref="member">name</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>repr(self.<ref refid="classjinja2_1_1runtime_1_1Macro_1ad74f3cfad9c181b4e88228b0b9f52387" kindref="member">name</ref>)</highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&quot;&lt;{type(self).__name__}<sp/>{name}&gt;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="794"><highlight class="normal"></highlight></codeline>
<codeline lineno="795"><highlight class="normal"></highlight></codeline>
<codeline lineno="796" refid="classjinja2_1_1runtime_1_1Undefined" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined" kindref="compound">Undefined</ref>:</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;The<sp/>default<sp/>undefined<sp/>type.<sp/>This<sp/>can<sp/>be<sp/>printed,<sp/>iterated,<sp/>and<sp/>treated<sp/>as</highlight></codeline>
<codeline lineno="798"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>a<sp/>boolean.<sp/>Any<sp/>other<sp/>operation<sp/>will<sp/>raise<sp/>an<sp/>:exc:`UndefinedError`.</highlight></codeline>
<codeline lineno="799"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="800"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>foo<sp/>=<sp/>Undefined(name=&apos;foo&apos;)</highlight></codeline>
<codeline lineno="801"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>str(foo)</highlight></codeline>
<codeline lineno="802"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;</highlight></codeline>
<codeline lineno="803"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>not<sp/>foo</highlight></codeline>
<codeline lineno="804"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="805"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>foo<sp/>+<sp/>42</highlight></codeline>
<codeline lineno="806"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="807"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="808"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>jinja2.exceptions.UndefinedError:<sp/>&apos;foo&apos;<sp/>is<sp/>undefined</highlight></codeline>
<codeline lineno="809"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="810"><highlight class="normal"></highlight></codeline>
<codeline lineno="811"><highlight class="normal"><sp/><sp/><sp/><sp/>__slots__<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;_undefined_hint&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;_undefined_obj&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;_undefined_name&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;_undefined_exception&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="817"><highlight class="normal"></highlight></codeline>
<codeline lineno="818"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1af9dbe86be6f4e915f30e497a5a67f830" kindref="member">__init__</ref>(</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,</highlight></codeline>
<codeline lineno="820"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hint:<sp/>t.Optional[str]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>obj:<sp/>t.Any<sp/>=<sp/>missing,</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>name:<sp/>t.Optional[str]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exc:<sp/>t.Type[TemplateRuntimeError]<sp/>=<sp/>UndefinedError,</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a244c68e97343487bea9878be33961029" kindref="member">_undefined_hint</ref><sp/>=<sp/>hint</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a0947ba9192a7f06a496e48add07cc01c" kindref="member">_undefined_obj</ref><sp/>=<sp/>obj</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a0e554669919c3cd4d2089a877176bba3" kindref="member">_undefined_name</ref><sp/>=<sp/>name</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a437391a88d6451cb0d2a4e6fda86d7e2" kindref="member">_undefined_exception</ref><sp/>=<sp/>exc</highlight></codeline>
<codeline lineno="829"><highlight class="normal"></highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@property</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a391ccfc702be70f8c203a4be0ae8b899" kindref="member">_undefined_message</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Build<sp/>a<sp/>message<sp/>about<sp/>the<sp/>undefined<sp/>value<sp/>based<sp/>on<sp/>how<sp/>it<sp/>was</highlight></codeline>
<codeline lineno="833"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>accessed.</highlight></codeline>
<codeline lineno="834"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="835"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a244c68e97343487bea9878be33961029" kindref="member">_undefined_hint</ref>:</highlight></codeline>
<codeline lineno="836"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a244c68e97343487bea9878be33961029" kindref="member">_undefined_hint</ref></highlight></codeline>
<codeline lineno="837"><highlight class="normal"></highlight></codeline>
<codeline lineno="838"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a0947ba9192a7f06a496e48add07cc01c" kindref="member">_undefined_obj</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&quot;{self._undefined_name!r}<sp/>is<sp/>undefined&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="840"><highlight class="normal"></highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>isinstance(self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a0e554669919c3cd4d2089a877176bba3" kindref="member">_undefined_name</ref>,<sp/>str):</highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;{object_type_repr(self._undefined_obj)}<sp/>has<sp/>no&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="844"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;<sp/>element<sp/>{self._undefined_name!r}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="845"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="846"><highlight class="normal"></highlight></codeline>
<codeline lineno="847"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;{object_type_repr(self._undefined_obj)!r}<sp/>has<sp/>no&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;<sp/>attribute<sp/>{self._undefined_name!r}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="851"><highlight class="normal"></highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@internalcode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="853"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a016a637ab04793a6dcc75979af5a3ea6" kindref="member">_fail_with_undefined_error</ref>(</highlight></codeline>
<codeline lineno="854"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,<sp/>*args:<sp/>t.Any,<sp/>**kwargs:<sp/>t.Any</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="stringliteral">&quot;te.NoReturn&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="856"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Raise<sp/>an<sp/>:exc:`UndefinedError`<sp/>when<sp/>operations<sp/>are<sp/>performed</highlight></codeline>
<codeline lineno="857"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>on<sp/>the<sp/>undefined<sp/>value.</highlight></codeline>
<codeline lineno="858"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a437391a88d6451cb0d2a4e6fda86d7e2" kindref="member">_undefined_exception</ref>(self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a391ccfc702be70f8c203a4be0ae8b899" kindref="member">_undefined_message</ref><ref refid="classjinja2_1_1runtime_1_1Undefined_1aabb255113b922b275cd184482bdd7629" kindref="member">_undefined_message</ref>)</highlight></codeline>
<codeline lineno="860"><highlight class="normal"></highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="preprocessor">@internalcode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a72b5c6477bf9448a483d62a30b9abcd8" kindref="member">__getattr__</ref>(self,<sp/>name:<sp/>str)<sp/>-&gt;<sp/>t.Any:</highlight></codeline>
<codeline lineno="863"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Raise<sp/>AttributeError<sp/>on<sp/>requests<sp/>for<sp/>names<sp/>that<sp/>appear<sp/>to<sp/>be<sp/>unimplemented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>dunder<sp/>methods<sp/>to<sp/>keep<sp/>Python&apos;s<sp/>internal<sp/>protocol<sp/>probing<sp/>behaviors<sp/>working</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="865"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>properly<sp/>in<sp/>cases<sp/>where<sp/>another<sp/>exception<sp/>type<sp/>could<sp/>cause<sp/>unexpected<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>difficult-to-diagnose<sp/>failures.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>name[:2]<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;__&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>name[-2:]<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;__&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>AttributeError(name)</highlight></codeline>
<codeline lineno="869"><highlight class="normal"></highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a016a637ab04793a6dcc75979af5a3ea6" kindref="member">_fail_with_undefined_error</ref>()</highlight></codeline>
<codeline lineno="871"><highlight class="normal"></highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/>__add__<sp/>=<sp/>__radd__<sp/>=<sp/>__sub__<sp/>=<sp/>__rsub__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/>__mul__<sp/>=<sp/>__rmul__<sp/>=<sp/>__div__<sp/>=<sp/>__rdiv__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/>__truediv__<sp/>=<sp/>__rtruediv__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/>__floordiv__<sp/>=<sp/>__rfloordiv__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/>__mod__<sp/>=<sp/>__rmod__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/>__pos__<sp/>=<sp/>__neg__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="878"><highlight class="normal"><sp/><sp/><sp/><sp/>__call__<sp/>=<sp/>__getitem__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/>__lt__<sp/>=<sp/>__le__<sp/>=<sp/>__gt__<sp/>=<sp/>__ge__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="880"><highlight class="normal"><sp/><sp/><sp/><sp/>__int__<sp/>=<sp/>__float__<sp/>=<sp/>__complex__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="881"><highlight class="normal"><sp/><sp/><sp/><sp/>__pow__<sp/>=<sp/>__rpow__<sp/>=<sp/>_fail_with_undefined_error</highlight></codeline>
<codeline lineno="882"><highlight class="normal"></highlight></codeline>
<codeline lineno="883"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a9d96597b6e5b540b3058cfea615a3e75" kindref="member">__eq__</ref>(self,<sp/>other:<sp/>t.Any)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>type(self)<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>type(other)</highlight></codeline>
<codeline lineno="885"><highlight class="normal"></highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a886f6a8e399bb90da7870913af46657c" kindref="member">__ne__</ref>(self,<sp/>other:<sp/>t.Any)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a9d96597b6e5b540b3058cfea615a3e75" kindref="member">__eq__</ref>(other)</highlight></codeline>
<codeline lineno="888"><highlight class="normal"></highlight></codeline>
<codeline lineno="889"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1ab11df9936799c4538bf27feef022b551" kindref="member">__hash__</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="890"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>id(type(self))</highlight></codeline>
<codeline lineno="891"><highlight class="normal"></highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1aacd423aa7d5d8f016a2fff83ed2f99a3" kindref="member">__str__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="894"><highlight class="normal"></highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a95a510432e125e4c0717353e14e2a1cb" kindref="member">__len__</ref>(self)<sp/>-&gt;<sp/>int:</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0</highlight></codeline>
<codeline lineno="897"><highlight class="normal"></highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a3dece2f24a8ed3d03e69805c06ebdbe0" kindref="member">__iter__</ref>(self)<sp/>-&gt;<sp/>t.Iterator[t.Any]:</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>()</highlight></codeline>
<codeline lineno="900"><highlight class="normal"></highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">async<sp/>def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a14437a4eda48deb10d566267f515ad0b" kindref="member">__aiter__</ref>(self)<sp/>-&gt;<sp/>t.AsyncIterator[t.Any]:</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>_<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>():</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">yield</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="904"><highlight class="normal"></highlight></codeline>
<codeline lineno="905"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1af0258682d01d8bffd9f460a428006f14" kindref="member">__bool__</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="907"><highlight class="normal"></highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a97a4664365bd1844e41a89be99b42376" kindref="member">__repr__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Undefined&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="910"><highlight class="normal"></highlight></codeline>
<codeline lineno="911"><highlight class="normal"></highlight></codeline>
<codeline lineno="912"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">make_logging_undefined(</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/>logger:<sp/>t.Optional[</highlight><highlight class="stringliteral">&quot;logging.Logger&quot;</highlight><highlight class="normal">]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">,<sp/>base:<sp/>t.Type[Undefined]<sp/>=<sp/>Undefined</highlight></codeline>
<codeline lineno="914"><highlight class="normal">)<sp/>-&gt;<sp/>t.Type[Undefined]:</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;Given<sp/>a<sp/>logger<sp/>object<sp/>this<sp/>returns<sp/>a<sp/>new<sp/>undefined<sp/>class<sp/>that<sp/>will</highlight></codeline>
<codeline lineno="916"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>log<sp/>certain<sp/>failures.<sp/><sp/>It<sp/>will<sp/>log<sp/>iterations<sp/>and<sp/>printing.<sp/><sp/>If<sp/>no</highlight></codeline>
<codeline lineno="917"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>logger<sp/>is<sp/>given<sp/>a<sp/>default<sp/>logger<sp/>is<sp/>created.</highlight></codeline>
<codeline lineno="918"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="919"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Example::</highlight></codeline>
<codeline lineno="920"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="921"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger<sp/>=<sp/>logging.getLogger(__name__)</highlight></codeline>
<codeline lineno="922"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LoggingUndefined<sp/>=<sp/>make_logging_undefined(</highlight></codeline>
<codeline lineno="923"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger=logger,</highlight></codeline>
<codeline lineno="924"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>base=Undefined</highlight></codeline>
<codeline lineno="925"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="926"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="927"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>..<sp/>versionadded::<sp/>2.8</highlight></codeline>
<codeline lineno="928"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="929"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>logger:<sp/>the<sp/>logger<sp/>to<sp/>use.<sp/><sp/>If<sp/>not<sp/>provided,<sp/>a<sp/>default<sp/>logger</highlight></codeline>
<codeline lineno="930"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is<sp/>created.</highlight></codeline>
<codeline lineno="931"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:param<sp/>base:<sp/>the<sp/>base<sp/>class<sp/>to<sp/>add<sp/>logging<sp/>functionality<sp/>to.<sp/><sp/>This</highlight></codeline>
<codeline lineno="932"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>defaults<sp/>to<sp/>:class:`Undefined`.</highlight></codeline>
<codeline lineno="933"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="934"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>logger<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="935"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>logging</highlight></codeline>
<codeline lineno="936"><highlight class="normal"></highlight></codeline>
<codeline lineno="937"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger<sp/>=<sp/>logging.getLogger(__name__)</highlight></codeline>
<codeline lineno="938"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger.addHandler(logging.StreamHandler(sys.stderr))</highlight></codeline>
<codeline lineno="939"><highlight class="normal"></highlight></codeline>
<codeline lineno="940"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">_log_message(undef:<sp/>Undefined)<sp/>-&gt;<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger.warning(</highlight><highlight class="stringliteral">&quot;Template<sp/>variable<sp/>warning:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>undef._undefined_message)</highlight></codeline>
<codeline lineno="942"><highlight class="normal"></highlight></codeline>
<codeline lineno="943"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">LoggingUndefined(base):<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="944"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>__slots__<sp/>=<sp/>()</highlight></codeline>
<codeline lineno="945"><highlight class="normal"></highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a016a637ab04793a6dcc75979af5a3ea6" kindref="member">_fail_with_undefined_error</ref>(<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="947"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self,<sp/>*args:<sp/>t.Any,<sp/>**kwargs:<sp/>t.Any</highlight></codeline>
<codeline lineno="948"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>-&gt;<sp/></highlight><highlight class="stringliteral">&quot;te.NoReturn&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="949"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>super().<ref refid="classjinja2_1_1runtime_1_1Undefined_1a016a637ab04793a6dcc75979af5a3ea6" kindref="member">_fail_with_undefined_error</ref>(*args,<sp/>**kwargs)</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a437391a88d6451cb0d2a4e6fda86d7e2" kindref="member">_undefined_exception</ref><sp/></highlight><highlight class="keyword">as</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>logger.error(</highlight><highlight class="stringliteral">&quot;Template<sp/>variable<sp/>error:<sp/>%s&quot;</highlight><highlight class="normal">,<sp/>e)<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>e</highlight></codeline>
<codeline lineno="954"><highlight class="normal"></highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1aacd423aa7d5d8f016a2fff83ed2f99a3" kindref="member">__str__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_log_message(self)</highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>super().<ref refid="classjinja2_1_1runtime_1_1Undefined_1aacd423aa7d5d8f016a2fff83ed2f99a3" kindref="member">__str__</ref>()<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="958"><highlight class="normal"></highlight></codeline>
<codeline lineno="959"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1a3dece2f24a8ed3d03e69805c06ebdbe0" kindref="member">__iter__</ref>(self)<sp/>-&gt;<sp/>t.Iterator[t.Any]:</highlight></codeline>
<codeline lineno="960"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_log_message(self)</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>super().<ref refid="classjinja2_1_1runtime_1_1Undefined_1a3dece2f24a8ed3d03e69805c06ebdbe0" kindref="member">__iter__</ref>()<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="962"><highlight class="normal"></highlight></codeline>
<codeline lineno="963"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1Undefined_1af0258682d01d8bffd9f460a428006f14" kindref="member">__bool__</ref>(self)<sp/>-&gt;<sp/>bool:</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_log_message(self)</highlight></codeline>
<codeline lineno="965"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>super().<ref refid="classjinja2_1_1runtime_1_1Undefined_1af0258682d01d8bffd9f460a428006f14" kindref="member">__bool__</ref>()<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>LoggingUndefined</highlight></codeline>
<codeline lineno="968"><highlight class="normal"></highlight></codeline>
<codeline lineno="969"><highlight class="normal"></highlight></codeline>
<codeline lineno="970" refid="classjinja2_1_1runtime_1_1ChainableUndefined" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1ChainableUndefined" kindref="compound">ChainableUndefined</ref>(<ref refid="classjinja2_1_1runtime_1_1Undefined" kindref="compound">Undefined</ref>):</highlight></codeline>
<codeline lineno="971"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;An<sp/>undefined<sp/>that<sp/>is<sp/>chainable,<sp/>where<sp/>both<sp/>``__getattr__``<sp/>and</highlight></codeline>
<codeline lineno="972"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>``__getitem__``<sp/>return<sp/>itself<sp/>rather<sp/>than<sp/>raising<sp/>an</highlight></codeline>
<codeline lineno="973"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>:exc:`UndefinedError`.</highlight></codeline>
<codeline lineno="974"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="975"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>foo<sp/>=<sp/>ChainableUndefined(name=&apos;foo&apos;)</highlight></codeline>
<codeline lineno="976"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>str(foo.bar[&apos;baz&apos;])</highlight></codeline>
<codeline lineno="977"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;</highlight></codeline>
<codeline lineno="978"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>foo.bar[&apos;baz&apos;]<sp/>+<sp/>42</highlight></codeline>
<codeline lineno="979"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="980"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="981"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>jinja2.exceptions.UndefinedError:<sp/>&apos;foo&apos;<sp/>is<sp/>undefined</highlight></codeline>
<codeline lineno="982"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="983"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>..<sp/>versionadded::<sp/>2.11.0</highlight></codeline>
<codeline lineno="984"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="985"><highlight class="normal"></highlight></codeline>
<codeline lineno="986"><highlight class="normal"><sp/><sp/><sp/><sp/>__slots__<sp/>=<sp/>()</highlight></codeline>
<codeline lineno="987"><highlight class="normal"></highlight></codeline>
<codeline lineno="988"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1ChainableUndefined_1ae42df24378f7407a45b1fd6514b6c9ee" kindref="member">__html__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="989"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>str(self)</highlight></codeline>
<codeline lineno="990"><highlight class="normal"></highlight></codeline>
<codeline lineno="991"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1ChainableUndefined_1a56e6c972402f073fdc5d303e77571b12" kindref="member">__getattr__</ref>(self,<sp/>name:<sp/>str)<sp/>-&gt;<sp/></highlight><highlight class="stringliteral">&quot;ChainableUndefined&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="992"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Raise<sp/>AttributeError<sp/>on<sp/>requests<sp/>for<sp/>names<sp/>that<sp/>appear<sp/>to<sp/>be<sp/>unimplemented</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>dunder<sp/>methods<sp/>to<sp/>avoid<sp/>confusing<sp/>Python<sp/>with<sp/>truthy<sp/>non-method<sp/>objects<sp/>that</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="994"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>do<sp/>not<sp/>implement<sp/>the<sp/>protocol<sp/>being<sp/>probed<sp/>for.<sp/>e.g.,<sp/>copy.copy(Undefined())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="995"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>fails<sp/>spectacularly<sp/>if<sp/>getattr(Undefined(),<sp/>&apos;__setstate__&apos;)<sp/>returns<sp/>an</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Undefined<sp/>object<sp/>instead<sp/>of<sp/>raising<sp/>AttributeError<sp/>to<sp/>signal<sp/>that<sp/>it<sp/>does<sp/>not</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>support<sp/>that<sp/>style<sp/>of<sp/>object<sp/>initialization.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>name[:2]<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;__&quot;</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>name[-2:]<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;__&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="999"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">raise</highlight><highlight class="normal"><sp/>AttributeError(name)</highlight></codeline>
<codeline lineno="1000"><highlight class="normal"></highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1ChainableUndefined_1a41aa5f2044c6d7faa90b6ad9800c92c6" kindref="member">__getitem__</ref>(self,<sp/>_name:<sp/>str)<sp/>-&gt;<sp/></highlight><highlight class="stringliteral">&quot;ChainableUndefined&quot;</highlight><highlight class="normal">:<sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore[override]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1005"><highlight class="normal"></highlight></codeline>
<codeline lineno="1006"><highlight class="normal"></highlight></codeline>
<codeline lineno="1007" refid="classjinja2_1_1runtime_1_1DebugUndefined" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1DebugUndefined" kindref="compound">DebugUndefined</ref>(<ref refid="classjinja2_1_1runtime_1_1Undefined" kindref="compound">Undefined</ref>):</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;An<sp/>undefined<sp/>that<sp/>returns<sp/>the<sp/>debug<sp/>info<sp/>when<sp/>printed.</highlight></codeline>
<codeline lineno="1009"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1010"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>foo<sp/>=<sp/>DebugUndefined(name=&apos;foo&apos;)</highlight></codeline>
<codeline lineno="1011"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>str(foo)</highlight></codeline>
<codeline lineno="1012"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;{{<sp/>foo<sp/>}}&apos;</highlight></codeline>
<codeline lineno="1013"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>not<sp/>foo</highlight></codeline>
<codeline lineno="1014"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>True</highlight></codeline>
<codeline lineno="1015"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>foo<sp/>+<sp/>42</highlight></codeline>
<codeline lineno="1016"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="1017"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="1018"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>jinja2.exceptions.UndefinedError:<sp/>&apos;foo&apos;<sp/>is<sp/>undefined</highlight></codeline>
<codeline lineno="1019"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1020"><highlight class="normal"></highlight></codeline>
<codeline lineno="1021"><highlight class="normal"><sp/><sp/><sp/><sp/>__slots__<sp/>=<sp/>()</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"></highlight></codeline>
<codeline lineno="1023"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1DebugUndefined_1a74029eed532813c4ddfbd7fbf28c053b" kindref="member">__str__</ref>(self)<sp/>-&gt;<sp/>str:</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a244c68e97343487bea9878be33961029" kindref="member">_undefined_hint</ref>:</highlight></codeline>
<codeline lineno="1025"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>message<sp/>=<sp/>f</highlight><highlight class="stringliteral">&quot;undefined<sp/>value<sp/>printed:<sp/>{self._undefined_hint}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1026"><highlight class="normal"></highlight></codeline>
<codeline lineno="1027"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a0947ba9192a7f06a496e48add07cc01c" kindref="member">_undefined_obj</ref><sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/>missing:</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>message<sp/>=<sp/>self.<ref refid="classjinja2_1_1runtime_1_1Undefined_1a0e554669919c3cd4d2089a877176bba3" kindref="member">_undefined_name</ref><sp/><sp/></highlight><highlight class="comment">#<sp/>type:<sp/>ignore</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1029"><highlight class="normal"></highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1031"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>message<sp/>=<sp/>(</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;no<sp/>such<sp/>element:<sp/>{object_type_repr(self._undefined_obj)}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1033"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>f</highlight><highlight class="stringliteral">&quot;[{self._undefined_name!r}]&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="1035"><highlight class="normal"></highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>f</highlight><highlight class="stringliteral">&quot;{{{{<sp/>{message}<sp/>}}}}&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1037"><highlight class="normal"></highlight></codeline>
<codeline lineno="1038"><highlight class="normal"></highlight></codeline>
<codeline lineno="1039" refid="classjinja2_1_1runtime_1_1StrictUndefined" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classjinja2_1_1runtime_1_1StrictUndefined" kindref="compound">StrictUndefined</ref>(<ref refid="classjinja2_1_1runtime_1_1Undefined" kindref="compound">Undefined</ref>):</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;&quot;&quot;An<sp/>undefined<sp/>that<sp/>barks<sp/>on<sp/>print<sp/>and<sp/>iteration<sp/>as<sp/>well<sp/>as<sp/>boolean</highlight></codeline>
<codeline lineno="1041"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>tests<sp/>and<sp/>all<sp/>kinds<sp/>of<sp/>comparisons.<sp/><sp/>In<sp/>other<sp/>words:<sp/>you<sp/>can<sp/>do<sp/>nothing</highlight></codeline>
<codeline lineno="1042"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>with<sp/>it<sp/>except<sp/>checking<sp/>if<sp/>it&apos;s<sp/>defined<sp/>using<sp/>the<sp/>`defined`<sp/>test.</highlight></codeline>
<codeline lineno="1043"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1044"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>foo<sp/>=<sp/>StrictUndefined(name=&apos;foo&apos;)</highlight></codeline>
<codeline lineno="1045"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>str(foo)</highlight></codeline>
<codeline lineno="1046"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="1047"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="1048"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>jinja2.exceptions.UndefinedError:<sp/>&apos;foo&apos;<sp/>is<sp/>undefined</highlight></codeline>
<codeline lineno="1049"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>not<sp/>foo</highlight></codeline>
<codeline lineno="1050"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="1051"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="1052"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>jinja2.exceptions.UndefinedError:<sp/>&apos;foo&apos;<sp/>is<sp/>undefined</highlight></codeline>
<codeline lineno="1053"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&gt;&gt;&gt;<sp/>foo<sp/>+<sp/>42</highlight></codeline>
<codeline lineno="1054"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>Traceback<sp/>(most<sp/>recent<sp/>call<sp/>last):</highlight></codeline>
<codeline lineno="1055"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline lineno="1056"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>jinja2.exceptions.UndefinedError:<sp/>&apos;foo&apos;<sp/>is<sp/>undefined</highlight></codeline>
<codeline lineno="1057"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&quot;&quot;&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1058"><highlight class="normal"></highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/>__slots__<sp/>=<sp/>()</highlight></codeline>
<codeline lineno="1060"><highlight class="normal"><sp/><sp/><sp/><sp/>__iter__<sp/>=<sp/>__str__<sp/>=<sp/>__len__<sp/>=<sp/>Undefined._fail_with_undefined_error</highlight></codeline>
<codeline lineno="1061"><highlight class="normal"><sp/><sp/><sp/><sp/>__eq__<sp/>=<sp/>__ne__<sp/>=<sp/>__bool__<sp/>=<sp/>__hash__<sp/>=<sp/>Undefined._fail_with_undefined_error</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/>__contains__<sp/>=<sp/>Undefined._fail_with_undefined_error</highlight></codeline>
    </programlisting>
    <location file="docs/venv/lib/python3.12/site-packages/jinja2/runtime.py"/>
  </compounddef>
</doxygen>
